(this.webpackJsonp=this.webpackJsonp||[]).push([[4],{1284:function(e,t,n){e.exports=function(){return new Worker(n.p+"beca3985c7f8d49a00a3.worker.js")}},1363:function(e,t,n){e.exports=function(){return new Worker(n.p+"59ddd82ec75f74c7c238.worker.js")}},1382:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(26),i=n(7),c=n(39),s=n(33),l=n(78),u=n(1230),f=n(124),p=n(895),h=n(1233),d=n.n(h),m=n(1),b=n(36),y=n.n(b),v=n(45),g=n.n(v),O=n(3),w=n(805),E=n.n(w);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return function(e,t,n){t&&j(e.prototype,t)}(n,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{className:E.a.tooltip,placement:m.Gb?"right":"bottom",trigger:Object(O.A)()},o.a.createElement(d.a,{className:E.a.publishSwitcher,onChange:function(t){return e.props.setPublishToKuler(t)},checked:this.props.publish,label:this.props.intl.formatMessage({id:"app.savepanel.publishtocolor"}),disabled:this.props.disabled}),o.a.createElement(g.a,{variant:"info"},o.a.createElement("div",{className:E.a.publishSwitcherTooltipTitle},o.a.createElement(i.a,{id:"app.savepanel.publishswitcher.title.tooltip"})),o.a.createElement("div",{className:E.a.publishSwitcherTooltipInfo},o.a.createElement(i.a,{id:"app.savepanel.publishswitcher.info.tooltip",values:{name:this.props.themeName}})))))}}]),n}(),I=Object(s.b)((function(e){var t=e.save;return{locale:e.user.locale,publish:t.publishToKuler,themeName:t.themeName}}),(function(e){return Object(c.b)({setPublishToKuler:p.g},e)}))(R),A=Object(i.d)(I),T=n(946),M=n(38),_=n.n(M),P=n(892),x=n(948),D=n.n(x),N=n(920),L=n.n(N),B=n(23),H=n(806),U=n.n(H);function F(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=Object(i.d)((function(e){var t=Object(s.c)(),n=Object(s.d)((function(e){return e.save.suggestedTags})),a=Object(s.d)((function(e){return e.save.tagsToSave})),c=Object(s.d)((function(e){return e.create.workflow})),l=[];return Object(r.useEffect)((function(){t(p.i([]))}),[c]),a&&a.length>0&&(l=a.map((function(e){return e.value}))),o.a.createElement("div",{className:"".concat(U.a.tags," ").concat(e.showLargeView&&U.a.tagsGrid)},o.a.createElement(i.a,{id:"app.savepanel.tags"}),o.a.createElement("div",{className:U.a.tagsContent},o.a.createElement(D.a,{placeholder:e.intl.formatMessage({id:"app.savepanel.tags.textfield.placeholder"}),value:l,onChange:function(n){var r={workflow:Object(O.e)(e.ingestWorkflow[0]),subcategory:"".concat(m.Bb.TAG_BOX,":").concat(e.ingestWorkflow[1])};n.length<a.length?(r.value=F(a).filter((function(e){return!n.some((function(t){return t===e}))})),Object(B.a)(m.zb.TAG_REMOVE,{event:r},[m.E])):n.length>a.length&&(r.value=F(n).filter((function(e){return!a.some((function(t){return t===e}))})),Object(B.a)(m.zb.TAG_ADD,{event:r},[m.E])),t(p.i(function(e){return e.map((function(e){return{value:e}}))}(n)))},quiet:!0,className:U.a.tagsBox,disabled:e.disabled}),o.a.createElement("div",{className:U.a.suggestedTags},n.map((function(e,n){return o.a.createElement(_.a,{key:n,onClick:function(){return function(e){t(p.i([].concat(F(a),[{value:e}]))),t(p.d(e))}(e)},className:U.a.suggestedTag,variant:"action",label:e,value:e,icon:o.a.createElement(L.a,{className:U.a.add,size:"XS"})})})))))})),V=n(60),q=n(909),K=function(e){return!(Object(O.q)(e)||0===e.length)},Y=function(e,t){var n=Object(s.c)(),o=Object(s.d)((function(e){return e.create.workflow})),a=Object(s.d)((function(e){return e.create.imageName})),i=function(e,t,n,r){var o="",a="";switch(e){case m.g.THEME:o=n({id:"app.savepanel.enterthemename"}),a=function(e,t){var n="";switch(e){case m.F.ACCESSIBILITY:n=m.K;break;case m.F.IMAGE:n=K(t)?"color theme_".concat(t.split(".")[0]):m.T;break;default:n=m.T}return n}(t,r);break;case m.g.GRADIENT:o=n({id:"app.savepanel.entergradientname"}),a=K(r)?"gradient_".concat(r.split(".")[0]):m.Q}return{placeholder:o,defaultAssetName:a}}(e,o,t.formatMessage,a),c=i.placeholder,l=i.defaultAssetName,u=function(e,t){n(p.h({themeName:e,isUserEnteredName:t}))},f=Object(s.d)((function(e){return e.save.isUserEnteredName})),h=Object(s.d)((function(e){return e.save.themeName}));return Object(r.useEffect)((function(){f&&""!==h||u(l,!1)}),[o,e]),{assetName:h,updateAssetName:u,defaultAssetName:l,placeholder:c}},z=n(99),X=n.n(z),Z=n(758),J=n.n(Z),$=Object(i.d)(Object(r.memo)((function(e){var t=e.isSwatchesEmpty,n=Y(e.assetType,e.intl),r=n.assetName,a=n.updateAssetName,c=n.placeholder;return o.a.createElement("div",{className:J.a.savePanelRow},o.a.createElement(i.a,{id:"app.savepanel.name"}),o.a.createElement(X.a,{className:J.a.themeName,quiet:!0,placeholder:c,value:r,onChange:function(e){return a(e,!0)},disabled:t}))}))),Q=n(922),ee=n(1235),te=n.n(ee),ne=n(102),re=n(32);function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(e,t)||ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce=Object(i.d)((function(e){var t=oe(Object(r.useState)(!1),2),n=t[0],a=t[1],c=oe(Object(r.useState)(!1),2),l=c[0],u=c[1],h=oe(Object(r.useState)(!1),2),d=h[0],b=h[1],y=Object(s.d)((function(e){return e.user.IMSReady})),v=Object(s.d)((function(e){return e.user.isLoggedIn})),g=Object(s.d)((function(e){return e.create.assetType})),w=Object(s.d)((function(e){return e.create})),E=Object(s.d)((function(e){return e.create.workflow})),S=Object(s.d)((function(e){return e.create.isAccessible})),j=Y(g,e.intl).assetName,C=Object(s.d)((function(e){return e.create.isEditWorkflow})),k=Object(s.d)((function(e){return e.save.publishToKuler})),R=Object(s.d)((function(e){return 0===e.create.swatches.length})),I=Object(Q.a)(!0,!1),A=I.libraries,T=I.haveLibrariesBeenFetched&&A.length,M=Object(s.d)((function(e){return e.save.library})),P=e.ingestWorkflow,x=Object(s.c)(),D=function(){var t=e.intl.formatMessage({id:"app.savepanel.save"}),r=e.intl.formatMessage({id:"app.savepanel.update"});return n&&(t=e.intl.formatMessage({id:"app.savepanel.saving"})),l&&(r=e.intl.formatMessage({id:"app.savepanel.updating"})),{saveText:t,updateText:r}},N=function(){var t={workflow:Object(O.e)(P[0]),subcategory:"".concat(m.Bb.SAVE_PANEL,":").concat(P[1]),value:k?m.Bb.PUBLIC:m.Bb.PRIVATE};if(y)if(v){a(!0);var n="app.addtolibararynotification.toast.success.message",r="app.addtolibararynotification.toast.error.message",c="".concat(window.location.origin,"/").concat(e.intl.locale,"/mythemes?viewTheme"),s=m.uc;g===m.g.GRADIENT?(n="app.gradient.addtolibararynotification.toast.success.message",r="app.gradient.addtolibararynotification.toast.error.message"):E===m.F.ACCESSIBILITY&&!1===S&&(n="app.create.accessibility.success.toast",s=m.yb),x(p.e(g)).then((function(e){x(ne.a({variant:s,message:o.a.createElement("div",{style:{display:"grid",justifyItems:"end"}},o.a.createElement(i.a,{id:n,values:{name:e}}),o.a.createElement("a",{style:{color:"white",textDecoration:"none",marginTop:"5px"},href:c,target:"_blank"},o.a.createElement(i.a,{id:"app.savetoast.view"})))})),x(f.setEditWorkflow(!1)),a(!1),b(!1)})).catch((function(){x(ne.a({variant:m.gb,message:o.a.createElement(i.a,{id:r})})),x(f.setEditWorkflow(!1)),a(!1),b(!1)}));var l=function(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(P);l[1]===m.Bb.ACCESSIBILITY_COLORWHEEL&&(l[1]=S?m.Bb.ACCESSIBILITY_COLORWHEEL_NO_CONFLICTS:m.Bb.ACCESSIBILITY_COLORWHEEL_CONFLICTS),Object(B.a)(m.zb.SAVE,{event:t},l)}else window.adobeIMS&&(re.a.setItem("restore-create-after-signin",JSON.stringify(w)),Object(B.a)(m.zb.SAVE_FAIL,{event:t},P),window.adobeIMS.signIn())},L=!!v&&(R||!T||n||l||0===j.length);return!e.showSplitButton&&C?o.a.createElement("div",{className:J.a.splitButton},o.a.createElement(_.a,{label:D().saveText,variant:"cta",onClick:N,className:J.a.saveButton,disabled:L}),d?o.a.createElement(_.a,{label:D().updateText,variant:"cta",onClick:function(){var t={workflow:Object(O.e)(e.ingestWorkflow[0]),subcategory:"".concat(m.Bb.SAVE_PANEL,":").concat(e.ingestWorkflow[1]),value:k?m.Bb.PUBLIC:m.Bb.PRIVATE};if(y)if(v){u(!0);var n="app.updatecclibrarythemenotification.toast.success.message",r=m.uc;E===m.F.ACCESSIBILITY&&!1===S&&(n="app.create.accessibility.update.toast",r=m.yb),x(p.j({main:M.id,name:M.name,pageName:m.Wb})).then((function(){x(ne.a({variant:r,message:o.a.createElement(i.a,{id:n})})),x(p.a({cclibraryThemeUpdateLibId:null,cclibraryThemeUpdateAssetId:null})),x(f.setEditWorkflow(!1)),u(!1)})).catch((function(){x(ne.a({variant:m.gb,message:o.a.createElement(i.a,{id:"app.addtolibararynotification.toast.error.message"})})),x(p.a({cclibraryThemeUpdateLibId:null,cclibraryThemeUpdateAssetId:null})),x(f.setEditWorkflow(!1)),u(!1)})),Object(B.a)(m.zb.UPDATE,{event:t},P)}else window.adobeIMS&&(Object(B.a)(m.zb.SAVE_FAIL,{event:t},P),window.adobeIMS.signIn())},disabled:L}):o.a.createElement(_.a,{variant:"cta",onClick:function(){b(!d)},icon:o.a.createElement(te.a,null)})):o.a.createElement(o.a.Fragment,null,o.a.createElement(_.a,{label:D().saveText,variant:"cta",onClick:N,className:J.a.saveButton,disabled:L}),e.showSplitButton&&o.a.createElement(_.a,{variant:"cta",onClick:function(){e.onSplitButtonClick();var t={workflow:Object(O.e)(e.ingestWorkflow[0]),subcategory:m.zb.SHOW_SAVE_PANEL,value:m.zb.SHOW_SAVE_PANEL};Object(B.a)(m.zb.SHOW_SAVE_PANEL,{event:t},P)},disabled:L,icon:o.a.createElement(te.a,null)}))})),se=n(24);function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ue=function(e){return o.a.createElement("svg",le({xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 18 18",width:"18"},e),o.a.createElement("title",null,"S CheckmarkCircleOutline 18 N"),o.a.createElement("rect",{id:"Canvas",fill:"#ff13dc",opacity:"0",width:"18",height:"18"}),o.a.createElement("path",{class:"a",d:"M9.05,1.1A7.95,7.95,0,1,0,17,9.05,7.95,7.95,0,0,0,9.05,1.1Zm0,14.906A6.956,6.956,0,1,1,16.006,9.05,6.956,6.956,0,0,1,9.05,16.006Zm4.49072-9.68845-5.436,6.98773a.5.5,0,0,1-.74839.04628L4.2779,10.28586a.50035.50035,0,0,1,.00021-.70736l.66226-.66226a.5.5,0,0,1,.70709,0l1.939,1.92155,4.43735-5.701a.50006.50006,0,0,1,.70176-.08744h0l.72764.56642A.50016.50016,0,0,1,13.54072,6.31755Z"}))};function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pe=function(e){return o.a.createElement("svg",fe({xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 18 18",width:"18"},e),o.a.createElement("title",null,"S AlertCircle 18 N"),o.a.createElement("rect",{id:"Canvas",fill:"#ff13dc",opacity:"0",width:"18",height:"18"}),o.a.createElement("path",{class:"a",d:"M7.84555,12.88618a1.13418,1.13418,0,0,1,1.1161-1.15195q.042-.00064.08391.00178a1.116,1.116,0,0,1,1.2,1.15017,1.09065,1.09065,0,0,1-1.2,1.11661,1.0908,1.0908,0,0,1-1.2-1.11661ZM10.0625,4.39771a.20792.20792,0,0,1,.09966.183V5.62212c0,1.40034-.28322,3.98034-.33305,4.48067,0,.04984-.01678.09967-.11695.09967H8.379a.11069.11069,0,0,1-.11695-.09967c-.03305-.46678-.3-3.0305-.3-4.43084V4.6306a.1773.1773,0,0,1,.08339-.18306,2.88262,2.88262,0,0,1,1.00017-.20033A3.27435,3.27435,0,0,1,10.0625,4.39771ZM17.50005,9A8.50005,8.50005,0,1,1,9,.5H9A8.50008,8.50008,0,0,1,17.50005,9ZM15.67484,9A6.67485,6.67485,0,1,0,9,15.6748H9A6.67479,6.67479,0,0,0,15.67484,9Z"}))},he=Object(i.d)((function(){var e=Object(s.d)((function(e){return e.create.workflow})),t=Object(s.d)((function(e){return e.create.isAccessible})),n=Object(s.d)((function(e){return e.user.isLoggedIn})),r=Object(s.d)((function(e){return e.user.locale})),c=Object(a.g)(),l=Object(s.d)((function(e){return e.user.featureFlags})),u=Object(s.c)(),p=function(e){(Object(O.q)(e.keyCode)||e.keyCode===m.Jb.ENTER)&&(u(f.setWorkflow(m.F.ACCESSIBILITY)),c.push("/".concat(r).concat(m.kc.CREATEACCESSIBLE)))},h=function(){var n="",r="";switch(e){case m.F.ACCESSIBILITY:n=t?o.a.createElement("div",{className:J.a.displayMessage},o.a.createElement(i.a,{id:"app.savepanel.colorblind.safe.message"})," "):o.a.createElement("div",{className:J.a.displayMessage},o.a.createElement(i.a,{id:"app.savepanel.not.colorblind.safe.message"})),r=t?o.a.createElement(ue,{className:J.a.displayMessageIcon}):o.a.createElement(pe,{className:J.a.displayMessageIcon});break;case m.F.COLORWHEEL:n=o.a.createElement("div",{className:J.a.checkInAccessibility,onClick:p,tabIndex:"0",onKeyDown:p},o.a.createElement(i.a,{id:"app.savepanel.check.for.accessibility"})," "),r=o.a.createElement("img",{src:se.j,className:J.a.displayMessageIcon,onClick:p,alt:""})}return{message:n,icon:r}}(),d=e===m.F.COLORWHEEL||e===m.F.ACCESSIBILITY;return d=d&&n&&l.includes(m.jb.ENABLE_ACCESSIBILITY)&&m.Db,o.a.createElement(o.a.Fragment,null,d&&o.a.createElement("div",{className:J.a.savePanelDisplayMessageContainer},h.icon,h.message))}));function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var me=Object(i.d)((function(e){var t=e.intl,n=e.showLargeView,r=e.ingestWorkflow,a=e.closeDialog,c=Object(s.d)((function(e){return e.user.isLoggedIn})),l=Object(s.d)((function(e){return e.create.assetType})),u=Object(s.d)((function(e){return e.user.isAllowedToPublish})),f=Object(s.d)((function(e){return e.create.order})),p=Object(s.d)((function(e){return e.create.isEditWorkflow})),h=Object(s.d)((function(e){return e.create.swatches})),d=0===h.length,b="",y="",v="";switch(l){case m.g.GRADIENT:y=t.formatMessage({id:"app.savepanel.signintocreativecloudmessage.gradient.h2"}),v=t.formatMessage({id:"app.savepanel.gradient.pageDescription.h3"}),b=o.a.createElement("div",{className:d?[J.a.gradientContainerDisabled,J.a.disabled].join(" "):J.a.gradientContainer},f.length===h.length&&function(){var e=[];return f.forEach((function(t){var n=h[t],r=Object(V.q)(n.rgb);r.offset=n.offset,r.midpoint=n.midpoint,e.push(r)})),o.a.createElement(q.a,{stops:e,gradientProps:{type:"linear",angle:0,isOneUp:!1,isCreate:!0,isSave:!0}})}());break;default:y=t.formatMessage({id:"app.savepanel.signintocreativecloudmessage.h2"}),v=t.formatMessage({id:"app.savepanel.theme.pageDescription.h3"}),b=o.a.createElement("div",{className:d?[J.a.themeContainerDisabled,J.a.disabled].join(" "):J.a.themeContainer},function(){var e=[];if(0===h.length)for(var t=1;t<=m.dc;++t)e.push(o.a.createElement(P.a,{key:t,hex:"",className:1!==t?J.a.swatchWithBorder:""}));else for(var n=0;n<h.length;++n)e.push(o.a.createElement(P.a,de({key:n,id:f[n]},h[f[n]])));return e}())}return o.a.createElement("div",{className:"".concat(n&&J.a.modalSavePanel||""," ").concat(d?[J.a.savePanel,J.a.disabled].join(" "):J.a.savePanel)},b,c&&o.a.createElement(o.a.Fragment,null,!p&&o.a.createElement("div",{className:J.a.savePanelRow},o.a.createElement(i.a,{id:"app.savepanel.saveto"}),o.a.createElement(T.a,{ingestWorkflow:r,showLargeView:n,disabled:d,className:d?[J.a.librarySelector,J.a.disabled].join(" "):J.a.librarySelector})),o.a.createElement($,{isSwatchesEmpty:d,assetType:l}),!d&&l===m.g.THEME&&o.a.createElement(G,{showLargeView:n,ingestWorkflow:r,disabled:d}),u&&l===m.g.THEME&&o.a.createElement(A,{disabled:d})),!c&&o.a.createElement("div",null,o.a.createElement("h2",{className:J.a.signInToCreativeCloudMessage},y),o.a.createElement("h3",{className:J.a.signInToCreativeCloudMessage},v)),o.a.createElement(he,null),o.a.createElement("div",{className:J.a.helpSaveContainer},n&&o.a.createElement(_.a,{variant:"primary",onClick:a,label:t.formatMessage({id:"app.reportabuse.dialog.cancel"}),"aria-label":t.formatMessage({id:"app.reportabuse.dialog.cancel"})}),o.a.createElement(ce,{ingestWorkflow:r})))})),be=n(938),ye=function(e,t,n,r,o){return r+(o-r)/(n-t)*(e-t)},ve=function(e){return e<60?e*(35/60):e<122?ye(e,60,122,35,60):e<165?ye(e,122,165,60,120):e<218?ye(e,165,218,120,180):e<275?ye(e,218,275,180,240):e<330?ye(e,275,330,240,300):ye(e,330,360,300,360)},ge=function(e){return e<35?e*(60/35):e<60?ye(e,35,60,60,122):e<120?ye(e,60,120,122,165):e<180?ye(e,120,180,165,218):e<240?ye(e,180,240,218,275):e<300?ye(e,240,300,275,330):ye(e,300,360,330,360)},Oe=function(e,t){for(var n,r,o,a,i=0;i<t.length-2;i+=2)if(n=t[i],r=t[i+1],o=t[i+2],a=t[i+3],e<=o&&e>=n)return r+(a-r)*(e-n)/(o-n)},we=function(e,t,n){var r=(2-t)*n/2;return 0!==r&&(t=1===r?0:r<.5?t*n/(2*r):t*n/(2-2*r)),{h:e,s:t,l:r}},Ee=function(e,t,n){for(var r,o,a,i,c=t,s=t,l=we(0,0,e),u=we(0,1,e),f=Math.round(100*l.s),p=Math.round(100*l.l),h=Math.round(100*u.s),d=Math.round(100*u.l),m=[0,0,15,8,30,17,45,26,60,34,75,41,90,48,105,54,120,60,135,81,150,103,165,123,180,138,195,155,210,171,225,187,240,204,255,219,270,234,285,251,300,267,315,282,330,298,345,329,360,360],b=0;b<=360;b+=1)i=Oe(b,m),r=(360-b+1)*Math.PI/180,o=(360-b-1)*Math.PI/180,n.beginPath(),n.moveTo(c,s),n.arc(c,s,t+1,o,r,!1),n.closePath(),(a=n.createRadialGradient(c,s,0,c,s,t)).addColorStop(0,"hsl(".concat(i,", ").concat(f,"%,").concat(p,"%)")),a.addColorStop(1,"hsl(".concat(i,", ").concat(h,"%,").concat(d,"%)")),n.fillStyle=a,n.fill()},Se=n(68),je=n(901),Ce=n(1238),ke=n.n(Ce),Re=n(735),Ie=n.n(Re);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t,n){return(Pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ne(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(n,je.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ne(e);if(t){var o=Ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?De(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(De(r=t.call(this,e)),"updateMarkerPosition",ke()(r._updateMarkerPosition.bind(De(r)),16)),r.radius=parseInt(Object(O.l)(),10),r}return function(e,t,n){t&&_e(e.prototype,t)}(n,[{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(O.e)(m.E),subcategory:m.Bb.MARKER};Object(B.a)(m.zb.MARKER_MOVE,{event:e},[m.Bb.COLORWHEEL])}},{key:"mouseUp",value:function(e){Pe(Ne(n.prototype),"mouseUp",this).call(this,e),this.props.fetchSuggestedTags(),this.sendMarkerMoveIngestEvent()}},{key:"touchEnd",value:function(e){Pe(Ne(n.prototype),"touchEnd",this).call(this,e),this.props.fetchSuggestedTags(),this.sendMarkerMoveIngestEvent()}},{key:"_updateMarkerPosition",value:function(e){var t=e;Object(O.q)(e.touches)||0===e.touches.length||(t=e.touches[0]),this.position={x:(t.pageX-this.hitOffset.x+this.radius)/this.hitOffset.diameter,y:(t.pageY-this.hitOffset.y+this.radius)/this.hitOffset.diameter},this.position.x=Math.round(this.position.x),this.position.y=Math.round(this.position.y),this.position.x=Math.min(this.props.canvas.width-1,Math.max(0,this.position.x)),this.position.y=Math.min(this.props.canvas.height-1,Math.max(0,this.position.y));var n=Te(Object(V.v)(this.position.x-this.props.wheelRadius,this.position.y-this.props.wheelRadius),2),r=n[0],o=n[1];if(r<this.props.wheelRadius){var a=this.getColor(this.position);this.props.onSwatchValueChange({i:this.props.id,swatch:Object(V.p)(a)})}else{r=this.props.wheelRadius;var i=Te(Object(V.o)(r,o),2),c=i[0],s=i[1];this.position={x:c+this.props.wheelRadius,y:s+this.props.wheelRadius};var l=this.getColor(this.position);this.props.onSwatchValueChange({i:this.props.id,swatch:Object(V.p)(l)})}}},{key:"getColor",value:function(e){return this.props.canvas.getContext("2d").getImageData(e.x,e.y,1,1).data}},{key:"componentDidMount",value:function(){this.paint()}},{key:"children",value:function(){if(this.props.id===this.props.baseColorIndex)return o.a.createElement("img",{alt:"",draggable:!1,src:se.g,className:Ie.a.baseMarkerIndicator})}},{key:"paint",value:function(){if(this.props.swatches.length>0){var e=this.props.swatches[this.props.id].rgb,t=e.r,n=e.g,r=e.b,o=this.props.swatches[this.props.id].hsv,a=o.h,i=o.s,c=ge(a),s=this.props.wheelRadius*i/100,l=Object(V.d)(180-c),u=Te(Object(V.o)(s,l),2),f=u[0],p=u[1];this.position={x:f+this.props.wheelRadius,y:p+this.props.wheelRadius},this.marker.style.backgroundColor=Object(V.g)([t,n,r]),this.marker.style.left="calc(".concat(100*this.position.x/this.props.canvas.width,"% - ").concat(this.radius,"px)"),this.marker.style.top="calc(".concat(100*this.position.y/this.props.canvas.height,"% - ").concat(this.radius,"px)"),this.props.id===this.props.baseColorIndex&&(this.marker.style.transform="rotate(".concat(-c,"deg)"))}}},{key:"componentDidUpdate",value:function(){this.paint()}}]),n}(),Be=Object(s.b)((function(e){var t=e.create;return{swatches:t.swatches,activeSwatch:t.activeSwatch}}),(function(e){return Object(c.b)({fetchSuggestedTags:p.c,setSwatch:f.setSwatch,setActiveSwatch:f.setActiveSwatch},e)}))(Le),He=n(807),Ue=n.n(He);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return function(e,t,n){t&&We(e.prototype,t)}(n,[{key:"componentDidMount",value:function(){this.spoke.style.top="".concat(this.props.wheelRadius,"px"),this.spoke.style.left="".concat(this.props.wheelRadius,"px"),this.spoke.style.transformOrigin=0,this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"paint",value:function(){if(this.props.swatches.length>0){var e=this.props.swatches[this.props.id].hsv,t=e.h,n=e.s,r=ge(t),o=this.props.wheelRadius*n/100;this.spoke.style.transform="rotate(".concat(-r,"deg)"),this.spoke.style.width="".concat(o,"px")}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:this.props.id===this.props.activeSwatch?Ue.a.activeSpoke:Ue.a.spoke,ref:function(t){e.spoke=t}})}}]),n}(),Ke=Object(s.b)((function(e){var t=e.create;return{swatches:t.swatches,activeSwatch:t.activeSwatch}}),(function(e){return Object(c.b)({setSwatch:f.setSwatch,setActiveSwatch:f.setActiveSwatch},e)}))(qe),Ye=n(1e3),ze=n.n(Ye),Xe=n(1050),Ze=n.n(Xe),Je=n(1051),$e=n.n(Je),Qe=n(228),et=n.n(Qe);function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(814);var rt=function(e,t){var n;return void 0!==e&&(n=void 0===t?function(t){return e(t)}:function(n){return e.apply(void 0,[n].concat(function(e){return function(e){if(Array.isArray(e))return nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t)))}),n},ot=function(e){var t=e.defaultValue,n=e.disabled,r=e.multiple,a=e.options,i=e.quiet,c=e.flexible,s=e.value,l=function(e){var t={};return t.onChange=rt(e.onChange,e.onChangeParams),t.onClose=rt(e.onClose,e.onCloseParams),t.onOpen=rt(e.onOpen,e.onOpenParams),t}(e),u={};return e.isControlled?u.value=s:u.defaultValue=t,o.a.createElement(et.a,tt({},u,{multiple:void 0!==r&&r},l,{options:a,quiet:void 0===i||i,flexible:c||!0,disabled:void 0!==n&&n}))},at=n(815),it=n.n(at),ct=function(e){return o.a.createElement(y.a,{className:it.a.tooltip,placement:"bottom",trigger:m.Ib?"click":"hover"},o.a.createElement(ze.a,{className:it.a.helpIcon,size:"S"}),o.a.createElement(g.a,{variant:"info"},o.a.createElement("div",{className:it.a.harmonyRuleSelectorTooltipTitle},o.a.createElement(i.a,{id:"app.create.harmonyrule.selector.title.tooltip"})),o.a.createElement("div",{className:it.a.harmonyRuleSelectorTooltipInfo},o.a.createElement(i.a,{id:"app.create.harmonyrule.selector.info.tooltip",values:{name:e.themeName}}))))},st=Object(i.d)((function(e){var t=Object(Se.d)(),n=Object(s.d)((function(e){return e.create.harmonyRule})),r=Object(s.d)((function(e){return e.user.featureFlags})),a=Object(s.c)(),c=function(e){var t={workflow:Object(O.e)(m.E),subcategory:m.Bb.HARMONY_RULE,value:e};Object(B.a)(m.zb.RULE_CHANGED,{event:t},[m.Bb.COLORWHEEL]),a(Object(f.setHarmonyRule)(e))},l=m.ub;if(r.includes(m.jb.SHOW_NEW_HARMONY_RULES)){l={};var u=0;for(var p in m.ub){if(l[p]=m.ub[p],3===u)for(var h in m.ac)l[h]=m.ac[h];u++}}return"desktop"===t?o.a.createElement("div",{className:it.a.container},o.a.createElement("div",{className:it.a.text},o.a.createElement(i.a,{id:"app.create.colorHarmonyRule"}),o.a.createElement(ct,{themeName:e.themeName})),o.a.createElement($e.a,{vertical:!0,name:"harmony-rule-selector",selectedValue:n,className:it.a.radioGroup,onChange:function(e){return c(e)}},Object.keys(l).map((function(t,n){return o.a.createElement(Ze.a,{key:n,label:e.intl.formatMessage({id:l[t]}),value:t})})))):o.a.createElement("div",{className:it.a.dropdown},o.a.createElement(i.a,{id:"app.create.harmonyRule"}),o.a.createElement(ot,{options:function(t){return Object.keys(t).map((function(n,r){return{label:e.intl.formatMessage({id:t[n]}),value:n}}))}(l),defaultValue:n,onChange:c}),o.a.createElement(ct,{themeName:e.themeName}))})),lt=n(816),ut=n.n(lt);function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return function(e,t,n){t&&pt(e.prototype,t)}(n,[{key:"render",value:function(){return o.a.createElement("div",{className:ut.a.createPageLayoutContainer},o.a.createElement("div",{className:ut.a.leftPanel},this.renderLeftPanel()),o.a.createElement("div",{className:ut.a.middlePanel},this.renderMiddlePanel()))}}]),n}(),bt=function(e){var t=e%360;return t<0?t+360:t},yt=function(e){var t=e%360;return t<=-180?t+360:t>180?t-360:t},vt=function e(t,n,r){return Object(O.q)(t)&&(t=0),Object(O.q)(n)&&(n=0),Object(O.q)(r)&&(r=.001),this.angle=function(e){if(Object(O.q)(e))return this._angle;this._angle=bt(e)},this.radius=function(e){if(Object(O.q)(e))return this._radius;e<0?(this.angle(this.angle()+180),this.radius(-1*e)):this._radius=e>1?1:e},this.height=function(e){if(Object(O.q)(e))return this._height;this._height=e>1?1:e<.001?.001:e},this.copy=function(){return new e(this._angle,this._radius,this._height)},this.setTo=function(e,t,n){return this.radius(t),this.height(n),this.angle(e),this},this.canonical360=function(){return function(e){var t=e.copy();return t.radius()<0&&(t.radius(-1*t.radius()),t.angle(t.angle()+180)),t.angle(bt(t.angle())),t}(this)},this.equivalent=function(e){return function(e,t){var n=e.canonical360(),r=t.canonical360();return n.angle()==r.angle()&&n.radius()==r.radius()&&e.height()==t.height()}(this,e)},this._height=r,this._angle=t,this._radius=n,this},gt=function(e){return Math.min(1,Math.max(0,e))},Ot=function(e){return Math.min(1,Math.max(-1,e))};function wt(e){var t;this.type=function(e){if(!Object(O.q)(e)){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:t=e;break;default:t=0}return this}return t},this.type(e||0)}var Et=function(e,t,n,r){return t>0&&e+r>=1?t>=r?1:e+t/r*(1-e):t<0&&e+n<=0?t<=n||0===n?0:e*(1-t/n):e+t},St=function(e,t,n,r){if(5==n.type())return t<0?e+e*t:e+(1-e)*t;var o=e+t;if(o<0||o<r&&e>=r){switch(n.type()){case 0:o=r;break;case 2:(o+=1-r)<r&&(o=r);break;case 4:o=2*r-o;break;case 3:o=e-t}o>1&&(o=1-e>=Math.abs(e-r)?1:r)}else if(o>1){switch(n.type()){case 0:o=1;break;case 2:(o=r+(o-1))>1&&(o=1);break;case 4:o=2-o;break;case 3:o=e-t}o<r&&(o=1-e>=Math.abs(e-(1-t))?1:Math.max(1-t,r))}return o};function jt(e,t,n,r){return e-t}function Ct(e,t,n,r){return t>e&&e+r>1?(t-e)/r:t<e&&e+n<0?(e-t)/n:t-e}function kt(){var e=this;e.parentScheme=function(){return i},e.SetZeroWidthDeltas=function(o,a,i,c){e.fThetaCoefficient=0,e.fThetaFrom180=!1,e.fLinkHue=t=n=c,r=yt(o),e.fRadiusDelta=Ot(a),e.fHeightDelta=Ot(i)},e.setColorScheme2=function(t,n,r,c,s){return e.SetZeroWidthDeltas(n,r,c,s),null===t||Object(O.q)(t)?(o.type(0),a.type(0)):(i=t,o.type(5),a.type(5),t.addRegion(e)),e},e.setColorScheme5=function(c,s,l,u,f,p,h,d,m){return function(o,a,c,s,l,u,f,p,h,d,m){r=yt(o),e.setRadiusDelta(a),e.setHeightDelta(c),bt(0),gt(0),gt(0),e.fLinkHue=f,e.fThetaCoefficient=Ot(p),e.fThetaFrom180=h,t=d,n=m,null!==i&&i.hasRule()&&i.setCreatingRule(null)}(s,l,u,0,0,0,f,p,h,d,m),null!==c?(i=c,o.type(5),a.type(5),c.addRegion(e)):(o.type(0),a.type(0)),e},e.setAngleDelta=function(t){return r=yt(t),e},e.setRadiusDelta=function(t){return e.fRadiusDelta=Ot(t),e},e.setHeightDelta=function(t){return e.fHeightDelta=Ot(t),e},e.setLinkHue=function(t){return e.fLinkHue=t,e},e.setOnRadiusOverflow=function(t){return o=t,e},e.setOnHeightOverflow=function(t){return a=t,e},e.derivedColor=function(t){return Object(O.q)(t)&&(t=null),null===t?i?e.derivedColor(i.getBaseCylPoint()):e.derivedColor(new vt(0,1,1)):(new vt).setTo(t.angle()+r,function(t){return 0===e.fRadiusDelta?t:!c&&e.fRadiusDelta>0&&i&&i.hasRule()&&t+e.fRadiusDelta<.1?.1:5==o.type()&&i?Et(t,e.fRadiusDelta,i.minRadiusDelta(),i.maxRadiusDelta()):St(t,e.fRadiusDelta,o,c?0:.1)}(t.radius()),function(t){return 0===e.fHeightDelta?t:!c&&e.fHeightDelta>0&&i&&i.hasRule()&&t+e.fHeightDelta<.2?.2:5==a.type()&&i?Math.max(.001,Et(t,e.fHeightDelta,i.minHeightDelta(),i.maxHeightDelta())):Math.max(.001,St(t,e.fHeightDelta,a,c?0:.2))}(t.height()))},e.moveToColor=function(s){var l,u=e.isBaseRegion(),f=i.getBaseCylPoint();if(u){if(s.equivalent(f))return;i.setBaseColor(s,!0)}else{var p=e.derivedColor(f);l=f;var h=!1;if(s.equivalent(p))return;if(p.angle()!==s.angle()){var d=yt(s.angle()-f.angle());if(null!==i&&e.fLinkHue||u)if(0===e.fThetaCoefficient){var m=bt(s.angle()-r);l.angle(m)}else{var b;b=e.fThetaFrom180?e.fThetaCoefficient<0?(d+180)/e.fThetaCoefficient:(d-180)/e.fThetaCoefficient:d/e.fThetaCoefficient,h=!0,i.setTheta(b)}else h=!0,r=d}if(p.radius()!==s.radius())if(!u&&s.radius()<.1&&s.radius()<=.01&&f.radius()>s.radius()&&(o=new wt(5)),null!==i&&t||u){var y=function(t){if(null!==i&&5==o.type())return jt(t,e.fRadiusDelta,i.minRadiusDelta(),i.maxRadiusDelta())}(s.radius());l.radius(y)}else{var v=function(e,t){return null===i||5!==o.type()?t-e:Ct(e,t,i.minRadiusDelta(),i.maxRadiusDelta())}(f.radius(),s.radius());v!==e.fRadiusDelta&&(h=!0,function(t){var n;if(t<e.fRadiusDelta){if(t<i.minRadiusDelta())i.minRadiusDelta(t);else if(e.fRadiusDelta==i.maxRadiusDelta()&&e.fRadiusDelta>0){e.fRadiusDelta=t;var r=0;for(n in i.regions())n.fRadiusDelta>r&&(r=n.fRadiusDelta);i.maxRadiusDelta(r)}}else if(t>e.fRadiusDelta)if(t>i.maxRadiusDelta())i.maxRadiusDelta(t);else if(e.fRadiusDelta==i.minRadiusDelta()&&e.fRadiusDelta<0){e.fRadiusDelta=t;var o=0;for(n in i.regions())n.fRadiusDelta<o&&(o=n.fRadiusDelta);i.minRadiusDelta(o)}e.fRadiusDelta=t}(v))}if(p.height()!==s.height())if(!u&&s.height()<.2&&(c=!0,s.height()<=.01&&f.height()>s.height()&&(a=new wt(5))),null!==i&&n||u){var g=function(t){if(null!==i&&5==a.type())return jt(t,e.fHeightDelta,i.minHeightDelta(),i.maxHeightDelta())}(s.height());l.height(g)}else{var O=function(e,t){return null===i||5!==a.type()?t-e:Ct(e,t,i.minHeightDelta(),i.maxHeightDelta())}(f.height(),s.height());O!==e.fHeightDelta&&(h=!0,function(t){var n;if(t<e.fHeightDelta){if(t<i.minHeightDelta())i.minHeightDelta(t);else if(e.fHeightDelta==i.maxHeightDelta()&&e.fHeightDelta>0){e.fHeightDelta=t;var r=0;for(n in i.regions())n.fHeightDelta>r&&(r=n.fHeightDelta);i.maxHeightDelta(r)}}else if(t>e.fHeightDelta)if(t>i.maxHeightDelta())i.maxHeightDelta(t);else if(e.fHeightDelta==i.minHeightDelta()&&e.fHeightDelta<0){e.fHeightDelta=t;var o=0;for(n in i.regions())n.fHeightDelta<o&&(o=n.fHeightDelta);i.minHeightDelta(o)}e.fHeightDelta=t}(O))}i.setBaseColor(l),h&&i.setModifiedFromCreatingRule(!0)}},e.isBaseRegion=function(){return i&&0===r&&0===e.fRadiusDelta&&0===e.fHeightDelta&&!0===e.fLinkHue&&!0===t&&!0===n&&0===e.fThetaCoefficient},e.fLinkHue=!1;var t=!1,n=!1,r=0;e.fRadiusDelta=0,e.fHeightDelta=0,e.fThetaCoefficient=0,e.fThetaFrom180=!1;var o=new wt(0),a=new wt(0),i=null,c=!1}function Rt(){this.regions=function(){return n},this.hasRule=function(){return e},this.setCreatingRule=function(t){e=null!==t},this.setModifiedFromCreatingRule=function(e){},this.minRadiusDelta=function(e){if(Object(O.q)(e))return r;r=e},this.minHeightDelta=function(e){if(Object(O.q)(e))return a;a=e},this.maxRadiusDelta=function(e){if(Object(O.q)(e))return o;o=e},this.maxHeightDelta=function(e){if(Object(O.q)(e))return i;i=e},this.setTo=function(){return c=new vt(0,1,1),this},this.getBaseRegion=function(){for(var e=0;e<n.length;e++){var t=n[e];if(t.isBaseRegion())return t}return null},this.addRegion=function(t){null===t||Object(O.q)(t)||(t.fRadiusDelta<r?r=t.fRadiusDelta:t.fRadiusDelta>o&&(o=t.fRadiusDelta),t.fHeightDelta<a?a=t.fHeightDelta:t.fHeightDelta>i&&(i=t.fHeightDelta),n.push(t),e=!1)},this.getBaseCylPoint=function(){return c},this.setBaseColor=function(e){e.equivalent(c)||(c=e)},this.setTheta=function(e){if(t!=e){t=e;for(var r=0;r<n.length;r++){var o=n[r];if(o.fLinkHue&&0!==o.fThetaCoefficient){var a,i=o.fThetaCoefficient;a=o.fThetaFrom180?180+i*t:i*t,o.setAngleDelta(a)}}}},this.setRegionsToBaseOnly=function(c){var s=n.length;if(s<1)(new kt).setColorScheme2(this,0,0,0,!1);else{for(var l=0;l<s;l++){var u=n[l];if(u.isBaseRegion()){n=[u];break}}n[0].SetZeroWidthDeltas(0,0,0,!0)}t=c,e=!1,r=o=a=i=0},this.clearRegionList=function(){n=[],e=!1,r=o=a=i=0};var e=!1,t=0,n=[],r=0,o=0,a=0,i=0,c=(new vt).setTo(0,1,1)}var It=function(){var e=[];this.schemes=function(){return e}};function At(){this._fName=null,this.setSchemeToRule=function(e){this.setSchemeToRuleImpl(e)},this.setFormulaToRule=function(e){if(0===e.schemes().length)this.addSchemeToFormulaImpl(e);else{for(;e.schemes().length>1;)e.schemes().pop();this.setSchemeToRuleImpl(e.schemes()[0])}},this.addSchemeToFormulaImpl=function(e){return null},this.setSchemeToRuleImpl=function(e){},this.addDependentRegions=function(e){}}At.ANALOGOUS=function(){At.call(this),this._fName="ANALOGOUS",this.addSchemeToFormulaImpl=function(e){var t=(new Rt).setTo(30);return t.setBaseColor((new vt).setTo(0,1,1)),(new kt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(30),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t;(t=(new kt).setColorScheme5(e,30,.05,.05,!0,1,!1,!1,!1)).setOnRadiusOverflow(new wt(4)),(t=(new kt).setColorScheme5(e,15,.05,.09,!0,.5,!1,!1,!1)).setOnRadiusOverflow(new wt(4)),t.setOnHeightOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,-15,.05,.09,!0,-.5,!1,!1,!1)).setOnRadiusOverflow(new wt(4)),t.setOnHeightOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,-30,.05,.05,!0,-1,!1,!1,!1)).setOnRadiusOverflow(new wt(4)),e.setCreatingRule(this._fName)}},At.COMPLEMENTARY=function(){At.call(this),this._fName="COMPLEMENTARY 2",this.addSchemeToFormulaImpl=function(e){var t=(new Rt).setTo(30);return(new kt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(180),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t=(new kt).setColorScheme5(e,0,.1,-.3,!0,0,!1,!1,!1);t.setOnHeightOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,0,-.1,.3,!0,0,!1,!1,!1)).setOnHeightOverflow(new wt(5)),(t=(new kt).setColorScheme5(e,180,.2,-.3,!0,0,!1,!1,!1)).setOnHeightOverflow(new wt(3)),(new kt).setColorScheme5(e,180,0,0,!0,0,!1,!1,!1),e.setCreatingRule(this._fName)}},At.COMPOUND=function(){At.call(this),this._fName="COMPOUND1",this.addDependentRegions=function(e){var t;(t=(new kt).setColorScheme5(e,30,.1,.2,!0,0,!1,!1,!1)).setOnRadiusOverflow(new wt(3)),t.setOnHeightOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,30,-.4,.4,!0,0,!1,!1,!1)).setOnRadiusOverflow(new wt(3)),t.setOnHeightOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,165,-.25,.05,!0,0,!1,!1,!1)).setOnRadiusOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,150,.1,.2,!0,0,!1,!1,!1)).setOnRadiusOverflow(new wt(3)),t.setOnHeightOverflow(new wt(3)),e.setCreatingRule(this._fName)},this.addSchemeToFormulaImpl=function(e){var t=(new Rt).setTo(0);return t.setBaseColor((new vt).setTo(0,1,1)),(new kt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(30),this.addDependentRegions(e)}},At.MONOCHROMATIC=function(){At.call(this),this._fName="MONOCHROMATIC 2",this.addSchemeToFormulaImpl=function(e){var t=(new Rt).setTo(0);return t.setBaseColor((new vt).setTo(0,1,1)),(new kt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(0),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t;(t=(new kt).setColorScheme5(e,0,0,.3,!0,0,!1,!0,!1)).setOnHeightOverflow(new wt(2)),(t=(new kt).setColorScheme5(e,0,-.3,.1,!0,0,!1,!1,!0)).setOnRadiusOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,0,-.3,.3,!0,0,!1,!1,!1)).setOnRadiusOverflow(new wt(3)),t.setOnHeightOverflow(new wt(2)),(t=(new kt).setColorScheme5(e,0,0,.6,!0,0,!1,!0,!1)).setOnHeightOverflow(new wt(2)),e.setCreatingRule(this._fName)}},At.SHADES=function(){At.call(this),this._fName="SHADES",this.addSchemeToFormulaImpl=function(e){var t=(new Rt).setTo(0);return t.setBaseColor((new vt).setTo(0,1,1)),(new kt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(0),this.addDependentRegions(e)},this.addDependentRegions=function(e){(new kt).setColorScheme5(e,0,0,-.25,!0,0,!1,!0,!1).setOnHeightOverflow(new wt(2)),(new kt).setColorScheme5(e,0,0,-.5,!0,0,!1,!0,!1).setOnHeightOverflow(new wt(2)),(new kt).setColorScheme5(e,0,0,-.75,!0,0,!1,!0,!1).setOnHeightOverflow(new wt(2)),(new kt).setColorScheme5(e,0,0,-.9,!0,0,!1,!0,!1).setOnHeightOverflow(new wt(2)),e.setCreatingRule(this._fName)}},At.TRIAD=function(){At.call(this),this._fName="TRIAD2",this.addSchemeToFormulaImpl=function(e){var t=(new Rt).setTo(120);return t.setBaseColor((new vt).setTo(0,1,1)),(new kt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(120),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t;(t=(new kt).setColorScheme5(e,0,.1,-.3,!0,0,!1,!1,!1)).setOnHeightOverflow(new wt(3)),t.setOnRadiusOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,120,-.1,0,!0,0,!1,!1,!1)).setOnRadiusOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,-120,.1,0,!0,0,!1,!1,!1)).setOnRadiusOverflow(new wt(3)),t.setOnHeightOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,-120,.05,-.3,!0,0,!1,!1,!1)).setOnRadiusOverflow(new wt(3)),t.setOnHeightOverflow(new wt(3)),e.setCreatingRule(this._fName)}},At.SQUARE=function(){At.call(this),this._fName="SQUARE",this.addSchemeToFormulaImpl=function(e){var t=(new Rt).setTo(90);return t.setBaseColor((new vt).setTo(0,1,1)),(new kt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(90),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t;(t=(new kt).setColorScheme5(e,0,.1,0,!0,0,!1,!1,!1)).setOnHeightOverflow(new wt(3)),t.setOnRadiusOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,90,-.1,0,!0,0,!1,!1,!1)).setOnRadiusOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,180,.1,0,!0,0,!1,!1,!1)).setOnRadiusOverflow(new wt(3)),t.setOnHeightOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,-90,.05,0,!0,0,!1,!1,!1)).setOnRadiusOverflow(new wt(3)),t.setOnHeightOverflow(new wt(3)),e.setCreatingRule(this._fName)}},At.SPLIT_COMPLEMENTARY=function(){At.call(this),this._fName="SPLIT_COMPLEMENTARY",this.addSchemeToFormulaImpl=function(e){var t=(new Rt).setTo(150);return t.setBaseColor((new vt).setTo(0,1,1)),(new kt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(0),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t;(t=(new kt).setColorScheme5(e,150,-.1,.3,!0,.5,!0,!1,!1)).setOnHeightOverflow(new wt(3)),t.setOnRadiusOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,150,-.05,0,!0,.5,!0,!1,!1)).setOnRadiusOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,-150,.1,.3,!0,-.5,!0,!1,!1)).setOnRadiusOverflow(new wt(3)),t.setOnHeightOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,-150,.05,0,!0,-.5,!0,!1,!1)).setOnRadiusOverflow(new wt(3)),t.setOnHeightOverflow(new wt(3)),e.setCreatingRule(this._fName)}},At.DOUBLE_SPLIT_COMPLEMENTARY=function(){At.call(this),this._fName="DOUBLE_SPLIT_COMPLEMENTARY",this.addSchemeToFormulaImpl=function(e){var t=(new Rt).setTo(0);return t.setBaseColor((new vt).setTo(0,1,1)),(new kt).setColorScheme2(t,0,0,0,!1),this.addDependentRegions(t),e.schemes().push(t),t},this.setSchemeToRuleImpl=function(e){e.setRegionsToBaseOnly(0),this.addDependentRegions(e)},this.addDependentRegions=function(e){var t;(t=(new kt).setColorScheme5(e,30,-.05,0,!0,1,!1,!1,!1)).setOnHeightOverflow(new wt(3)),t.setOnRadiusOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,150,-.1,0,!0,-1,!0,!1,!1)).setOnRadiusOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,-150,.1,0,!0,1,!0,!1,!1)).setOnRadiusOverflow(new wt(3)),t.setOnHeightOverflow(new wt(3)),(t=(new kt).setColorScheme5(e,-30,.05,0,!0,-1,!1,!1,!1)).setOnRadiusOverflow(new wt(3)),t.setOnHeightOverflow(new wt(3)),e.setCreatingRule(this._fName)}};var Tt=function(e,t){this.setToRestoreMode=function(){p="restore"},this.resetMode=function(){p="create"},this.setNewTheme=function(e){Object(O.q)(e)||(c=e)},this.colorSet=function(e){if(Object(O.q)(e))return c;c=e,f=-1,Object(O.q)(c.baseColorIndex)?(u=!0,r()):(o(),a());var t=e.harmonyRule||"ANALOGOUS";return this.rule(t),this};var n=this;function r(){if(null!==s){var e=c.swatches[c.baseColorIndex],t=new vt(ge(e.hsv.h),e.hsv.s/100,e.hsv.v/100);h.setBasePoint(t),u&&(u=!1,o()),f=-1,a()}}function o(){l=!0;var e=h.getCurrentScheme();e.clearRegionList();var t=c.swatches[c.baseColorIndex],n=new vt(ge(t.hsv.h),t.hsv.s/100,t.hsv.v/100);(new kt).setColorScheme2(e,0,0,0,!0),e.setBaseColor(n);for(var r=0;r<m.ec;r++)if(0!==i(r)){var o=c.swatches[r],a=new vt(ge(o.hsv.h),o.hsv.s/100,o.hsv.v/100),s=0,u=c.harmonyRule;if("ANALOGOUS"===u){var f=i(r);s=1==f?1:2==f?.5:3==f?-.5:-1,(new kt).setColorScheme5(e,a.angle()-n.angle(),a.radius()-n.radius(),a.height()-n.height(),!0,s,!1,!1,!1)}else"MONOCHROMATIC"===u?(1==i(r)&&(new kt).setColorScheme5(e,a.angle()-n.angle(),a.radius()-n.radius(),a.height()-n.height(),!0,s,!1,!0,!1),2==i(r)&&(new kt).setColorScheme5(e,a.angle()-n.angle(),a.radius()-n.radius(),a.height()-n.height(),!0,s,!1,!1,!0),3==i(r)&&(new kt).setColorScheme5(e,a.angle()-n.angle(),a.radius()-n.radius(),a.height()-n.height(),!0,s,!1,!1,!1),4==i(r)&&(new kt).setColorScheme5(e,a.angle()-n.angle(),a.radius()-n.radius(),a.height()-n.height(),!0,s,!1,!0,!1)):"SPLIT_COMPLEMENTARY"===u?(s=1==f||2==f?.5:-.5,(new kt).setColorScheme5(e,a.angle()-n.angle(),a.radius()-n.radius(),a.height()-n.height(),!0,s,!1,"SHADES"==u,!1)):"TRIAD"!==u&&"SQUARE"!==u&&"COMPLEMENTARY"!==u&&"COMPOUND"!==u&&"SHADES"!==u||(new kt).setColorScheme5(e,a.angle()-n.angle(),a.radius()-n.radius(),a.height()-n.height(),!0,s,!1,"SHADES"==u,!1)}l=!1}function a(){l=!0;for(var e,n,r,o=h.getCurrentScheme().regions(),a=0;a<o.length;a++)if(e=o[i(a)],n=c.swatches[a],e&&n&&a!=f){r=e.derivedColor();var s=Object(V.i)([ve(r.angle()),100*r.radius(),100*r.height()]);t({i:a,swatch:s})}l=!1}function i(e){var t=c.baseColorIndex;if(e==t)e=0;else if(e<t)return e+1;return e}this.onRuleChange=function(e){n.rule(e)},this.onBaseColorChange=function(e){l||null===s||r()},this.rule=function(e){if(void 0===e)return s||"CUSTOM";if(Object(O.q)(At[e]))s=null;else{null===s&&c&&o(),s=e;var t="restore"==p;h.setHarmonyRule(new At[s],t),f!==c.baseColorIndex&&(f=-1),a()}},this.onColorChange=function(e){if(!l&&null!==s&&null!==c&&!(e<0||e>=m.ec)){f=e;var t=h.getCurrentScheme().regions()[i(e)];t&&(l=!0,t.moveToColor(new vt(ge(c.swatches[e].hsv.h),c.swatches[e].hsv.s/100,c.swatches[e].hsv.v/100)),a(),l=!1)}};var c=null,s=null,l=!1,u=!1,f=-1,p="create",h=new function(){var e,t,n;this.init=function(r,o){e=r,o&&o.setFormulaToRule(e);var a=t||e.schemes()[0];n=(t=a).getBaseRegion()},this.setHarmonyRule=function(e,n){if(e){if(n)return;e.setSchemeToRule(t)}this.setCurrentRegion(t.getBaseRegion())},this.getCurrentScheme=function(){return t},this.setBasePoint=function(e){t.setBaseColor(e)},this.setCurrentRegion=function(e){n!=e&&(e?(e.parentScheme()==t||this.SetCurrentScheme(e.parentScheme()),n=e):n=null)},t=null,this.init(new It,new At.ANALOGOUS)};Object(O.q)(e)||e.swatches.length<5||this.colorSet(e)},Mt=n(734),_t=n.n(Mt);function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(n,r.PureComponent);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lt(e);if(t){var o=Lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?Nt(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Nt(r=t.call(this,e)),"onKeyDown",(function(e){e.keyCode===m.Jb.ENTER&&r.props.setBaseColorIndex(r.props.id)})),r.onClick=r.onClick.bind(Nt(r)),r}return function(e,t,n){t&&xt(e.prototype,t)}(n,[{key:"onClick",value:function(){this.props.setBaseColorIndex(this.props.id)}},{key:"render",value:function(){var e=this,t=this.props.isBaseColor?_t.a.activeBaseIndicator:_t.a.baseIndicator;return m.Ib?o.a.createElement(y.a,{className:this.props.isBaseColor?_t.a.tooltip:"",placement:"bottom"},o.a.createElement("img",{ref:function(t){e.baseIndicatorRef=t},onClick:this.onClick,draggable:!0,src:se.g,className:t}),o.a.createElement(g.a,{variant:"info"},o.a.createElement("div",{className:_t.a.baseSwatchTooltipTitle},o.a.createElement(i.a,{id:"app.create.base.color.tooltip"})),o.a.createElement("div",{className:_t.a.baseSwatchTooltipInfo},o.a.createElement(i.a,{id:"app.create.base.color.info.tooltip"})))):o.a.createElement(y.a,{className:this.props.isBaseColor?_t.a.tooltip:"",placement:"bottom"},o.a.createElement("img",{ref:function(t){e.baseIndicatorRef=t},onClick:this.onClick,draggable:!0,src:se.g,className:t,alt:"",tabIndex:"0",onKeyDown:this.onKeyDown}),this.props.isBaseColor?o.a.createElement(g.a,{variant:"info"},o.a.createElement("div",{className:_t.a.baseSwatchTooltipTitle},o.a.createElement(i.a,{id:"app.create.base.color.tooltip"})),o.a.createElement("div",{className:_t.a.baseSwatchTooltipInfo},o.a.createElement(i.a,{id:"app.create.base.color.info.tooltip"}))):o.a.createElement(g.a,null,o.a.createElement("div",{className:_t.a.setBaseSwatchTooltipTitle},o.a.createElement(i.a,{id:"app.create.base.color.tooltip.setasbasecolor"}))))}}]),n}();function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ut=Object(i.d)((function(e){var t=e.ingestWorkflow,n=e.intl,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(r.useState)(!1),2),i=a[0],c=a[1],l=Object(s.d)((function(e){return e.create.assetType})),u=Y(l,n),f=u.assetName,p=u.defaultAssetName,h=u.updateAssetName,d=function(){c(!i),i&&""===f&&h(p,!1)};return Object(r.useEffect)((function(){return i?Object(O.x)("hidden"):Object(O.x)(""),function(){Object(O.x)("")}}),[i]),o.a.createElement("div",{className:J.a.splitButton},o.a.createElement(ce,{ingestWorkflow:t,showSplitButton:!0,onSplitButtonClick:d}),i&&o.a.createElement("div",{className:J.a.savePanelModal},o.a.createElement("div",{className:J.a.backdrop,onClick:d}),o.a.createElement(me,{ingestWorkflow:t,showLargeView:!0,closeDialog:d})))})),Ft=n(817),Wt=n.n(Ft),Gt=function(e){return o.a.createElement("div",{className:Wt.a.row},e.children,m.Gb&&o.a.createElement(Ut,{ingestWorkflow:e.ingestWorkflow}))},Vt=n(818),qt=n.n(Vt);function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zt(e);if(t){var o=Zt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?Xt(e):t}(this,n)}}(n);function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Xt(e=t.call.apply(t,[this].concat(o))),"onChange",(function(t){var n=e.validation(parseInt(t,10));e.props.onChange(n)})),e}return function(e,t,n){t&&Yt(e.prototype,t)}(n,[{key:"validation",value:function(e){var t=e;return isNaN(e)||Object(O.q)(e)||e<this.props.minValue?t=this.props.minValue:e>this.props.maxValue&&(t=this.props.maxValue),t}},{key:"render",value:function(){return o.a.createElement(X.a,{className:qt.a.inputBox,value:this.props.value,quiet:!0,type:"number",min:this.props.minValue,max:this.props.maxValue,onChange:this.onChange,"aria-label":this.props.txtLabel})}}]),n}(),$t=n(21),Qt=n.n($t),en=n(1052),tn=n.n(en),nn=n(823),rn=n.n(nn);function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ln(e);if(t){var o=ln(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==on(t)&&"function"!=typeof t?sn(e):t}(this,n)}}(n);function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(sn(e=t.call.apply(t,[this].concat(o))),"onChange",(function(t){e.props.onChange(t)})),e}return function(e,t,n){t&&an(e.prototype,t)}(n,[{key:"componentWillReceiveProps",value:function(e){e.color!==this.props.color&&Qt.a.findDOMNode(this.sliderRef).style.setProperty("--slider-default-color",e.color)}},{key:"componentDidMount",value:function(){Qt.a.findDOMNode(this.sliderRef).style.setProperty("--slider-default-color",this.props.color),Object(O.u)(!0,document.querySelectorAll(".spectrum-Slider-handle"))}},{key:"componentWillUnmount",value:function(){Object(O.u)(!1,document.querySelectorAll(".spectrum-Slider-handle"))}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(tn.a,{ref:function(t){e.sliderRef=t},className:rn.a.slider,min:this.props.minValue,max:this.props.maxValue,value:this.props.value,onChange:this.onChange,step:this.props.step,label:this.props.sliderLabel}))}}]),n}(),fn=n(138),pn=n.n(fn),hn=n(824),dn=n.n(hn);function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(){return(bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn(e);if(t){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==mn(t)&&"function"!=typeof t?On(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(On(r=t.call(this,e)),"onChange",(function(e){r.setState({value:e}),r.debouncedOnChange(e)})),r.sendTextEditIngestEvent=r.sendTextEditIngestEvent.bind(On(r)),r.state={value:e.value},r.debouncedOnChange=m.Ib?pn()(e.onChange,200):e.onChange,r}return function(e,t,n){t&&vn(e.prototype,t)}(n,[{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.props.value!==this.state.value&&this.setState({value:this.props.value})}},{key:"sendTextEditIngestEvent",value:function(e){var t={workflow:Object(O.e)(this.props.ingestWorkflow[0]),subcategory:m.Bb.SWATCH,value:this.props.colorSpace};Object(B.a)(m.zb.VALUE_CHANGE,{event:t},[].concat(function(e){return function(e){if(Array.isArray(e))return yn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.ingestWorkflow),[m.Bb.SWATCH,m.Bb.SLIDERBAR])),this.onChange(e)}},{key:"render",value:function(){var e=this,t=this.state.value;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:dn.a.sliderWithBoxContainer},o.a.createElement(un,bn({},this.props,{value:t,onChange:this.onChange})),o.a.createElement(Jt,bn({},this.props,{value:t,onChange:function(t){return e.sendTextEditIngestEvent(t)}}))))}}]),n}();En.defaultProps={colorSpace:"",ingestWorkflow:[m.E]};var Sn=En,jn=n(825),Cn=n.n(jn);function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mn(e);if(t){var o=Mn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==kn(t)&&"function"!=typeof t?Tn(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onChange=r.onChange.bind(Tn(r)),r}return function(e,t,n){t&&In(e.prototype,t)}(n,[{key:"onChange",value:function(e,t){var n=Object.assign({},this.props.swatches[this.props.id]),r={workflow:Object(O.e)(this.props.ingestWorkflow[0]),subcategory:m.Bb.SLIDERBAR,value:"rgb"};Object(B.a)(m.zb.SLIDE,{event:r},[].concat(function(e){return function(e){if(Array.isArray(e))return Rn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.ingestWorkflow),[m.Bb.SWATCH])),this.props.setActiveSwatch(this.props.id),"v"===t?(n.hsv[t]=e,this.props.onSwatchValueChange({i:this.props.id,swatch:Object(V.i)([n.hsv.h,n.hsv.s,n.hsv.v])})):(n.rgb[t]=e,this.props.onSwatchValueChange({i:this.props.id,swatch:Object(V.p)([n.rgb.r,n.rgb.g,n.rgb.b])}))}},{key:"render",value:function(){var e=this,t=this.props.swatches[this.props.id].rgb,n=t.r,r=t.g,a=t.b,i=this.props.swatches[this.props.id].hsv,c=i.h,s=i.s,l=i.v,u="linear-gradient(to right, rgb(0, ".concat(r,", ").concat(a,") 0%, rgb(255, ").concat(r,", ").concat(a,") 100%)"),f="linear-gradient(to right, rgb(".concat(n,", 0, ").concat(a,") 0%, rgb(").concat(n,", 255, ").concat(a,") 100%)"),p="linear-gradient(to right, rgb(".concat(n,", ").concat(r,", 0) 0%, rgb(").concat(n,", ").concat(r,", 255) 100%)"),h=m.x.MIN.HSV,d=m.x.MAX.HSV,b="linear-gradient(to right, #".concat(Object(V.u)("hsv",[c/d.H,s/d.S,0]),", #").concat(Object(V.u)("hsv",[c/d.H,s/d.S,1]),")"),y=m.x.MIN.RGB,v=m.x.MAX.RGB;return o.a.createElement("div",{className:Cn.a.sliderGroup},o.a.createElement(Sn,{colorSpace:"rgb",minValue:y.R,maxValue:v.R,color:u,step:1,value:n,onChange:function(t){return e.onChange(t,"r")},sliderLabel:this.props.intl.formatMessage({id:"app.create.rgb.r.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.rgb.r.sliderText.label"})}),o.a.createElement(Sn,{colorSpace:"rgb",minValue:y.G,maxValue:v.G,color:f,step:1,value:r,onChange:function(t){return e.onChange(t,"g")},sliderLabel:this.props.intl.formatMessage({id:"app.create.rgb.g.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.rgb.g.sliderText.label"})}),o.a.createElement(Sn,{colorSpace:"rgb",minValue:y.B,maxValue:v.B,color:p,step:1,value:a,onChange:function(t){return e.onChange(t,"b")},sliderLabel:this.props.intl.formatMessage({id:"app.create.rgb.b.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.rgb.b.sliderText.label"})}),o.a.createElement(Sn,{colorSpace:"rgb",minValue:h.V,maxValue:d.V,color:b,step:1,value:l,onChange:function(t){return e.onChange(t,"v")},sliderLabel:this.props.intl.formatMessage({id:"app.create.rgb.br.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.rgb.br.sliderText.label"})}))}}]),n}(),Pn=Object(s.b)((function(e){return{swatches:e.create.swatches}}),(function(e){return Object(c.b)({setActiveSwatch:f.setActiveSwatch},e)}))(Object(i.d)(_n));_n.defaultProps={ingestWorkflow:[m.E]};var xn=Pn,Dn=n(826),Nn=n.n(Dn);function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wn(e);if(t){var o=Wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?Fn(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onChange=r.onChange.bind(Fn(r)),r}return function(e,t,n){t&&Hn(e.prototype,t)}(n,[{key:"onChange",value:function(e,t){var n=Object.assign({},this.props.swatches[this.props.id].cmyk),r={workflow:Object(O.e)(this.props.ingestWorkflow[0]),subcategory:m.Bb.SLIDERBAR,value:"cmyk"};Object(B.a)(m.zb.SLIDE,{event:r},[].concat(function(e){return function(e){if(Array.isArray(e))return Bn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.ingestWorkflow),[m.Bb.SWATCH])),n[t]=e,this.props.setActiveSwatch(this.props.id),this.props.onSwatchValueChange({i:this.props.id,swatch:Object(V.a)([n.c,n.m,n.y,n.k])})}},{key:"getGradientValueForSliders",value:function(e){var t,n,r=this.props.swatches[this.props.id].cmyk,o={c:r.c/100,m:r.m/100,y:r.y/100,k:r.k/100},a=Object.assign({},o),i=Object.assign({},o);return a[e]=0,i[e]=1,t=Object(V.u)("cmyk",[a.c,a.m,a.y,a.k]),n=Object(V.u)("cmyk",[i.c,i.m,i.y,i.k]),"linear-gradient(to right, #".concat(t,", #").concat(n,")")}},{key:"render",value:function(){var e=this,t=this.props.swatches[this.props.id].cmyk,n=t.c,r=t.m,a=t.y,i=t.k,c=this.getGradientValueForSliders("c"),s=this.getGradientValueForSliders("m"),l=this.getGradientValueForSliders("y"),u=this.getGradientValueForSliders("k"),f=m.x.MIN.CMYK,p=m.x.MAX.CMYK;return o.a.createElement("div",{className:Nn.a.sliderGroup},o.a.createElement(Sn,{colorSpace:"cmyk",minValue:f.C,maxValue:p.C,color:c,step:1,value:n,onChange:function(t){return e.onChange(t,"c")},sliderLabel:this.props.intl.formatMessage({id:"app.create.cmyk.c.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.cmyk.c.sliderText.label"})}),o.a.createElement(Sn,{colorSpace:"cmyk",minValue:f.M,maxValue:p.M,color:s,step:1,value:r,onChange:function(t){return e.onChange(t,"m")},sliderLabel:this.props.intl.formatMessage({id:"app.create.cmyk.m.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.cmyk.m.sliderText.label"})}),o.a.createElement(Sn,{colorSpace:"cmyk",minValue:f.Y,maxValue:p.Y,color:l,step:1,value:a,onChange:function(t){return e.onChange(t,"y")},sliderLabel:this.props.intl.formatMessage({id:"app.create.cmyk.y.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.cmyk.y.sliderText.label"})}),o.a.createElement(Sn,{colorSpace:"cmyk",minValue:f.K,maxValue:p.K,color:u,step:1,value:i,onChange:function(t){return e.onChange(t,"k")},sliderLabel:this.props.intl.formatMessage({id:"app.create.cmyk.k.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.cmyk.k.sliderText.label"})}))}}]),n}(),Vn=Object(s.b)((function(e){return{swatches:e.create.swatches}}),(function(e){return Object(c.b)({setActiveSwatch:f.setActiveSwatch},e)}))(Object(i.d)(Gn));Gn.defaultProps={ingestWorkflow:[m.E]};var qn=Vn,Kn=n(827),Yn=n.n(Kn);function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qn(e){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qn(e);if(t){var o=Qn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==zn(t)&&"function"!=typeof t?$n(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onChange=r.onChange.bind($n(r)),r}return function(e,t,n){t&&Zn(e.prototype,t)}(n,[{key:"onChange",value:function(e,t){var n=Object.assign({},this.props.swatches[this.props.id].hsv),r={workflow:Object(O.e)(this.props.ingestWorkflow[0]),subcategory:m.Bb.SLIDERBAR,value:"hsv"};Object(B.a)(m.zb.SLIDE,{event:r},[].concat(function(e){return function(e){if(Array.isArray(e))return Xn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.ingestWorkflow),[m.Bb.SWATCH])),n[t]=e,this.props.setActiveSwatch(this.props.id),this.props.onSwatchValueChange({i:this.props.id,swatch:Object(V.i)([n.h,n.s,n.v])})}},{key:"getGradientValueForSliders",value:function(e){var t,n,r=this.props.swatches[this.props.id].hsv,o={h:r.h/360,s:r.s/100,v:r.v/100},a=Object.assign({},o),i=Object.assign({},o);return a[e]=0,i[e]=1,t=Object(V.u)("hsv",[a.h,a.s,a.v]),n=Object(V.u)("hsv",[i.h,i.s,i.v]),"linear-gradient(to right, #".concat(t,", #").concat(n,")")}},{key:"render",value:function(){var e=this,t=this.props.swatches[this.props.id].hsv,n=t.h,r=t.s,a=t.v,i=this.getGradientValueForSliders("s"),c=this.getGradientValueForSliders("v"),s=m.x.MIN.HSV,l=m.x.MAX.HSV;return o.a.createElement("div",{className:Yn.a.sliderGroup},o.a.createElement(Sn,{colorSpace:"hsv",minValue:s.H,maxValue:l.H,color:"linear-gradient(to right, red, yellow, lime, aqua, blue, magenta, red)",step:1,value:n,onChange:function(t){return e.onChange(t,"h")},sliderLabel:this.props.intl.formatMessage({id:"app.create.hsv.h.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.hsv.h.sliderText.label"})}),o.a.createElement(Sn,{colorSpace:"hsv",minValue:s.S,maxValue:l.S,color:i,step:1,value:r,onChange:function(t){return e.onChange(t,"s")},sliderLabel:this.props.intl.formatMessage({id:"app.create.hsv.s.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.hsv.s.sliderText.label"})}),o.a.createElement(Sn,{colorSpace:"hsv",minValue:s.V,maxValue:l.V,color:c,step:1,value:a,onChange:function(t){return e.onChange(t,"v")},sliderLabel:this.props.intl.formatMessage({id:"app.create.hsv.v.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.hsv.v.sliderText.label"})}))}}]),n}(),tr=Object(s.b)((function(e){return{swatches:e.create.swatches}}),(function(e){return Object(c.b)({setActiveSwatch:f.setActiveSwatch},e)}))(Object(i.d)(er));er.defaultProps={ingestWorkflow:[m.E]};var nr=tr,rr=n(828),or=n.n(rr);function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ur(e);if(t){var o=ur(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==ar(t)&&"function"!=typeof t?lr(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onChange=r.onChange.bind(lr(r)),r}return function(e,t,n){t&&cr(e.prototype,t)}(n,[{key:"onChange",value:function(e,t){var n=Object.assign({},this.props.swatches[this.props.id].lab),r={workflow:Object(O.e)(this.props.ingestWorkflow[0]),subcategory:m.Bb.SLIDERBAR,value:"hsv"};Object(B.a)(m.zb.SLIDE,{event:r},[].concat(function(e){return function(e){if(Array.isArray(e))return ir(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ir(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.ingestWorkflow),[m.Bb.SWATCH])),n[t]=e,this.props.setActiveSwatch(this.props.id),this.props.onSwatchValueChange({i:this.props.id,swatch:Object(V.j)([n.l,n.a,n.b])})}},{key:"getGradientValueForSliders",value:function(e){var t,n,r=this.props.swatches[this.props.id].lab,o={l:r.l/100,a:(r.a+128)/256,b:(r.b+128)/256},a=Object.assign({},o),i=Object.assign({},o);return a[e]=0,i[e]=1,t=Object(V.u)("lab",[a.l,a.a,a.b]),n=Object(V.u)("lab",[i.l,i.a,i.b]),"linear-gradient(to right, #".concat(t,", #").concat(n,")")}},{key:"render",value:function(){var e=this,t=this.props.swatches[this.props.id].lab,n=t.l,r=t.a,a=t.b,i=this.getGradientValueForSliders("l"),c=this.getGradientValueForSliders("a"),s=this.getGradientValueForSliders("b"),l=m.x.MIN.LAB,u=m.x.MAX.LAB;return o.a.createElement("div",{className:or.a.sliderGroup},o.a.createElement(Sn,{colorSpace:"lab",minValue:l.L,maxValue:u.L,color:i,step:1,value:n,onChange:function(t){return e.onChange(t,"l")},sliderLabel:this.props.intl.formatMessage({id:"app.create.lab.l.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.lab.l.sliderText.label"})}),o.a.createElement(Sn,{colorSpace:"lab",minValue:l.A,maxValue:u.A,color:c,step:1,value:r,onChange:function(t){return e.onChange(t,"a")},sliderLabel:this.props.intl.formatMessage({id:"app.create.lab.a.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.lab.a.sliderText.label"})}),o.a.createElement(Sn,{colorSpace:"lab",minValue:l.B,maxValue:u.B,color:s,step:1,value:a,onChange:function(t){return e.onChange(t,"b")},sliderLabel:this.props.intl.formatMessage({id:"app.create.lab.b.slider.label"}),txtLabel:this.props.intl.formatMessage({id:"app.create.lab.b.sliderText.label"})}))}}]),n}(),pr=Object(s.b)((function(e){return{swatches:e.create.swatches}}),(function(e){return Object(c.b)({setActiveSwatch:f.setActiveSwatch},e)}))(Object(i.d)(fr));fr.defaultProps={ingestWorkflow:[m.E]};var hr=pr;function dr(){return(dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var mr=n(829),br=n.n(mr);function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e,t){return(Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Er(e){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Or(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Er(e);if(t){var o=Er(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==yr(t)&&"function"!=typeof t?wr(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onChange=r.onChange.bind(wr(r)),r.onBlur=r.onBlur.bind(wr(r)),r.onKeyPress=r.onKeyPress.bind(wr(r)),r.onFocus=r.onFocus.bind(wr(r)),r.state={hex:"".concat(e.swatches[r.props.id].hex)},r}return function(e,t,n){t&&gr(e.prototype,t)}(n,[{key:"componentWillReceiveProps",value:function(e){e.swatches[e.id].hex!==this.state.hex&&this.setState({hex:"".concat(e.swatches[e.id].hex)})}},{key:"onBlur",value:function(){if(this.props.swatches[this.props.id].hex!==this.state.hex){var e=this.state.hex,t="";if("#"===e[0]&&(e=e.substr(1)),3===e.length){for(var n=0;n<=2;++n)t=t.concat("".concat(e[n]).concat(e[n]));e=t}else e.length>6&&(e=e.substr(0,6));e=parseInt(e,16);var r={r:(e>>>=0)>>16&255,g:e>>8&255,b:255&e},o=Object(V.u)("rgb",[r.r/255,r.g/255,r.b/255]),a={workflow:Object(O.e)(this.props.ingestWorkflow[0]),subcategory:m.Bb.SWATCH,value:"hex"};Object(B.a)(m.zb.VALUE_CHANGE,{event:a},[].concat(function(e){return function(e){if(Array.isArray(e))return vr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.ingestWorkflow),[m.Bb.SWATCH])),this.setState({hex:"".concat(o)}),this.props.onSwatchValueChange({i:this.props.id,swatch:Object(V.p)([r.r,r.g,r.b])})}}},{key:"onKeyPress",value:function(e){e.charCode===m.Jb.ENTER&&this.onBlur()}},{key:"onChange",value:function(e){var t=e.target.value;"#"===t[0]&&(t=t.substr(1)),this.setState({hex:t})}},{key:"onFocus",value:function(){this.props.setActiveSwatch(this.props.id)}},{key:"render",value:function(){return o.a.createElement("input",{"aria-label":this.props.hexLabel,onChange:this.onChange,onBlur:this.onBlur,value:"#".concat(this.state.hex),className:"spectrum-Textfield spectrum-Textfield--quiet ".concat(br.a.hexInputField),onKeyPress:this.onKeyPress,onFocus:this.onFocus,disabled:this.props.disabled})}}]),n}(),jr=Object(s.b)((function(e){return{swatches:e.create.swatches}}),(function(e){return Object(c.b)({setActiveSwatch:f.setActiveSwatch},e)}))(Sr);Sr.defaultProps={ingestWorkflow:[m.E],disabled:!1};var Cr=jr,kr=n(830),Rr=n.n(kr),Ir=[{label:"RGB",value:"RGB"},{label:"CMYK",value:"CMYK"},{label:"HSB",value:"HSV"},{label:"LAB",value:"LAB"}],Ar=function(){var e=Object(s.d)((function(e){return e.create.colorMode})),t=Object(s.c)();return o.a.createElement(et.a,{className:Rr.a.modeSelector,options:Ir,quiet:!0,value:e,onChange:function(e){return t(f.setColorMode(e))}})},Tr=o.a.memo((function(e){var t=e.children,n=(Object(s.d)((function(e){return e.user.locale})),Object(s.d)((function(e){return e.create.workflow}))===m.F.COLORWHEEL?Rr.a.colorwheelModeContainer:Rr.a.accessibilityModeContainer);return o.a.createElement("div",{className:n},o.a.createElement("div",{className:Rr.a.modeText},o.a.createElement(i.a,{id:"app.create.colorMode"})),o.a.createElement(Ar,null),t)})),Mr=n(831),_r=n.n(Mr),Pr={RGB:xn,CMYK:qn,HSV:nr,LAB:hr},xr={RGB:["R","G","B",o.a.createElement((function(e){return o.a.createElement("svg",dr({xmlns:"http://www.w3.org/2000/svg","data-name":"S_Sun_18_N@2x",height:"36",id:"S_Sun_18_N_2x",viewBox:"0 0 36 36",width:"36"},e),o.a.createElement("circle",{cx:"18",cy:"18",r:"7.9"}),o.a.createElement("rect",{height:"6",rx:"0.5",transform:"translate(-0.652 5.007) rotate(-22.5)",width:"3.6",x:"10.46",y:"1.142"}),o.a.createElement("rect",{height:"6",rx:"0.5",transform:"matrix(0.924, -0.383, 0.383, 0.924, -10.384, 11.51)",width:"3.6",x:"21.94",y:"28.858"}),o.a.createElement("rect",{height:"3.6",rx:"0.5",transform:"translate(-8.77 3.392) rotate(-22.5)",width:"6",x:"1.142",y:"21.94"}),o.a.createElement("rect",{height:"3.6",rx:"0.5",transform:"translate(-2.267 13.125) rotate(-22.5)",width:"6",x:"28.858",y:"10.46"}),o.a.createElement("rect",{height:"3.6",rx:"0.5",transform:"translate(11.441 24.4) rotate(-67.5)",width:"6",x:"20.979",y:"1.838"}),o.a.createElement("rect",{height:"3.6",rx:"0.5",transform:"translate(-22.465 31.145) rotate(-67.5)",width:"6",x:"9.073",y:"30.583"}),o.a.createElement("rect",{height:"6",rx:"0.5",transform:"translate(-8.891 10.788) rotate(-67.5)",width:"3.6",x:"1.827",y:"9.047"}),o.a.createElement("rect",{height:"6",rx:"0.5",transform:"translate(-2.152 44.664) rotate(-67.5)",width:"3.6",x:"30.546",y:"20.942"}))}),{className:_r.a.brightnessIcon})],CMYK:["C","M","Y","K"],HSV:["H","S","B"],LAB:["L","A","B"]},Dr=function(){var e=Object(s.d)((function(e){return e.create.colorMode})),t=xr[e];return o.a.createElement(o.a.Fragment,null,t.map((function(e,t){return o.a.createElement("span",{key:t},e)})))},Nr=Object(i.d)((function(e){for(var t=e.onSwatchValueChange,n=e.intl,r=e.showSliders,a=[],i=Object(s.d)((function(e){return e.create.colorMode})),c=Object(s.d)((function(e){return e.create.order})),l=Object(s.d)((function(e){return e.create.swatches})),u=Object(s.d)((function(e){return e.create.activeSwatch})),f=(Object(s.d)((function(e){return e.user.locale})),Pr[i]),p=0;p<l.length;++p){var h="app.create.hex.label.swatch".concat(p+1);m.Db?a.push(o.a.createElement("div",{key:p,className:_r.a.sliderAndInputFieldContainer},o.a.createElement(Cr,{id:c[p],onSwatchValueChange:t,hexLabel:n.formatMessage({id:h})}),r&&o.a.createElement(f,{id:c[p],onSwatchValueChange:t}))):p===u&&a.push(o.a.createElement("div",{key:p,className:_r.a.sliderAndInputFieldContainer},o.a.createElement("div",{className:_r.a.sliderHead},o.a.createElement(Ar,null),o.a.createElement(Cr,{id:c[p],onSwatchValueChange:t,hexLabel:n.formatMessage({id:h})})),o.a.createElement(f,{id:c[p],onSwatchValueChange:t})))}return a})),Lr=o.a.memo((function(e){var t=e.showSliders,n=e.onSwatchValueChange;return o.a.createElement("div",{className:_r.a.sliderpanel},o.a.createElement("div",{className:_r.a.sliderLabel},t&&o.a.createElement(Dr,null)),o.a.createElement(Nr,{onSwatchValueChange:n,showSliders:t}))})),Br=n(832),Hr=n.n(Br),Ur=o.a.memo((function(){for(var e=[],t=Object(s.d)((function(e){return e.create.swatches.length})),n=(Object(s.d)((function(e){return e.user.locale})),1);n<=t;++n){var r="app.create.swatch".concat(n,".name");e.push(o.a.createElement("div",{className:Hr.a.swatchName,key:n},o.a.createElement(i.a,{id:r})))}return o.a.createElement("div",{className:Hr.a.swatchesName},e)})),Fr=n(833),Wr=n.n(Fr);function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){Kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yr(){return(Yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zr(e,t){return(Zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zr(e,t)}(n,mt);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$r(e);if(t){var o=$r(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Gr(t)&&"function"!=typeof t?Jr(e):t}(this,n)}}(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).cw2Radius=e.radius||m.N,r.state={wheelReady:!1},r.onSwatchValueChange=r.onSwatchValueChange.bind(Jr(r));var o={workflow:Object(O.e)(e.ingestWorkflow[0]),subcategory:m.Bb.COLORWHEEL,value:m.Bb.DEFAULT};return r.ingestWorkflow=[].concat(function(e){return function(e){if(Array.isArray(e))return zr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.ingestWorkflow),[m.Bb.COLORWHEEL]),Object(B.a)(m.zb.DEFAULT,{event:o},r.ingestWorkflow),r}return function(e,t,n){t&&Xr(e.prototype,t)}(n,[{key:"onSwatchValueChange",value:function(e){if(this.harmonyEngine&&this.props.swatches.length>0){var t={baseColorIndex:this.props.baseColorIndex,harmonyRule:this.props.harmonyRule,swatches:this.props.swatches};this.props.setSwatch(e),t.swatches[e.i]=e.swatch,this.harmonyEngine.setNewTheme(t),this.harmonyEngine.onColorChange(e.i)}}},{key:"addSwatches",value:function(){for(var e=[],t=this.props.order,n=0;n<m.dc;++n)e.push(o.a.createElement(P.a,Yr({key:n,id:t[n]},this.props.swatches[t[n]],{className:t[n]===this.props.activeSwatch?Wr.a.activeSwatch:"",changeSwatchesOrder:this.props.changeSwatchesOrder,setBaseColorIndex:this.props.setBaseColorIndex,setActiveSwatch:this.props.setActiveSwatch,draggable:!0,children:o.a.createElement(Bt,{isBaseColor:t[n]===this.props.baseColorIndex,setBaseColorIndex:this.props.setBaseColorIndex,id:t[n]}),ingestWorkflow:this.ingestWorkflow})));return e}},{key:"positionSpokes",value:function(){for(var e=[],t=this.props.order,n=0;n<m.dc;++n)e.push(o.a.createElement(Ke,{key:n,id:t[n],canvas:this.canvas,wheelRadius:this.cw2Radius,onSwatchValueChange:this.onSwatchValueChange}));return e}},{key:"positionMarkers",value:function(){for(var e=[],t=this.props.order,n=0;n<m.dc;++n)e.push(o.a.createElement(Be,{baseColorIndex:this.props.baseColorIndex,key:n,id:t[n],canvas:this.canvas,wheelRadius:this.cw2Radius,onSwatchValueChange:this.onSwatchValueChange}));return e}},{key:"componentDidMount",value:function(){var e=document.getElementById("cw2canvas");this.cw2Context=e.getContext("2d"),Ee(this.props.wheelBrightness/100,this.cw2Radius,this.cw2Context),this.setState({wheelReady:!0})}},{key:"componentDidUpdate",value:function(e){if(Object(O.q)(this.harmonyEngine)&&this.props.swatches.length>0){var t={baseColorIndex:this.props.baseColorIndex,harmonyRule:this.props.harmonyRule,swatches:this.props.swatches};this.harmonyEngine=new Tt(null,this.props.setSwatch),Object(O.q)(re.a.getItem("restore-create-after-signin"))||(re.a.removeItem("restore-create-after-signin"),this.harmonyEngine.setToRestoreMode()),this.harmonyEngine.colorSet(t),this.harmonyEngine.resetMode(),this.props.fetchSuggestedTags()}else if(this.harmonyEngine&&this.props.harmonyRule!==e.harmonyRule)this.harmonyEngine.onRuleChange(this.props.harmonyRule),this.harmoneRuleChanged=!0;else if(this.harmonyEngine&&this.props.baseColorIndex!==e.baseColorIndex){var n={baseColorIndex:this.props.baseColorIndex,harmonyRule:this.props.harmonyRule,swatches:this.props.swatches};this.harmonyEngine.setNewTheme(n),this.harmonyEngine.onBaseColorChange()}else if(this.props.swatches.length>0){var r=this.props.activeSwatch,o=this.props.swatches[r].hsv.v;this.props.wheelBrightness!==o&&this.props.setWheelBrightness(o),this.harmoneRuleChanged&&!Object(O.a)(e.swatches,this.props.swatches)&&(this.props.fetchSuggestedTags(),this.harmoneRuleChanged=!1)}e.wheelBrightness!==this.props.wheelBrightness&&Ee(this.props.wheelBrightness/100,this.cw2Radius,this.cw2Context)}},{key:"renderLeftPanel",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(st,null),o.a.createElement(Tr,null))}},{key:"renderMiddlePanel",value:function(){var e=this;return o.a.createElement("div",{className:Wr.a.container},o.a.createElement(Se.a,{tablet:!0,down:!0},o.a.createElement(Gt,{ingestWorkflow:this.ingestWorkflow},o.a.createElement(st,{isDropdown:!0}))),o.a.createElement("div",{className:Wr.a.canvasMarkers,style:{height:2*this.cw2Radius,width:2*this.cw2Radius}},o.a.createElement("canvas",{id:"cw2canvas",className:Wr.a.wheel,width:2*this.cw2Radius,height:2*this.cw2Radius,ref:function(t){e.canvas=t}}),this.state.wheelReady&&this.positionMarkers(),this.state.wheelReady&&this.positionSpokes()),m.Db&&o.a.createElement(Ur,null),o.a.createElement("div",{className:Wr.a.themepanel},this.props.swatches.length>0&&this.addSwatches()),o.a.createElement(Lr,{showSliders:!0,onSwatchValueChange:this.onSwatchValueChange}))}}]),n}(),eo=Object(s.b)((function(e){var t=e.create,n=e.user;return qr(qr({},t),{},{locale:n.locale})}),(function(e){return Object(c.b)({changeSwatchesOrder:f.changeSwatchesOrder,fetchSuggestedTags:p.c,setBaseColorIndex:f.setBaseColorIndex,setSwatch:f.setSwatch,setActiveSwatch:f.setActiveSwatch,setWheelBrightness:f.setWheelBrightness},e)}))(Object(i.d)(Qr)),to=n(911),no=n(1053),ro=n.n(no),oo=n(1054),ao=n.n(oo),io=n(1055),co=n.n(io),so=n(842),lo=n.n(so);function uo(e){return(uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function po(e,t,n){return(po="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mo(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ho(e,t){return(ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mo(e){return(mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ho(e,t)}(n,je.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mo(e);if(t){var o=mo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==uo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).radius=parseInt(Object(O.l)(),10),r.position=e.markers[e.id],r}return function(e,t,n){t&&fo(e.prototype,t)}(n,[{key:"mouseDown",value:function(e){po(mo(n.prototype),"mouseDown",this).call(this,e)&&this.props.shouldDisplayZoomConatiner(!0)}},{key:"touchStart",value:function(e){po(mo(n.prototype),"touchStart",this).call(this,e),this.props.shouldDisplayZoomConatiner(!0)}},{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(O.e)(m.E),subcategory:m.Bb.MARKER};Object(B.a)(m.zb.MARKER_MOVE,{event:e},[m.Bb.IMAGE])}},{key:"mouseUp",value:function(e){po(mo(n.prototype),"mouseUp",this).call(this,e),this.props.fetchSuggestedTags(),this.sendMarkerMoveIngestEvent(),this.props.shouldDisplayZoomConatiner(!1)}},{key:"touchEnd",value:function(e){po(mo(n.prototype),"touchEnd",this).call(this,e),this.props.fetchSuggestedTags(),this.sendMarkerMoveIngestEvent(),this.props.shouldDisplayZoomConatiner(!1)}},{key:"updateMarkerPosition",value:function(e){var t=e;Object(O.q)(e.touches)||0===e.touches.length||(t=e.touches[0]),this.props.colorMood!==m.S&&this.props.setColorMood(m.S),this.position={x:t.pageX-this.hitOffset.x+this.radius,y:t.pageY-this.hitOffset.y+this.radius},this.position.x=Math.round(this.position.x),this.position.y=Math.round(this.position.y),this.position.x=Math.min(this.props.canvas.width-1,Math.max(0,this.position.x)),this.position.y=Math.min(this.props.canvas.height-1,Math.max(0,this.position.y));var n=this.getColor(this.position);this.props.setSwatch({i:this.props.id,swatch:Object(V.p)(n)}),this.props.setMarker({i:this.props.id,position:this.position})}},{key:"getColor",value:function(e){return this.props.canvas.getContext("2d").getImageData(e.x,e.y,1,1).data}},{key:"children",value:function(){return o.a.createElement("div",{className:lo.a.cross})}},{key:"paint",value:function(){if(this.props.markers.length>0){this.position=this.props.markers[this.props.id];var e=this.getColor(this.position);this.marker.style.backgroundColor="rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"),this.marker.style.left="calc(".concat(100*this.position.x/this.props.canvas.width,"% - ").concat(this.radius,"px)"),this.marker.style.top="calc(".concat(100*this.position.y/this.props.canvas.height,"% - ").concat(this.radius,"px)")}}},{key:"componentDidMount",value:function(){this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"render",value:function(){return this.position=this.position||{x:5,y:5},this.offset=0,po(mo(n.prototype),"render",this).call(this)}}]),n}();bo.defaultProps={assetType:m.g.THEME};var yo=Object(s.b)((function(e){var t=e.create;return{markers:t.markers,activeSwatch:t.activeSwatch}}),(function(e){return Object(c.b)({fetchSuggestedTags:p.c,setSwatch:f.setSwatch,setMarker:f.setMarker,setColorMood:f.setColorMood,setActiveSwatch:f.setActiveSwatch},e)}))(bo),vo=n(843),go=n.n(vo);function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eo(e,t){return(Eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function So(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eo(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jo(e);if(t){var o=jo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Oo(t)&&"function"!=typeof t?So(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Co(So(r=t.call(this,e)),"tooltipInfo",(function(){return o.a.createElement(y.a,{className:go.a.tooltip,placement:"bottom",trigger:m.Ib?"click":"hover"},o.a.createElement(ze.a,{className:go.a.helpIcon}),o.a.createElement(g.a,{variant:"info"},o.a.createElement("div",{className:go.a.moodSelectorTooltipTitle},o.a.createElement(i.a,{id:"app.create.mood.selector.title.tooltip"})),o.a.createElement("div",{className:go.a.moodSelectorTooltipInfo},o.a.createElement(i.a,{id:"app.create.mood.selector.info.tooltip",values:{name:r.props.themeName}}))))})),Co(So(r),"getMoodOptions",(function(){return Object.keys(m.y).map((function(e,t){return{label:r.props.intl.formatMessage({id:m.y[e]}),value:e}}))})),r.onChange=r.onChange.bind(So(r)),r}return function(e,t,n){t&&wo(e.prototype,t)}(n,[{key:"onChange",value:function(e){var t={workflow:Object(O.e)(m.E),subcategory:m.Bb.MOOD_RULE,value:e};Object(B.a)(m.zb.RULE_CHANGED,{event:t},[m.Bb.IMAGE]),this.props.setColorMood(e)}},{key:"render",value:function(){var e=this;return m.Db?o.a.createElement("div",{className:go.a.container},o.a.createElement("div",{className:go.a.text},o.a.createElement(i.a,{id:"app.create.extractUsingMood"}),this.tooltipInfo()),o.a.createElement($e.a,{vertical:!0,name:"mood-selector",selectedValue:this.props.colorMood,onChange:function(t){return e.onChange(t)}},Object.keys(m.y).map((function(t,n){return o.a.createElement(Ze.a,{key:n,label:e.props.intl.formatMessage({id:m.y[t]}),value:t})})))):o.a.createElement("div",{className:go.a.dropdown},o.a.createElement(i.a,{id:"app.create.mood.selector.title.tooltip"}),o.a.createElement(ot,{options:this.getMoodOptions(),value:this.props.colorMood,onChange:this.onChange,isControlled:!0}),this.tooltipInfo())}}]),n}(),Ro=Object(s.b)((function(e){var t=e.create,n=e.user;return{colorMood:t.colorMood,locale:n.locale}}),(function(e){return Object(c.b)({setColorMood:f.setColorMood},e)}))(ko),Io=Object(i.d)(Ro),Ao=function(){return o.a.createElement("svg",{id:"Group_1","data-name":"Group 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 191.2 97.9"},o.a.createElement("path",{id:"Path_347","data-name":"Path 347",className:"cls-1",d:"M51.5,33H3.5A3.543,3.543,0,0,0,0,36.5v35A3.543,3.543,0,0,0,3.5,75h48A3.543,3.543,0,0,0,55,71.5v-35A3.543,3.543,0,0,0,51.5,33Zm-48,3h48a.472.472,0,0,1,.5.5V67.1L40.5,55.4a2.94,2.94,0,0,0-2.2-.9h0a3.1,3.1,0,0,0-2.2.9l-4.7,5-11.8-12a2.94,2.94,0,0,0-2.2-.9h0a3.1,3.1,0,0,0-2.2.9L3,60.8V36.5A.472.472,0,0,1,3.5,36ZM3,71.5V63.7L16.7,49.9a1.08,1.08,0,0,1,.7-.3h0a.908.908,0,0,1,.7.3L40.2,72H3.5A.472.472,0,0,1,3,71.5Zm48.5.5H42.9c0-.1-.1-.1-.1-.2l-9.9-10,4.7-5a.908.908,0,0,1,.7-.3h0a.779.779,0,0,1,.7.3L52,70v1.5A.472.472,0,0,1,51.5,72Z"}),o.a.createElement("path",{id:"Path_348","data-name":"Path 348",className:"cls-1",d:"M41.8,51.3h0a5.664,5.664,0,0,0,4.1-1.7,5.835,5.835,0,0,0,1.7-4.1,5.957,5.957,0,0,0-5.8-5.9h0a5.85,5.85,0,0,0,0,11.7Zm-2.7-8.5a3.864,3.864,0,0,1,2.7-1.1h0a3.8,3.8,0,0,1,3.8,3.8,3.756,3.756,0,0,1-3.8,3.8h0A3.8,3.8,0,0,1,38,45.5,3.864,3.864,0,0,1,39.1,42.8Z"}),o.a.createElement("path",{id:"Path_349","data-name":"Path 349",className:"cls-1",d:"M187.3,35H160.1l-7.5-6.8a4.713,4.713,0,0,0-3-1.2H134.3a3.159,3.159,0,0,0-3.2,3.2V70.3a3.691,3.691,0,0,0,3.7,3.7h52.7a3.691,3.691,0,0,0,3.7-3.7V38.7A3.933,3.933,0,0,0,187.3,35Zm-53.1-5h15.3a1.284,1.284,0,0,1,1,.4l5.1,4.6H134V30.2A.215.215,0,0,1,134.2,30ZM188,70.3a.684.684,0,0,1-.7.7H134.6a.684.684,0,0,1-.7-.7V38h53.3a.684.684,0,0,1,.7.7V70.3Z"}),o.a.createElement("path",{id:"Path_350","data-name":"Path 350",className:"cls-1",d:"M100.4,86,93,93.4V55.7a1.5,1.5,0,0,0-3,0V93.4L82.6,86a1.449,1.449,0,0,0-2.1,0,1.541,1.541,0,0,0,0,2.1L89.4,97a2.878,2.878,0,0,0,2.1.9,2.723,2.723,0,0,0,2.1-.9l8.9-8.9a1.485,1.485,0,0,0-2.1-2.1Z"}),o.a.createElement("path",{id:"Path_351","data-name":"Path 351",className:"cls-1",d:"M119.5,26a1.538,1.538,0,0,0-1.5,1.5V71.2a.86.86,0,0,1-.8.8H97.5a1.5,1.5,0,0,0,0,3h19.7a3.8,3.8,0,0,0,3.8-3.8V27.5A1.538,1.538,0,0,0,119.5,26Z"}),o.a.createElement("path",{id:"Path_352","data-name":"Path 352",className:"cls-1",d:"M121,21.4a.749.749,0,0,0-.1-.5h0c-.1-.2-.2-.3-.3-.5h0L99.6.4h0a2.186,2.186,0,0,0-.5-.3h0a1.486,1.486,0,0,0-.6-.1H67.8A3.8,3.8,0,0,0,64,3.8V71.2A3.8,3.8,0,0,0,67.8,75H85.5a1.5,1.5,0,0,0,0-3H67.8a.86.86,0,0,1-.8-.8V3.8a.86.86,0,0,1,.8-.8H97V19.2a3.8,3.8,0,0,0,3.8,3.8h19c.1,0,.2,0,.2-.1h.1c.1,0,.2-.1.3-.1l.1-.1c.1,0,.1-.1.2-.1h0a2.186,2.186,0,0,0,.3-.5v-.7Zm-21-2.2V5l15.7,15h-15A.858.858,0,0,1,100,19.2Z"}))},To=n(844),Mo=n.n(To),_o=n(907),Po=n.n(_o);function xo(e){return(xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){Go(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lo(){return(Lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uo(e,t){return(Uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wo(e){return(Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uo(e,t)}(n,mt);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wo(e);if(t){var o=Wo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==xo(t)&&"function"!=typeof t?Fo(e):t}(this,n)}}(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Go(Fo(r=t.call(this,e)),"onExtractionComplete",(function(e){var t=[],n=e.finalColor,o=e.points,a=m.g.THEME;n.forEach((function(e){var n=e.rgb,r=n.r,o=n.g,a=n.b;t.push(Object(V.p)([255*r,255*o,255*a]))})),r.props.setSwatchesAndMarkers({swatches:t,markers:o,assetType:a})})),Go(Fo(r),"keyDown",(function(e){e.keyCode===m.Jb.ENTER&&r.fileInput.click()})),Go(Fo(r),"onHexKeyDown",(function(e){return function(t){t.keyCode===m.Jb.ENTER&&r.copyHex(e)()}})),Go(Fo(r),"copyHex",(function(e){return function(){var t=Object(O.h)("#".concat(e)),n={workflow:Object(O.e)(r.props.ingestWorkflow[0]),subcategory:m.Bb.IMAGE,value:e},a=m.zb.COPY_HEX;t?(r.props.notification({variant:m.uc,message:o.a.createElement(i.a,{id:"app.oneupactions.toast.success.message"})}),Object(B.a)(a,{event:n},[m.Bb.IMAGE])):r.props.notification({variant:m.gb,message:o.a.createElement(i.a,{id:"app.oneupactions.toast.error.message"})})}})),Go(Fo(r),"replaceButton",(function(){return m.Gb&&!r.imageAvailable?null:o.a.createElement(_.a,{quiet:!0,variant:"action",className:Mo.a.replaceImage,label:r.props.intl.formatMessage({id:"app.createfromimage.replace"}),icon:o.a.createElement(co.a,{className:Mo.a.imageIcon,alt:r.props.intl.formatMessage({id:"app.createfromimage.replace"})}),disabled:!r.imageAvailable,onClick:r.handleClick})})),r.loadImageFile=r.loadImageFile.bind(Fo(r)),r.draw=r.draw.bind(Fo(r)),r.imageLoaded=r.imageLoaded.bind(Fo(r)),r.fileDropHandler=r.fileDropHandler.bind(Fo(r)),r.handleClick=r.handleClick.bind(Fo(r)),r.imageAvailable=!1,r.fileReader=new FileReader,r.fileReader.onload=function(e){r.imageLoaded(e.target.result)},r.selectFileOption=r.selectFileOption.bind(Fo(r)),r.shouldDisplayZoomConatiner=r.shouldDisplayZoomConatiner.bind(Fo(r)),r.state={isZoomContainerActive:!1};var a={workflow:Object(O.e)(e.ingestWorkflow[0]),subcategory:m.Bb.IMAGE,value:m.Bb.DEFAULT};return r.ingestWorkflow=[].concat(function(e){return function(e){if(Array.isArray(e))return Bo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bo(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.ingestWorkflow),[m.Bb.IMAGE]),Object(B.a)(m.zb.DEFAULT,{event:a},r.ingestWorkflow),r}return function(e,t,n){t&&Ho(e.prototype,t)}(n,[{key:"componentDidMount",value:function(){Object(O.q)(this.props.image)||(this.name="color theme_".concat(this.props.imageName),this.imageLoaded(this.props.image))}},{key:"loadImageFile",value:function(e){e.target&&e.target.files&&0!==e.target.files.length&&Object(O.r)(e.target.files[0].type)&&(Object(O.q)(this.props.image)||this.props.clearImageFromStore(),this.imageAvailable=!1,this.name="color theme_".concat(e.target.files[0].name.split(".")[0]),this.fileReader.readAsDataURL(e.target.files[0]),this.props.manageImageForExtraction({data:window.URL.createObjectURL(e.target.files[0]),name:e.target.files[0].name.split(".")[0]}))}},{key:"imageLoaded",value:function(e){this.props.setColorMood(m.t),this.props.setColorMode(),this.props.setInitialOrder({order:Object(O.k)(m.dc)}),this.props.setThemeNameAndIsUserEnteredName({themeName:this.name,isUserEnteredName:!1}),this.zoomImg=document.createElement("img"),this.zoomImg.onload=this.draw,this.zoomImg.src=e}},{key:"draw",value:function(e){var t,n=this.zoomImg.naturalWidth,r=this.zoomImg.naturalHeight,o=n/r,a=this.canvas.getContext("2d"),i=this.canvas,c=window.innerHeight<1100?.38*window.innerHeight:.5*window.innerHeight,s=0;m.Db?(t=Math.min(c,r),s=Math.min(this.imageContainer.offsetWidth-2*Object(O.l)(),t*o)):s=this.imageContainer.offsetWidth,t=s/o,a.clearRect(0,0,s,t),i.width=s,i.height=t,a.drawImage(this.zoomImg,0,0,s,t),this.extractColors(),this.dropZoneContainer.hidden=!0,this.imageAvailable=!0}},{key:"extractColors",value:function(){var e=this,t=this.canvas.width,n=this.canvas.height,r={onExtractionComplete:function(t){e.onExtractionComplete(t)},startMessage:{imageData:this.canvas.getContext("2d").getImageData(0,0,t,n),width:t,height:n,swatchCount:m.dc,colorMood:this.props.colorMood}};to.a.queueTask(r)}},{key:"handleClick",value:function(e){this.fileInput.click()}},{key:"fileDropHandler",value:function(e){if(e.dataTransfer.files.length>0){this.props.clearImageFromStore(),Object(O.t)(e),this.loadImageFile({target:e.dataTransfer});var t={workflow:Object(O.e)(this.props.ingestWorkflow[0]),subcategory:m.Bb.IMAGE};Object(B.a)(m.zb.EXTRACT_IMAGE,{event:t},this.props.ingestWorkflow)}}},{key:"positionMarkers",value:function(){for(var e=[],t=this.props.order,n=0;n<m.dc;++n)e.push(o.a.createElement(yo,{key:n,id:t[n],canvas:this.canvas,shouldDisplayZoomConatiner:this.shouldDisplayZoomConatiner}));return e}},{key:"addSwatches",value:function(){for(var e=[],t=this.props.order,n=0;n<m.dc;++n)e.push(o.a.createElement(P.a,Lo({key:n,id:t[n],active:t[n]===this.props.activeSwatch},this.props.swatches[t[n]],{changeSwatchesOrder:this.props.changeSwatchesOrder,draggable:!0,setActiveSwatch:this.props.setActiveSwatch,ingestWorkflow:this.ingestWorkflow})));return e}},{key:"addHexInputs",value:function(){for(var e=[],t=this.props,n=t.order,r=t.swatches,a=0;a<m.dc;++a)e.push(o.a.createElement("div",{key:a,className:Mo.a.hexFieldContainer,onClick:this.copyHex(r[n[a]].hex)},o.a.createElement("span",{tabIndex:"0",onKeyDown:this.onHexKeyDown(r[n[a]].hex)},"#".concat(r[n[a]].hex)),o.a.createElement(Po.a,{size:"S",className:Mo.a.copyIcon})));return e}},{key:"componentDidUpdate",value:function(e){this.props.colorMood!==e.colorMood&&this.props.colorMood!==m.S&&this.imageAvailable&&(this.extractColors(),this.colorMoodChanged=!0),this.colorMoodChanged&&!Object(O.a)(e.swatches,this.props.swatches)&&(this.props.fetchSuggestedTags(),this.colorMoodChanged=!1),0===e.swatches.length&&this.props.swatches.length>0&&this.props.fetchSuggestedTags()}},{key:"shouldDisplayZoomConatiner",value:function(e){this.setState({isZoomContainerActive:e})}},{key:"renderLeftPanel",value:function(){return this.imageAvailable?o.a.createElement(Io,null):""}},{key:"selectFileOption",value:function(){var e=m.Ib?"app.createfromimage.tapmessage":"app.createfromimage.selectfilemessage",t=m.Ib?"app.createfromimage.taptext":"app.createfromimage.selectfiletext";return o.a.createElement("span",null,o.a.createElement(i.a,{id:e,values:{selectFileText:o.a.createElement("span",{className:Mo.a.selectAFileOption,onClick:this.handleClick,onKeyDown:this.keyDown,tabIndex:"0"},o.a.createElement(i.a,{id:t}))}}))}},{key:"renderMiddlePanel",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,(m.Hb||m.Gb&&this.imageAvailable)&&o.a.createElement(Gt,{ingestWorkflow:this.ingestWorkflow},this.imageAvailable&&o.a.createElement(Io,{isDropDown:!0})),this.replaceButton(),o.a.createElement("div",{className:Mo.a.imageContainer,onDragOver:O.t,onDrop:this.fileDropHandler,ref:function(t){e.imageContainer=t}},o.a.createElement("div",{className:Mo.a.dropZoneContainer,ref:function(t){e.dropZoneContainer=t}},o.a.createElement(ro.a,null,o.a.createElement("h1",{className:Mo.a.lineOne},this.props.intl.formatMessage({id:"app.createfromimage.pagedescription.h1"})),o.a.createElement(ao.a,{heading:this.props.intl.formatMessage({id:"app.createfromimage.dragandropfilemessage"}),description:this.selectFileOption(),illustration:o.a.createElement(Ao,null)}))),o.a.createElement("input",{type:"file",accept:"image/jpg,image/jpeg,image/png,image/gif,image/bmp",onChange:this.loadImageFile,ref:function(t){e.fileInput=t}}),o.a.createElement("div",{className:Mo.a.canvasMarkers},this.imageAvailable&&this.state.isZoomContainerActive&&this.props.markers.length>0&&this.props.activeSwatch>0&&o.a.createElement("div",{className:Mo.a.zoomedImageContainer,style:{left:"".concat(this.props.markers[this.props.activeSwatch].x-55,"px"),top:"".concat(this.props.markers[this.props.activeSwatch].y-140,"px"),zIndex:10}},o.a.createElement("div",{className:Mo.a.zoomedImageInnerContainer},o.a.createElement("img",{className:Mo.a.zoomedImage,src:this.canvas.toDataURL("image/jpeg"),width:8*this.canvas.width,height:8*this.canvas.height,style:{left:"".concat(-1*this.props.markers[this.props.activeSwatch].x*8+45,"px"),top:"".concat(-1*this.props.markers[this.props.activeSwatch].y*8+45,"px")},alt:this.props.intl.formatMessage({id:"app.images.create.from.image.alt"})}))),o.a.createElement("canvas",{width:0,height:0,onClick:this.handleClick,ref:function(t){e.canvas=t}}),this.imageAvailable&&this.props.markers.length>0&&this.positionMarkers())),this.imageAvailable&&this.props.swatches.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Mo.a.themebox},this.addSwatches()),o.a.createElement("div",{className:Mo.a.hexbox},this.addHexInputs())))}}]),n}(),qo=Object(s.b)((function(e){var t=e.create,n=e.user;return No(No({},t),{},{locale:n.locale})}),(function(e){return Object(c.b)(No(No({},f),{},{fetchSuggestedTags:p.c,setThemeNameAndIsUserEnteredName:p.h,clearThemeNameAndTags:p.b,setColorMood:f.setColorMood,setColorMode:f.setColorMode,setInitialOrder:f.setInitialOrder,manageImageForExtraction:f.manageImageForExtraction,notification:ne.a}),e)}))(Vo),Ko=Object(i.d)(qo),Yo=n(52),zo=n.n(Yo),Xo=n(225),Zo=n.n(Xo);function Jo(e){return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qo(e,t,n){return(Qo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=na(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ea(e,t){return(ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ra=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}(n,je.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na(e);if(t){var o=na(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Jo(t)&&"function"!=typeof t?ta(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ta(r=t.call(this,e)),"updateMarkerPosition",(function(e){var t=e;Object(O.q)(e.touches)||0===e.touches.length||(t=e.touches[0]),r.position={x:Math.round(t.pageX-r.hitOffset.x+r.radius),y:Math.round(t.pageY-r.hitOffset.y+r.radius)},r.position={x:Math.min(r.props.canvas.width-1,Math.max(0,r.position.x)),y:Math.min(r.props.canvas.height-1,Math.max(0,r.position.y))};var n=r.getColor(r.position),o={r:n[0],g:n[1],b:n[2],a:n[3]};r.props.setSwatch({i:r.props.id,swatch:{rgb:o},assetType:m.g.GRADIENT}),r.props.setMarker({i:r.props.id,position:r.position}),r.currentMarkerMoved=!0})),r.radius=zo.a.colorStopDiameter/2,r.position=e.markers[e.id],r}return function(e,t,n){t&&$o(e.prototype,t)}(n,[{key:"mouseDown",value:function(e){Qo(na(n.prototype),"mouseDown",this).call(this,e)&&this.props.shouldDisplayZoomConatiner(!0)}},{key:"touchStart",value:function(e){Qo(na(n.prototype),"touchStart",this).call(this,e),this.props.shouldDisplayZoomConatiner(!0)}},{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(O.e)(m.E),subcategory:"".concat(m.Bb.GRADIENT,"_").concat(m.Bb.MARKER)};Object(B.a)(m.zb.MARKER_MOVE,{event:e},[m.Bb.IMAGE])}},{key:"mouseUp",value:function(e){Qo(na(n.prototype),"mouseUp",this).call(this,e),this.sendMarkerMoveIngestEvent(),this.props.shouldDisplayZoomConatiner(!1),this.setResetButtonState(!1),this.props.setActiveSwatch(-1)}},{key:"touchEnd",value:function(e){Qo(na(n.prototype),"touchEnd",this).call(this,e),this.sendMarkerMoveIngestEvent(),this.props.shouldDisplayZoomConatiner(!1),this.setResetButtonState(!1),this.props.setActiveSwatch(-1)}},{key:"getColor",value:function(e){return this.props.canvas.getContext("2d").getImageData(e.x,e.y,1,1).data}},{key:"paint",value:function(){if(this.props.markers.length>0){this.position=this.props.markers[this.props.id];var e=this.getColor(this.position);this.marker.style.backgroundColor="rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"),this.marker.style.left="calc(".concat(100*this.position.x/this.props.canvas.width,"% - ").concat(this.radius,"px + 3px)"),this.marker.style.top="calc(".concat(100*this.position.y/this.props.canvas.height,"% - ").concat(this.radius,"px - 3px)"),this.marker.style.borderColor=Zo.a.defaultGradientColorStopBorder,this.props.activeSwatch===this.props.id&&(this.marker.style.borderColor=Zo.a.selectedGradientColorStopBorder)}}},{key:"componentDidMount",value:function(){this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"render",value:function(){return this.position=this.position||{x:5,y:5},this.offset=0,Qo(na(n.prototype),"render",this).call(this)}}]),n}();ra.defaultProps={assetType:m.g.GRADIENT};var oa=Object(s.b)((function(e){var t=e.create;return{markers:t.markers,activeSwatch:t.activeSwatch}}),(function(e){return Object(c.b)({setSwatch:f.setSwatch,setMarker:f.setMarker,setActiveSwatch:f.setActiveSwatch},e)}))(ra),aa=n(921),ia=n(845),ca=n.n(ia),sa=n(85),la=n.n(sa),ua=n(1281),fa=n.n(ua),pa=n(846),ha=n.n(pa);function da(e){return(da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ba(e,t){return(ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function va(e){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ba(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=va(e);if(t){var o=va(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==da(t)&&"function"!=typeof t?ya(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),ga(ya(r=t.call(this,e)),"mouseDown",(function(e){Object(O.p)(e)||document.body.addEventListener("mouseup",r.extractGradient)})),ga(ya(r),"touchStart",(function(){document.body.addEventListener("touchend",r.extractGradient)})),ga(ya(r),"sendIngestEvent",(function(e){var t={workflow:Object(O.e)(m.E),subcategory:m.Bb.SLIDERBAR,value:e};Object(B.a)(m.zb.SLIDE,{event:t},[m.Bb.GRADIENT,m.Bb.STOPS])})),ga(ya(r),"extractGradient",(function(){r.props.stopsCountChanged(r.state.stops),r.sendIngestEvent(r.state.stops),document.body.removeEventListener("mouseup",r.extractGradient)})),ga(ya(r),"sliderChanged",(function(e){r.setState({stops:e})})),ga(ya(r),"keyDown",(function(e){(e.keyCode===m.Jb.UP_ARROW||e.keyCode===m.Jb.RIGHT_ARROW)&&r.state.stops<m.sb.MAX?(r.props.stopsCountChanged(r.state.stops+1),r.sendIngestEvent(r.state.stops+1)):(e.keyCode===m.Jb.DOWN_ARROW||e.keyCode===m.Jb.LEFT_ARROW)&&r.state.stops>m.sb.MIN&&(r.props.stopsCountChanged(r.state.stops-1),r.sendIngestEvent(r.state.stops-1))})),ga(ya(r),"resetClicked",(function(){r.setState({stops:m.sb.DEFAULT}),r.props.resetGradient(m.sb.DEFAULT);var e={workflow:Object(O.e)(m.E),subcategory:m.Bb.RESET};Object(B.a)(m.zb.RESET,{event:e},[m.Bb.GRADIENT])})),r.state={stops:r.props.stops},r}return function(e,t,n){t&&ma(e.prototype,t)}(n,[{key:"componentDidMount",value:function(){var e=Qt.a.findDOMNode(this.sliderRef);Object(O.u)(!0,[e])}},{key:"componentWillUnmount",value:function(){var e=Qt.a.findDOMNode(this.sliderRef);Object(O.u)(!1,[e])}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:ha.a.container},o.a.createElement("div",{onMouseDown:this.mouseDown,onKeyDown:this.keyDown},o.a.createElement(tn.a,{ref:function(t){e.sliderRef=t},className:ha.a.stopSlider,min:m.sb.MIN,max:m.sb.MAX,value:this.state.stops,step:1,renderLabel:!0,label:o.a.createElement(i.a,{id:"app.create.gradinetEditor.gradientStops"}),onChange:this.sliderChanged})),o.a.createElement(la.a,{variant:"small",className:ha.a.separator}),o.a.createElement(_.a,{quiet:!0,variant:"action",className:ha.a.reset,label:this.props.intl.formatMessage({id:"app.create.gradinetEditor.resetAction"}),icon:o.a.createElement(fa.a,{className:ha.a.resetIcon}),onClick:this.resetClicked,disabled:this.props.isResetDisabled})))}}]),n}(),wa=Object(i.d)(Oa),Ea=n(1284);function Sa(e){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(n),!0).forEach((function(t){Ma(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ia(e,t){return(Ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Aa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _a=new(n.n(Ea).a),Pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ia(e,t)}(n,mt);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ta(e);if(t){var o=Ta(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Sa(t)&&"function"!=typeof t?Aa(e):t}(this,n)}}(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Ma(Aa(r=t.call(this,e)),"handleClick",(function(){r.fileInput.click()})),Ma(Aa(r),"keyDown",(function(e){e.keyCode===m.Jb.ENTER&&r.fileInput.click()})),Ma(Aa(r),"loadImageFile",(function(e){e.target&&e.target.files&&0!==e.target.files.length&&Object(O.r)(e.target.files[0].type)&&(Object(O.q)(r.props.image)||r.props.clearImageFromStore(),r.imageAvailable=!1,r.name="gradient_".concat(e.target.files[0].name.split(".")[0]),r.fileReader.readAsDataURL(e.target.files[0]),r.extractionType="default",r.path=[],r.props.manageImageForExtraction({data:window.URL.createObjectURL(e.target.files[0]),name:e.target.files[0].name.split(".")[0]}))})),Ma(Aa(r),"imageLoaded",(function(e){r.props.setThemeNameAndIsUserEnteredName({themeName:r.name,isUserEnteredName:!1}),r.zoomImg=document.createElement("img"),r.zoomImg.onload=r.draw,r.zoomImg.src=e})),Ma(Aa(r),"fileDropHandler",(function(e){e.dataTransfer.files.length>0&&(r.props.clearImageFromStore(),Object(O.t)(e),r.loadImageFile({target:e.dataTransfer}))})),Ma(Aa(r),"draw",(function(){var e,t=r.zoomImg.naturalWidth,n=r.zoomImg.naturalHeight,o=t/n,a=r.canvas.getContext("2d"),i=r.canvas,c=window.innerHeight<1100?.38*window.innerHeight:.5*window.innerHeight,s=0;m.Db?(e=Math.min(c,n),s=Math.min(r.imageContainer.offsetWidth-zo.a.colorStopDiameter/2,e*o)):s=r.imageContainer.offsetWidth,e=s/o,a.clearRect(0,0,s,e),i.width=s,i.height=e,a.drawImage(r.zoomImg,0,0,s,e),r.extractGradient(),r.dropZoneContainer.hidden=!0,r.imageAvailable=!0,r.imageContainer.style.paddingRight="".concat(zo.a.colorStopDiameterActive/2,"px")})),Ma(Aa(r),"selectFileOption",(function(){return o.a.createElement("span",null,o.a.createElement(i.a,{id:"app.createfromimage.selectfilemessage",values:{selectFileText:o.a.createElement("span",{className:ca.a.selectAFileOption,onClick:r.handleClick,onKeyDown:r.keyDown,tabIndex:"0"},o.a.createElement(i.a,{id:"app.createfromimage.selectfiletext"}))}}))})),Ma(Aa(r),"extractGradient",(function(){var e=r.canvas.width,t=r.canvas.height,n=r.canvas.getContext("2d").getImageData(0,0,e,t),o={extractionType:r.extractionType,imageData:n.data,imageWidth:e,imageHeight:t,stops:r.stops};"linearPath"===r.extractionType&&(o.path=r.path),_a.postMessage(o),_a.onmessage=function(e){var t=[],n=[],o=m.g.GRADIENT,a=0,i=0;e.data.data.forEach((function(e,r){if(0!==r){var o=(e.offset-a)*m.V;i=a+o}t.push({rgb:ka({},e.color),offset:e.offset,midpoint:m.V,positionOfMidpoint:i}),a=e.offset,n.push(e.position)})),r.props.setSwatchesAndMarkers({stops:t,markers:n,assetType:o}),r.props.setInitialOrder({order:Object(O.k)(r.stops)});var c={workflow:Object(O.e)(r.props.ingestWorkflow[0]),subcategory:"".concat(m.Bb.GRADIENT,"_").concat(m.Bb.IMAGE),value:"linearPath"===r.extractionType?"alongPath":"default"};Object(B.a)(m.zb.GRADIENT_EXTRACT_IMAGE,{event:c},r.props.ingestWorkflow)}})),Ma(Aa(r),"onMouseDown",(function(e){Object(O.p)(e)||(r.path=[],r.extractionType="linearPath",document.body.addEventListener("mousemove",r.generatePath),document.body.addEventListener("mouseup",r.onMouseUp))})),Ma(Aa(r),"onTouchStart",(function(e){r.path=[],r.extractionType="linearPath",document.body.addEventListener("touchmove",r.generatePath),document.body.addEventListener("touchend",r.onTouchEnd)})),Ma(Aa(r),"generatePath",(function(e){var t=e,n=r.canvas.getBoundingClientRect();Object(O.q)(e.touches)||0===e.touches.length||(t=e.touches[0]);var o={x:Math.round(t.pageX-n.left),y:Math.round(t.pageY-n.top)};r.path.push(o)})),Ma(Aa(r),"shouldDisplayZoomConatiner",(function(e){r.setState({isZoomContainerActive:e})})),Ma(Aa(r),"shouldResetBeDisabled",(function(e){r.setState({isResetDisabled:e})})),Ma(Aa(r),"stopsCountChanged",(function(e){r.stops!==e&&(r.stops=e,r.setState({isResetDisabled:!1}),r.draw())})),Ma(Aa(r),"resetGradient",(function(e){r.stops=e,r.extractionType="default",r.draw(),r.shouldResetBeDisabled(!0)})),Ma(Aa(r),"drawConnectingLines",(function(){var e=r.canvas.width,t=r.canvas.height,n=r.canvasLines.getContext("2d");r.canvasLines.width=e,r.canvasLines.height=t,n.clearRect(0,0,e,t),n.strokeStyle="#FFFFFF",n.lineWidth=2;for(var o=0;o<r.props.order.length-1;o++)n.beginPath(),n.moveTo(r.props.markers[r.props.order[o]].x,r.props.markers[r.props.order[o]].y),n.lineTo(r.props.markers[r.props.order[o+1]].x,r.props.markers[r.props.order[o+1]].y),n.stroke()})),Ma(Aa(r),"positionMarkers",(function(){var e=[];return r.props.order.forEach((function(t){e.push(o.a.createElement(oa,{key:t,id:t,canvas:r.canvas,shouldDisplayZoomConatiner:r.shouldDisplayZoomConatiner,shouldResetBeDisabled:r.shouldResetBeDisabled}))})),e})),Ma(Aa(r),"renderGradient",(function(){var e=[];return r.props.order.forEach((function(t){var n=r.props.swatches[t],o=Object(V.q)(n.rgb);o.offset=n.offset,o.midpoint=n.midpoint,o.positionOfMidpoint=n.positionOfMidpoint,e.push(o)})),o.a.createElement("div",{className:ca.a.gradientbox},o.a.createElement(q.a,{stops:e,gradientProps:{type:"linear",angle:0,isOneUp:!1,isCreate:!0,isSave:!1},shouldResetBeDisabled:r.shouldResetBeDisabled,drawConnectingLines:r.drawConnectingLines,order:r.props.order}))})),Ma(Aa(r),"onMouseUp",(function(){r.path.length>3&&(r.draw(),r.shouldResetBeDisabled(!1)),document.body.removeEventListener("mousemove",r.generatePath),document.body.removeEventListener("mouseup",r.onMouseUp)})),Ma(Aa(r),"onTouchEnd",(function(){r.path.length>3&&(r.draw(),r.shouldResetBeDisabled(!1)),document.body.removeEventListener("touchmove",r.generatePath),document.body.removeEventListener("touchend",r.onMouseUp)})),Ma(Aa(r),"renderColorModes",(function(){var e={isCreate:!0,assetType:m.g.GRADIENT,swatches:[],order:r.props.order};return r.props.order.forEach((function(t){e.swatches.push(Object(V.q)(r.props.swatches[t].rgb))})),o.a.createElement("div",{className:ca.a.colorModesBox},o.a.createElement(aa.a,{themeData:e,ingestWorkflow:r.ingestWorkflow}))})),Ma(Aa(r),"renderGradientOverlays",(function(){return r.imageAvailable&&r.props.markers.length>0&&r.props.order.length===r.props.markers.length})),r.imageAvailable=!1,r.fileReader=new FileReader,r.fileReader.onload=function(e){r.imageLoaded(e.target.result)},r.stops=m.sb.DEFAULT,r.props.setPublishToKuler(!1),r.state={isZoomContainerActive:!1,isResetDisabled:!0};var a={workflow:Object(O.e)(e.ingestWorkflow[0]),subcategory:"".concat(m.Bb.GRADIENT,"_").concat(m.Bb.IMAGE),value:m.Bb.DEFAULT};return r.ingestWorkflow=[].concat(function(e){return function(e){if(Array.isArray(e))return ja(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ja(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.ingestWorkflow),[m.Bb.GRADIENT]),Object(B.a)(m.zb.DEFAULT,{event:a},r.ingestWorkflow),r.extractionType="default",r.path=[],r}return function(e,t,n){t&&Ra(e.prototype,t)}(n,[{key:"componentDidMount",value:function(){Object(O.q)(this.props.image)||(this.name="gradient_".concat(this.props.imageName),this.imageLoaded(this.props.image))}},{key:"componentWillUnmount",value:function(){this.path=[]}},{key:"renderLeftPanel",value:function(){return this.imageAvailable?o.a.createElement(wa,{stopsCountChanged:this.stopsCountChanged,resetGradient:this.resetGradient,stops:this.stops,isResetDisabled:this.state.isResetDisabled}):""}},{key:"renderMiddlePanel",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,!m.Db&&o.a.createElement(Gt,{ingestWorkflow:this.ingestWorkflow},this.imageAvailable&&o.a.createElement(wa,{stopsCountChanged:this.stopsCountChanged,resetGradient:this.resetGradient,stops:this.stops,isResetDisabled:this.state.isResetDisabled})),o.a.createElement(_.a,{quiet:!0,variant:"action",className:ca.a.replaceImage,label:this.props.intl.formatMessage({id:"app.createfromimage.replace"}),icon:o.a.createElement(co.a,{className:ca.a.imageIcon}),disabled:!this.imageAvailable,onClick:this.handleClick}),o.a.createElement("div",{className:ca.a.imageContainer,onDragOver:O.t,onDrop:this.fileDropHandler,ref:function(t){e.imageContainer=t}},o.a.createElement("div",{className:ca.a.dropZoneContainer,ref:function(t){e.dropZoneContainer=t}},o.a.createElement(ro.a,null,o.a.createElement("h1",{className:ca.a.lineOne},this.props.intl.formatMessage({id:"app.create.extractGradient.pageDescription.h1"})),o.a.createElement(ao.a,{heading:this.props.intl.formatMessage({id:"app.createfromimage.dragandropfilemessage"}),description:this.selectFileOption(),illustration:o.a.createElement(Ao,null)}))),o.a.createElement("input",{type:"file",accept:"image/jpg,image/jpeg,image/png,image/gif,image/bmp",onChange:this.loadImageFile,ref:function(t){e.fileInput=t}}),o.a.createElement("div",{className:ca.a.canvasMarkers},this.imageAvailable&&this.state.isZoomContainerActive&&this.props.markers.length>0&&this.props.activeSwatch>0&&o.a.createElement("div",{className:ca.a.zoomedImageContainer,style:{left:"".concat(this.props.markers[this.props.activeSwatch].x-55,"px"),top:"".concat(this.props.markers[this.props.activeSwatch].y-140,"px"),zIndex:10}},o.a.createElement("div",{className:ca.a.zoomedImageInnerContainer},o.a.createElement("img",{className:ca.a.zoomedImage,src:this.canvas.toDataURL("image/jpeg"),width:3*this.canvas.width,height:3*this.canvas.height,style:{left:"".concat(-1*this.props.markers[this.props.activeSwatch].x*3+45,"px"),top:"".concat(-1*this.props.markers[this.props.activeSwatch].y*3+45,"px")}}))),o.a.createElement("canvas",{width:0,height:0,ref:function(t){e.canvas=t}}),this.renderGradientOverlays()&&this.positionMarkers()),o.a.createElement("canvas",{className:ca.a.gradientLinesOverImageCanvas,ref:function(t){e.canvasLines=t},onMouseDown:function(t){return e.onMouseDown(t)},onTouchStart:function(t){return e.onTouchStart(t)}}),this.renderGradientOverlays()&&o.a.createElement(o.a.Fragment,null,this.drawConnectingLines(),this.renderGradient(),this.renderColorModes())))}}]),n}(),xa=Object(s.b)((function(e){var t=e.create,n=e.user;return ka(ka({},t),{},{locale:n.locale})}),(function(e){return Object(c.b)(ka(ka({},f),{},{setThemeNameAndIsUserEnteredName:p.h,clearThemeNameAndTags:p.b,setPublishToKuler:p.g,setInitialOrder:f.setInitialOrder,setActiveSwatch:f.setActiveSwatch,manageImageForExtraction:f.manageImageForExtraction}),e)}))(Pa),Da=Object(i.d)(xa);function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function La(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e,t,n){return(Ba="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ua(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ha(e,t){return(Ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ua(e){return(Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ha(e,t)}(n,Le);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ua(e);if(t){var o=Ua(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Na(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return function(e,t,n){t&&La(e.prototype,t)}(n,[{key:"mouseUp",value:function(e){Ba(Ua(n.prototype),"mouseUp",this).call(this,e),this.props.setMarkerUp(!0)}},{key:"mouseDown",value:function(e){Ba(Ua(n.prototype),"mouseDown",this).call(this,e),this.props.setMarkerUp(!1)}},{key:"children",value:function(){return""}}]),n}(),Wa=Object(s.b)((function(e){var t=e.create;return{swatches:t.swatches,activeSwatch:t.activeSwatch}}),(function(e){return Object(c.b)({fetchSuggestedTags:p.c,setSwatch:f.setSwatch,setActiveSwatch:f.setActiveSwatch},e)}))(Fa),Ga=n(1012),Va=n.n(Ga),qa=n(1308),Ka=n.n(qa),Ya=n(19),za=n(35),Xa=(n(8),Object(i.d)((function(e){var t=Object(s.c)(),n=Object(s.d)((function(e){return e.user.accessibilityOnBoardingTour}));return!m.Gb&&!Object(Ya.b)(e.cookie)&&n&&o.a.createElement(Ka.a,{onTourEnd:function(){Object(Ya.c)(e.cookie,!0,8760),t(za.d(!1))}},function(){var t=[],n=e.steps.length,r=1;return e.steps.forEach((function(a,i){t.push(o.a.createElement(Va.a,{key:i,flip:!0,title:e.intl.formatMessage({id:a.title}),selector:a.selectorId,currentStep:r,totalSteps:n,cancelLabel:r<n?e.intl.formatMessage({id:"app.tourDialog.steps.cacelLable"}):null,confirmLabel:r<n?e.intl.formatMessage({id:"app.tourDialog.steps.confirmLabelNext"}):e.intl.formatMessage({id:"app.tourDialog.steps.confirmLabelDone"}),placement:a.placement},e.intl.formatMessage({id:a.description}))),r++})),t}())}))),Za=n(852),Ja=n.n(Za);function $a(){return($a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Qa=function(e){var t=e.defectTypeSimulation,n=void 0===t?{}:t,r=e.simulatedConflictingSwatches,a=void 0===r?{}:r,c=e.order,s=void 0===c?[]:c;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Ja.a.defectSimulationTitle},o.a.createElement(i.a,{id:"app.create.accessibility.defect.simulation.title"})),Object.keys(n).map((function(e,t){var r="app.create.accessibility.defect.type.".concat(e.toLowerCase());return o.a.createElement("div",{className:Ja.a.simulatedThemeContainer,key:t},o.a.createElement("div",{className:Ja.a.simulationName},o.a.createElement(i.a,{id:r})),o.a.createElement("div",{className:Ja.a.simulatedTheme},function(e){for(var t=n[e],r=[],i=0;i<t.length;++i)r.push(o.a.createElement(P.a,$a({key:i,id:i},t[s[i]],{children:a[e][s[i]]&&o.a.createElement("div",{className:Ja.a.conflictIndicator})})));return r}(e)))})))},ei=n(1331),ti=n.n(ei);function ni(){return(ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ri=function(e){return o.a.createElement("svg",ni({xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 18 18",width:"18"},e),o.a.createElement("title",null,"S AlertCircleFilled 18 N"),o.a.createElement("rect",{id:"Canvas",fill:"#ff13dc",opacity:"0",width:"18",height:"18"}),o.a.createElement("path",{class:"a",d:"M9,1a8,8,0,1,0,8,8A8,8,0,0,0,9,1ZM7.7,3.3875A.35552.35552,0,0,1,7.8685,3.05,3.12313,3.12313,0,0,1,8.981,2.821a3.4307,3.4307,0,0,1,1.116.172.38849.38849,0,0,1,.2.3435v1.225c0,1.4425-.2885,5.4455-.3415,5.9735a.26351.26351,0,0,1-.26528.26171L9.662,10.795H8.3a.284.284,0,0,1-.289-.2365c-.05-.682-.311-4.55-.311-5.9455ZM9,14.425a1.287,1.287,0,0,1-1.4-1.3155,1.33,1.33,0,0,1,1.308-1.35167q.046-.00076.092.00167a1.316,1.316,0,0,1,1.3978,1.22877q.00389.06054.0022.12123A1.287,1.287,0,0,1,9,14.425Z"}))},oi=n(853),ai=n.n(oi),ii=Object(i.d)((function(e){for(var t=e.intl,n=e.conflictingSwatches,r=void 0===n?[]:n,a=Object(s.d)((function(e){return e.create.isAccessible})),c=Object(s.d)((function(e){return e.create.order})),l=[],u=o.a.createElement(i.a,{id:"app.create.accessibility.conflict.no.conflict.message"}),f=0;f<r.length;f++)r[c[f]]&&l.push(f+1);if(l.length>0){var p="app.create.accessibility.conflict.legend.message".concat(l.length),h=["A","B","C","D","E"].slice(0,l.length).reduce((function(e,n,r){return e[n]=t.formatMessage({id:"app.create.swatch".concat(l[r],".name")}),e}),{});u=o.a.createElement(i.a,{id:p,values:h})}return o.a.createElement("div",{className:ai.a.legendAndAlertContainer},o.a.createElement("div",{className:ai.a.legend},o.a.createElement("div",{className:ai.a.conflictLegend,id:m.mc.STEP_TWO_ACCESSIBLE}),o.a.createElement(i.a,{id:"app.create.accessibility.conflict.legend.message"}),o.a.createElement(y.a,{placement:"bottom",trigger:["click"]},o.a.createElement("div",{className:ai.a.helpIcon,id:m.mc.HELP_COLOR_CONFLICTS},o.a.createElement(ze.a,{size:"S"})),o.a.createElement(Va.a,{flip:!0,dismissible:!0,placement:"bottom left",selector:"#".concat(m.mc.HELP_COLOR_CONFLICTS),title:o.a.createElement(i.a,{id:"app.tourDialog.accessible.step2.title"})},o.a.createElement(i.a,{id:"app.tourDialog.accessible.step2.description"}),o.a.createElement("a",{className:ai.a.readMoreLink,target:"_blank",href:t.formatMessage({id:"app.accessibility.colorhelpx"})},o.a.createElement(i.a,{id:"app.readmore"}))))),o.a.createElement("div",{className:ai.a.conflictAlertIndicatorContainer},o.a.createElement("div",{className:ai.a.alertIndicatorIcon},a?o.a.createElement(ti.a,{className:ai.a.checkMarkIcon}):o.a.createElement(ri,{className:ai.a.alertCircleIcon})),o.a.createElement("div",{className:ai.a.alertMessage},u)))})),ci=n(854),si=n.n(ci),li=o.a.memo(Object(i.d)((function(e){var t=e.intl;return o.a.createElement("div",null,o.a.createElement("div",{className:si.a.intentLabel},o.a.createElement(i.a,{id:"app.create.accessibility.intent.label"})),o.a.createElement("div",{className:si.a.intentSelectorContainer},o.a.createElement(et.a,{className:si.a.intentSelector,id:m.mc.STEP_ONE_ACCESSIBLE,options:[{label:t.formatMessage({id:m.Cb.COLOR_BLIND_SAFE}),value:"blindSafe"}],quiet:!0,value:"blindSafe",onOpen:function(){var e={workflow:m.Bb.ACCESSIBILITY,subcategory:m.Bb.ACCESSIBILITY_INTENT,value:"blindSafe"};Object(B.a)(m.zb.INTENT_SELECTOR_CLICKED,{event:e},[m.Bb.ACCESSIBILITY])}}),o.a.createElement(y.a,{placement:"bottom",trigger:["click"]},o.a.createElement("div",{className:si.a.helpIconIntent,id:m.mc.HELP_COLOR_BLIND_SAFE},o.a.createElement(ze.a,{size:"S"})),o.a.createElement(Va.a,{flip:!0,dismissible:!0,placement:"bottom left",selector:"#".concat(m.mc.HELP_COLOR_BLIND_SAFE),title:o.a.createElement(i.a,{id:"app.tourDialog.accessible.step1.title"})},o.a.createElement(i.a,{id:"app.tourDialog.accessible.step1.description"}),o.a.createElement("a",{className:si.a.readMoreLink,target:"_blank",href:t.formatMessage({id:"app.accessibility.colorhelpx"})},o.a.createElement(i.a,{id:"app.readmore"}))))))}))),ui=n(1334),fi=n.n(ui),pi=n(1359),hi=n.n(pi);function di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){n&&bi(e,n)}(e,0,[{key:"is_out_of_gamut",value:function(t){var n=e.convert_lab_to_srgb(t).reduce((function(e,t){var n=di(e,2);return[n[0]+(t<0&&t),n[1]+(t>1&&t-1)]}),[0,0]);return!(!n[0]&&!n[1])&&n}},{key:"get_deltaE",value:function(e,t){var n=function(e){var t=di(e,3);return{L:t[0],A:t[1],B:t[2]}};return hi.a.getDeltaE00(n(e),n(t))}},{key:"get_rgb_luminance",value:function(e,t,n){var r=[e,t,n].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*r[0]+.7152*r[1]+.0722*r[2]}},{key:"get_contrast_ratio",value:function(t,n){var r=e.get_rgb_luminance(t[0],t[1],t[2]),o=e.get_rgb_luminance(n[0],n[1],n[2]);return r>o?(r+.05)/(o+.05):(o+.05)/(r+.05)}},{key:"convert_from_to",value:function(t,n,r){if("xyy"===t&&(r=[r[0],r[1],r[2]||1e-7]),"hex"===t){if(t="rgb",r=e.convert_hex_to_rgb(r),"rgb"===n)return r}else if("hex"===n)return"rgb"!==t&&(r=fi.a[t].rgb(r)),e.convert_rgb_to_hex(r);return fi.a[t][n](r)}},{key:"convert_rgb_to_hex",value:function(e){var t=di(e,3),n=t[0],r=t[1],o=t[2];return"#"+((1<<24)+((n=Math.round(n))<<16)+((r=Math.round(r))<<8)+(o=Math.round(o))).toString(16).slice(1)}},{key:"convert_hex_to_rgb",value:function(e){var t=/^#?([a-fA-F\d]{2})([a-fA-F\d]{2})([a-fA-F\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{key:"convert_lab_to_srgb",value:function(e){var t,n,r,o=(e[0]+16)/116,a=e[1]/500+o,i=o-e[2]/200;return n=-.9689*(a=.95047*(a*a*a>.008856?a*a*a:(a-16/116)/7.787))+1.8758*(o=1*(o*o*o>.008856?o*o*o:(o-16/116)/7.787))+.0415*(i=1.08883*(i*i*i>.008856?i*i*i:(i-16/116)/7.787)),r=.0557*a+-.204*o+1.057*i,[t=(t=3.2406*a+-1.5372*o+-.4986*i)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r]}},{key:"convert_hsv_to_string_rgb",value:function(e){return this.convert_rgb_to_string(this.convert_from_to("hsv","rgb",e).map(Math.round))}},{key:"convert_hsv_to_string_hsl",value:function(e){return this.convert_hsl_to_string(this.convert_from_to("hsv","hsl",e).map(Math.round))}},{key:"convert_hsl_to_string",value:function(e){var t=di(e,3),n=t[0],r=t[1],o=t[2];return"hsl(".concat(n,", ").concat(r,"%, ").concat(o,"%)")}},{key:"convert_rgb_to_string",value:function(e){var t=di(e,3),n=t[0],r=t[1],o=t[2];return"rgb(".concat(Math.round(n),", ").concat(Math.round(r),", ").concat(Math.round(o),")")}}]),e}();function vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(e,t)||gi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(e,t){if(e){if("string"==typeof e)return Oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(e,t):void 0}}function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ei=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_xyY",[]),t&&t._xyY&&this.xyY(t._xyY)}return function(e,t,n){t&&wi(e.prototype,t)}(e,[{key:"loadHSV",value:function(e){var t=vi(e,3),n=t[0],r=t[1],o=t[2];return n=n<0?n+360:n,o=o||15e-9*100,this._xyY=yi.convert_from_to("hsv","xyy",[n,r,o]),this.loaded=!0,this}},{key:"loadxyY",value:function(e){var t=vi(e,3),n=t[0],r=t[1],o=t[2];return this._xyY=[n,r,o],this.loaded=!0,this}},{key:"loadRGB",value:function(e){var t=vi(e,3),n=t[0],r=t[1],o=t[2];return this._xyY=yi.convert_from_to("rgb","xyy",[n,r,o]),this.loaded=!0,this}},{key:"loadHex",value:function(e){return this.loadRGB(yi.convert_hex_to_rgb(e))}},{key:"hsv",value:function(e){return e?this.loadHSV(e):yi.convert_from_to("xyy","hsv",this._xyY)}},{key:"xyY",value:function(e){return e?this.loadxyY(e):this._xyY}},{key:"rgb",value:function(e){return e?this.loadRGB(e):yi.convert_from_to("xyy","rgb",this._xyY)}},{key:"hex",value:function(e){return e?this.loadHex(e):this.toString("hex")}},{key:"xy",value:function(){return[this._xyY[0],this._xyY[1]]}},{key:"lab",value:function(){return yi.convert_from_to("xyy","lab",this._xyY)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgb";return"hsl"===e?yi.convert_hsl_to_string(yi.convert_hsv_to_hsl(this.hsv())):"hex"===e?yi.convert_rgb_to_hex(this.rgb()):yi.convert_rgb_to_string(this.rgb())}},{key:"toJSON",value:function(){return{_xyY:this._xyY}}},{key:"confusion_normalize",value:function(){var e=this.hsv().slice(0,2);return this.hsv([].concat(function(e){return function(e){if(Array.isArray(e))return Oi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||gi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e),[15e-7])),this}},{key:"contrastWith",value:function(e){return e&&e.rgb?yi.get_contrast_ratio(this.rgb(),e.rgb()):0}},{key:"deltaE",value:function(e){return yi.get_deltaE(this.lab(),e.lab())}}]),e}();function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ci=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ji(this,"_settled",!1),ji(this,"_promise",new Promise((function(e,n){t._resolve=e,t._reject=n})))}return function(e,t,n){t&&Si(e.prototype,t)}(e,[{key:"resolve",value:function(e){this._settled=!0,this._resolve(e)}},{key:"reject",value:function(e){this._settled=!0,this._reject(e)}},{key:"then",value:function(){return Promise.prototype.catch.apply(this._promise,arguments)}},{key:"catch",value:function(){return Promise.prototype.catch.apply(this._promise,arguments)}},{key:"promise",get:function(){return this._promise}}]),e}();function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ii=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){n&&Ri(e,n)}(e,0,[{key:"dotp",value:function(e,t){if(e.length!=t.length)throw"can't find dot product: arrays have different lengths";return e.map((function(n,r){return e[r]*t[r]})).reduce((function(e,t){return e+t}),0)}},{key:"xy_in_circle",value:function(t,n,r){return function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ki(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.convert_xy_to_polar(t,n),1)[0]<=r}},{key:"euclidianDistance",value:function(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}},{key:"get_line_equation",value:function(e,t,n,r){var o,a,i,c;e<n?(o=e,a=t,i=n,c=r):(o=n,a=r,i=e,c=t);var s=(c-a)/(i-o),l=a-s*o;return[s,l,function(e){return s*e+l}]}},{key:"convert_radian_to_degree",value:function(e){return 180*e/Math.PI}},{key:"convert_degree_to_radian",value:function(e){return e*Math.PI/180}},{key:"convert_xy_to_polar",value:function(t,n){var r=Math.sqrt(t*t+n*n),o=Math.atan2(n,t);return[r,o,e.convert_radian_to_degree(o)]}},{key:"convert_polar_to_xy",value:function(t,n){var r=e.convert_degree_to_radian(t);return[Math.cos(r)*n,Math.sin(r)*n]}}]),e}(),Ai=n(1363),Ti=n.n(Ai),Mi=n(34),_i=n.n(Mi),Pi=n(855),xi=n.n(Pi);function Di(e){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ni(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Li(e){return function(e){if(Array.isArray(e))return Ui(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Hi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(e,t)||Hi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t){if(e){if("string"==typeof e)return Ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ui(e,t):void 0}}function Ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(n),!0).forEach((function(t){Yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vi(e,t){return(Vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ki(e){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zi=new Ti.a,Xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vi(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ki(e);if(t){var o=Ki(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Di(t)&&"function"!=typeof t?qi(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Yi(qi(r=t.call(this,e)),"workerSendMessage",(function(e,t){var n=_i.a.v4(),o=new Ci;return r.messageMap.set(n,o),e.postMessage(Wi({id:n},t)),o.promise})),Yi(qi(r),"onWorkerMessage",(function(e){var t=e.data,n=r.messageMap.get(t.id);return n&&(n.resolve(t.data),r.messageMap.delete(t.id)),t.data})),Yi(qi(r),"clearConflictLineCanvas",(function(){r.canvasConflictContext.clearRect(0,0,2*r.props.cw2Radius,2*r.props.cw2Radius)})),Yi(qi(r),"clearConfusionLineCanvas",(function(){r.canvasConfusionContext.clearRect(0,0,2*r.props.cw2Radius,2*r.props.cw2Radius)})),Yi(qi(r),"getxyCoordinatesFromHsv",(function(e){var t=e.h,n=e.s,o=ge(parseInt(t,10)),a=r.props.cw2Radius*parseInt(n,10)/100,i=Object(V.d)(180-o),c=Bi(Object(V.o)(a,i),2),s=c[0],l=c[1];return[s+r.props.cw2Radius,l+r.props.cw2Radius]})),Yi(qi(r),"drawConflictLines",(function(e){var t=r.canvasConflictContext;t.strokeStyle="#fff",e.forEach((function(e){var n=Bi(e.split(":"),2),o=n[0],a=n[1],i=r.getxyCoordinatesFromHsv(r.props.swatches[o].hsv),c=r.getxyCoordinatesFromHsv(r.props.swatches[a].hsv);t.lineWidth=5,t.beginPath(),t.moveTo.apply(t,Li(i)),t.lineTo.apply(t,Li(c)),t.stroke()}))})),Yi(qi(r),"calculateDifference",(function(e,t){return e.deltaE(t)<=5})),Yi(qi(r),"getConflictPairs",(function(e){for(var t=e.map((function(e){return(new Ei).rgb(yi.convert_hex_to_rgb("#".concat(e.hex)))})),n=[],o=0;o<e.length;o++)for(var a=o+1;a<e.length;a++)r.calculateDifference(t[o],t[a])&&n.push("".concat(o,":").concat(a));return n})),Yi(qi(r),"getConflictPairsForAllType",(function(){var e={};return Object.keys(r.props.defectTypeSimulation).forEach((function(t){e[t]=r.getConflictPairs(r.props.defectTypeSimulation[t])})),e})),Yi(qi(r),"computeAndDrawConflictLines",(function(){var e=r.getConflictPairsForAllType(),t=[];Object.keys(e).forEach((function(n){t.push.apply(t,Li(e[n]))})),r.clearConflictLineCanvas(),0!==t.length&&r.props.isMarkerUp&&r.drawConflictLines(t),r.props.showConflictIndicatorOnSwatches(t,e)})),Yi(qi(r),"drawConfusionLines",(function(e,t,n){if(t&&t.length){var o=e;o.strokeStyle="rgba(255, 255, 255, 0.7)",o.lineWidth=n.lineWidth;for(var a=function(e,t){o.beginPath(),o.moveTo(e,t)},i=function(e,t,n,r){n&&r?o.quadraticCurveTo(n,r,e,t):o.lineTo(e,t)},c=function(){return o.stroke()},s=0;s<=t.length;s++){var l=t[s%t.length];if(0!==s){var u=t[s-1];Ii.euclidianDistance.apply(Ii,Li(u).concat(Li(l)))>r.props.cw2Radius/2?(c(),a.apply(void 0,Li(l))):i.apply(void 0,Li(l).concat(Li(u)))}else a.apply(void 0,Li(l))}c()}})),Yi(qi(r),"getConfusionLinesPoints",(function(e){return r.workerSendMessage(zi,{action:"get-confusion-lines-points",data:{radius:r.props.cw2Radius,HSV_value:r.props.wheelBrightness,technique:"fast",color_point:e}})})),Yi(qi(r),"computeAndDrawConfusionLines",function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ni(a,r,o,i,c,"next",e)}function c(e){Ni(a,r,o,i,c,"throw",e)}i(void 0)}))}}(regeneratorRuntime.mark((function e(){var t,n,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.activeSwatch,n=(new Ei).rgb(yi.convert_hex_to_rgb("#".concat(r.props.swatches[t].hex))),e.next=4,r.getConfusionLinesPoints(n);case 4:if(o=e.sent,a=Object.keys(o),r.clearConfusionLineCanvas(),a.length&&!r.props.isMarkerUp)for(i=0;i<a.length;i++)c=a[i],s=o[c].map((function(e){var t={h:e[0],s:e[1],v:e[2]};return r.getxyCoordinatesFromHsv(t)})),r.drawConfusionLines(r.canvasConfusionContext,s,{strokeStyle:"#ffffff",lineWidth:4,opacity:70});r.computeAndDrawConflictLines();case 9:case"end":return e.stop()}}),e)})))),r.messageMap=new Map,r}return function(e,t,n){t&&Gi(e.prototype,t)}(n,[{key:"componentDidMount",value:function(){var e=document.getElementById("canvasConflict"),t=document.getElementById("canvasConfusion");this.canvasConflictContext=e.getContext("2d"),this.canvasConfusionContext=t.getContext("2d"),zi.addEventListener("message",this.onWorkerMessage),this.computeAndDrawConflictLines()}},{key:"componentDidUpdate",value:function(e){this.props.isMarkerUp!==e.isMarkerUp&&(this.props.isMarkerUp?(this.clearConfusionLineCanvas(),this.computeAndDrawConflictLines()):(this.clearConflictLineCanvas(),this.computeAndDrawConfusionLines())),this.props.swatches!==e.swatches&&this.computeAndDrawConfusionLines()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("canvas",{id:"canvasConflict",className:xi.a.cw2canvasConflict,width:2*this.props.cw2Radius,height:2*this.props.cw2Radius}),o.a.createElement("canvas",{id:"canvasConfusion",className:xi.a.cw2canvasConfusion,width:2*this.props.cw2Radius,height:2*this.props.cw2Radius}))}}]),n}(),Zi=Object(s.b)((function(e){var t=e.create,n=e.user;return Wi(Wi({},t),{},{locale:n.locale,accessibilityOnBoardingTour:n.accessibilityOnBoardingTour})}),(function(e){return Object(c.b)({changeSwatchesOrder:f.changeSwatchesOrder,fetchSuggestedTags:p.c,setSwatch:f.setSwatch,setMarker:f.setMarker,setActiveSwatch:f.setActiveSwatch,setWheelBrightness:f.setWheelBrightness,setColorMode:f.setColorMode,setIsAccessible:f.setIsAccessible},e)}))(Object(i.d)(Xi)),Ji={1:[[.856167,.182038,-.038205],[.029342,.955115,.015544],[-.00288,-.001563,1.004443]],2:[[.734766,.334872,-.069637],[.05184,.919198,.028963],[-.004928,-.004209,1.009137]],3:[[.630323,.465641,-.095964],[.069181,.890046,.040773],[-.006308,-.007724,1.014032]],4:[[.539009,.579343,-.118352],[.082546,.866121,.051332],[-.007136,-.011959,1.019095]],5:[[.458064,.679578,-.137642],[.092785,.846313,.060902],[-.007494,-.016807,1.024301]],6:[[.38545,.769005,-.154455],[.100526,.829802,.069673],[-.007442,-.02219,1.029632]],7:[[.319627,.849633,-.169261],[.106241,.815969,.07779],[-.007025,-.028051,1.035076]],8:[[.259411,.923008,-.18242],[.110296,.80434,.085364],[-.006276,-.034346,1.040622]],9:[[.203876,.990338,-.194214],[.112975,.794542,.092483],[-.005222,-.041043,1.046265]],10:[[.152286,1.052583,-.204868],[.114503,.786281,.099216],[-.003882,-.048116,1.051998]]},$i={1:[[.866435,.177704,-.044139],[.049567,.939063,.01137],[-.003453,.007233,.99622]],2:[[.760729,.319078,-.079807],[.090568,.889315,.020117],[-.006027,.013325,.992702]],3:[[.675425,.43385,-.109275],[.125303,.847755,.026942],[-.00795,.018572,.989378]],4:[[.605511,.52856,-.134071],[.155318,.812366,.032316],[-.009376,.023176,.9862]],5:[[.547494,.607765,-.155259],[.181692,.781742,.036566],[-.01041,.027275,.983136]],6:[[.498864,.674741,-.173604],[.205199,.754872,.039929],[-.011131,.030969,.980162]],7:[[.457771,.731899,-.18967],[.226409,.731012,.042579],[-.011595,.034333,.977261]],8:[[.422823,.781057,-.203881],[.245752,.709602,.044646],[-.011843,.037423,.974421]],9:[[.392952,.82361,-.216562],[.263559,.69021,.046232],[-.01191,.040281,.97163]],10:[[.367322,.860646,-.227968],[.280085,.672501,.047413],[-.01182,.04294,.968881]]},Qi={1:[[.92667,.092514,-.019184],[.021191,.964503,.014306],[.008437,.054813,.93675]],2:[[.89572,.13333,-.02905],[.029997,.9454,.024603],[.013027,.104707,.882266]],3:[[.905871,.127791,-.033662],[.026856,.941251,.031893],[.01341,.148296,.838294]],4:[[.948035,.08949,-.037526],[.014364,.946792,.038844],[.010853,.193991,.795156]],5:[[1.017277,.027029,-.044306],[-.006113,.958479,.047634],[.006379,.248708,.744913]],6:[[1.104996,-.046633,-.058363],[-.032137,.971635,.060503],[.001336,.317922,.680742]],7:[[1.193214,-.109812,-.083402],[-.058496,.97941,.079086],[-.002346,.403492,.598854]],8:[[1.257728,-.139648,-.118081],[-.078003,.975409,.102594],[-.003316,.501214,.502102]],9:[[1.278864,-.125333,-.153531],[-.084748,.957674,.127074],[-989e-6,.601151,.399838]],10:[[1.255528,-.076749,-.178779],[-.078411,.930809,.147602],[.004733,.691367,.3039]]};function ec(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=Object(V.m)([e.r,e.g,e.b]),a=Object(V.c)(o);switch(t){case m.a.PROTANOPIA:n=Ji[r];break;case m.a.DEUTERANOPIA:n=$i[r];break;case m.a.TRITANOPIA:n=Qi[r]}return Object(V.p)(Object(V.b)(function(e,t){for(var n=[],r=0;r<3;r++){for(var o=0,a=0;a<3;a++)o+=e[r][a]*t[a];n.push(o)}return n}(n,a)).map((function(e){return 255*e})))}var tc=n(856),nc=n.n(tc);function rc(e){return(rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach((function(t){hc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ic(){return(ic=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cc(e){return function(e){if(Array.isArray(e))return sc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return sc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uc(e,t){return(uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pc(e){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dc=[m.a.DEUTERANOPIA,m.a.PROTANOPIA,m.a.TRITANOPIA],mc=[{selectorId:"#".concat(m.mc.STEP_ONE_ACCESSIBLE),title:"app.tourDialog.accessible.step1.title",description:"app.tourDialog.accessible.step1.description",placement:"bottom left"},{selectorId:"#".concat(m.mc.STEP_TWO_ACCESSIBLE),title:"app.tourDialog.accessible.step2.title",description:"app.tourDialog.accessible.step2.description",placement:"bottom left"}],bc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uc(e,t)}(n,mt);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pc(e);if(t){var o=pc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==rc(t)&&"function"!=typeof t?fc(e):t}(this,n)}}(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),hc(fc(r=t.call(this,e)),"calculateInitialDefectTypeSimulation",(function(){var e=r.props.swatches;dc.forEach((function(t){for(var n=[],o=0;o<e.length;o++)n.push(ec(e[o].rgb,t));r.defectTypeSimulation[t]=n}))})),hc(fc(r),"setMarkerUp",(function(e){r.setState({isMarkerUp:e})})),hc(fc(r),"updateSimulatedSwatch",(function(e){dc.forEach((function(t){var n=ec(e.swatch.rgb,t);r.defectTypeSimulation[t][e.i]=n}))})),hc(fc(r),"showSlidersOnClick",(function(e){(Object(O.q)(e.keyCode)||e.keyCode===m.Jb.ENTER)&&r.setState({showSliders:!r.state.showSliders})})),hc(fc(r),"findConflictingSwatchesFromPairs",(function(e){for(var t=new Array(m.dc),n=0;n<m.dc;n++)t[n]=!1;return e.forEach((function(e){e.split(":").forEach((function(e){t[e]=!0}))})),t})),hc(fc(r),"showConflictIndicatorOnSwatches",(function(e,t){var n=r.findConflictingSwatchesFromPairs(e),o={};Object.keys(t).forEach((function(e){o[e]=r.findConflictingSwatchesFromPairs(t[e])})),r.setState({conflictingSwatches:n,simulatedConflictingSwatches:o}),r.props.setIsAccessible(0===e.length)})),r.cw2Radius=e.radius||m.N,r.state={wheelReady:!1,showSliders:!1,conflictingSwatches:[],simulatedConflictingSwatches:{Deuteranopia:[],Protanopia:[],Tritanopia:[]},isMarkerUp:!0},r.onSwatchValueChange=r.onSwatchValueChange.bind(fc(r));var o={workflow:Object(O.e)(e.ingestWorkflow[0]),subcategory:m.Bb.ACCESSIBILITY_COLORWHEEL,value:m.Bb.DEFAULT};return e.accessibilityOnBoardingTour?r.ingestWorkflow=[].concat(cc(e.ingestWorkflow),[m.Bb.ACCESSIBILITY_ONBOARDING]):r.ingestWorkflow=[].concat(cc(e.ingestWorkflow),[m.Bb.ACCESSIBILITY]),Object(B.a)(m.zb.DEFAULT,{event:o},r.ingestWorkflow),r.defectTypeSimulation={},r.calculateInitialDefectTypeSimulation(),r}return function(e,t,n){t&&lc(e.prototype,t)}(n,[{key:"onSwatchValueChange",value:function(e){this.props.swatches.length>0&&(this.props.setSwatch(e),this.updateSimulatedSwatch(e))}},{key:"addSwatches",value:function(){for(var e=[],t=this.props.order,n=0;n<m.dc;++n)e.push(o.a.createElement(P.a,ic({key:n,id:t[n]},this.props.swatches[t[n]],{className:t[n]===this.props.activeSwatch?nc.a.activeSwatch:"",changeSwatchesOrder:this.props.changeSwatchesOrder,setActiveSwatch:this.props.setActiveSwatch,children:this.state.conflictingSwatches[t[n]]&&o.a.createElement("div",{className:nc.a.conflictIndicator}),draggable:!0,ingestWorkflow:this.ingestWorkflow})));return e}},{key:"positionMarkers",value:function(){for(var e=[],t=this.props.order,n=0;n<m.dc;++n)e.push(o.a.createElement(Wa,{baseColorIndex:this.props.baseColorIndex,key:n,id:t[n],canvas:this.canvas,wheelRadius:this.cw2Radius,onSwatchValueChange:this.onSwatchValueChange,assetType:m.g.ACCESSIBILITY,setMarkerUp:this.setMarkerUp}));return e}},{key:"componentDidMount",value:function(){var e=document.getElementById("cw2canvas");this.cw2Context=e.getContext("2d"),Ee(this.props.wheelBrightness/100,this.cw2Radius,this.cw2Context),this.setState({wheelReady:!0}),this.props.fetchSuggestedTags()}},{key:"componentDidUpdate",value:function(e){if(this.props.swatches.length>0){var t=this.props.activeSwatch,n=this.props.swatches[t].hsv.v;this.props.wheelBrightness!==n&&this.props.setWheelBrightness(n)}e.wheelBrightness!==this.props.wheelBrightness&&Ee(this.props.wheelBrightness/100,this.cw2Radius,this.cw2Context)}},{key:"renderLeftPanel",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(li,null),o.a.createElement(Tr,null,o.a.createElement("div",{className:nc.a.showSliders,onClick:this.showSlidersOnClick,tabIndex:"0",onKeyDown:this.showSlidersOnClick},this.state.showSliders?o.a.createElement(i.a,{id:"app.create.accessibility.hide.sliders",values:{colormode:this.props.colorMode}}):o.a.createElement(i.a,{id:"app.create.accessibility.show.sliders",values:{colormode:this.props.colorMode}}))))}},{key:"renderMiddlePanel",value:function(){var e=this;return o.a.createElement("div",{className:nc.a.container},o.a.createElement(ii,{conflictingSwatches:this.state.conflictingSwatches}),o.a.createElement("div",{className:nc.a.canvasMarkers,style:{height:2*this.cw2Radius,width:2*this.cw2Radius}},o.a.createElement("canvas",{id:"cw2canvas",className:nc.a.wheel,width:2*this.cw2Radius,height:2*this.cw2Radius,ref:function(t){e.canvas=t}}),o.a.createElement(Zi,{defectTypeSimulation:this.defectTypeSimulation,showConflictIndicatorOnSwatches:this.showConflictIndicatorOnSwatches,cw2Radius:this.cw2Radius,isMarkerUp:this.state.isMarkerUp}),this.state.wheelReady&&this.props.swatches.length>0&&this.positionMarkers()),o.a.createElement(Ur,null),o.a.createElement("div",{className:nc.a.themepanel},this.props.swatches.length>0&&this.addSwatches()),o.a.createElement(Lr,{showSliders:this.state.showSliders,onSwatchValueChange:this.onSwatchValueChange}),o.a.createElement(Qa,{order:this.props.order,defectTypeSimulation:this.defectTypeSimulation,simulatedConflictingSwatches:this.state.simulatedConflictingSwatches}),o.a.createElement(Xa,{steps:mc,cookie:m.hc.ACCESSIBLE_THEME}))}}]),n}(),yc=Object(s.b)((function(e){var t=e.create,n=e.user;return ac(ac({},t),{},{locale:n.locale,accessibilityOnBoardingTour:n.accessibilityOnBoardingTour})}),(function(e){return Object(c.b)({changeSwatchesOrder:f.changeSwatchesOrder,fetchSuggestedTags:p.c,setSwatch:f.setSwatch,setMarker:f.setMarker,setActiveSwatch:f.setActiveSwatch,setWheelBrightness:f.setWheelBrightness,setIsAccessible:f.setIsAccessible},e)}))(Object(i.d)(bc)),vc=n(910),gc=n(857),Oc=n.n(gc),wc=(n(1364),n(1367)),Ec=n.n(wc),Sc=n(862),jc=n.n(Sc),Cc=Object(i.d)((function(e){return o.a.createElement(Ec.a,{variant:"green",style:{backgroundColor:"".concat(Zo.a.oneUpNewlabelBackgroundColor),display:"inline-flex",alignItems:"center"}}," ",o.a.createElement("div",{className:jc.a.newLabel},e.intl.formatMessage({id:"app.oneup.new"})))}));function kc(e){return(kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rc(e){return function(e){if(Array.isArray(e))return Ic(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ic(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ic(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tc(e,t){return(Tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _c(e){return(_c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xc={create:m.Bb.COLORWHEEL,"color-wheel":m.Bb.COLORWHEEL,image:m.Bb.IMAGE,"image-gradient":"".concat(m.Bb.GRADIENT,"_").concat(m.Bb.IMAGE),"color-accessibility":"".concat(m.Bb.ACCESSIBILITY_COLORWHEEL)},Dc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tc(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_c(e);if(t){var o=_c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==kc(t)&&"function"!=typeof t?Mc(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Pc(Mc(r=t.call(this,e)),"clearImageFromStore",(function(){Object(O.q)(r.props.image)||(window.URL.revokeObjectURL(r.props.image),r.props.manageImageForExtraction())})),Pc(Mc(r),"setInitStateForTabSwitch",(function(e){switch(Object(O.v)(xc[r.props.selectedIndex]),e){case 0:r.props.setCreateInitialState({assetType:m.g.THEME,workflow:m.F.COLORWHEEL}),r.props.history.push("/".concat(r.props.locale).concat(m.kc.CREATECOLORWHEEL));break;case 1:r.props.setCreateInitialState({assetType:m.g.THEME,workflow:m.F.IMAGE}),r.props.history.push("/".concat(r.props.locale).concat(m.kc.CREATEIMAGE));break;case 2:r.props.setCreateInitialState({assetType:m.g.GRADIENT,workflow:m.F.IMAGE}),r.props.history.push("/".concat(r.props.locale).concat(m.kc.CREATEIMAGEGRADIENT));break;case 3:r.props.setCreateInitialState({assetType:m.g.THEME,workflow:m.F.ACCESSIBILITY}),r.props.history.push("/".concat(r.props.locale).concat(m.kc.CREATEACCESSIBLE));break;default:r.props.setCreateInitialState({assetType:m.g.THEME,workflow:m.F.COLORWHEEL}),r.props.history.push("/".concat(r.props.locale).concat(m.kc.CREATECOLORWHEEL))}})),r.ingestWorkflow=[m.E],Object(O.v)(xc[0]),r.setInitStateForTabSwitch(r.props.selectedIndex),r}return function(e,t,n){t&&Ac(e.prototype,t)}(n,[{key:"componentWillUnmount",value:function(){document.onselectstart=function(){return!0},to.a.clearQueue(),this.clearImageFromStore(),this.props.cclibraryUpdateThemeFlow({cclibraryThemeUpdateLibId:null,cclibraryThemeUpdateAssetId:null}),this.props.setEditWorkflow(!1),this.props.isLoggedIn&&this.props.clearLibraries()}},{key:"render",value:function(){var e=this.props.intl.formatMessage({id:"app.create.colorWheelLabel"}),t=this.props.intl.formatMessage({id:m.Db?"app.create.extractFromImageLabel":"app.title.image"}),n=this.props.intl.formatMessage({id:"app.create.extractGradientFromImageLabel"}),r=o.a.createElement("div",{className:Oc.a.tabWithLabel},this.props.intl.formatMessage({id:"app.create.accessibility.label"}),o.a.createElement("div",{className:Oc.a.label},o.a.createElement(Cc,null))),a=xc[this.props.history.location.pathname.split("/").slice(-1)[0]],i=m.Gb?m.O:m.Hb?m.P:m.N;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Oc.a.create},o.a.createElement("div",{className:Oc.a.resetMinWidth,style:a==="".concat(m.Bb.GRADIENT,"_").concat(m.Bb.IMAGE)&&-1!==this.props.activeSwatch?{overflowX:"hidden"}:{}},o.a.createElement(u.TabView,{className:Oc.a.createContainer,onSelect:this.setInitStateForTabSwitch,selectedIndex:this.props.selectedIndex},o.a.createElement(l.Tab,{label:e},o.a.createElement(be.Helmet,null,o.a.createElement("title",null,this.props.intl.formatMessage({id:"app.create.wheel.title"})),o.a.createElement("meta",{name:"description",content:this.props.intl.formatMessage({id:"app.create.wheel.description"})}),o.a.createElement("link",{rel:"canonical",href:"https://color.adobe.com/create/color-wheel"})),o.a.createElement(eo,{ingestWorkflow:this.ingestWorkflow,radius:i,history:this.props.history})),o.a.createElement(l.Tab,{label:t},o.a.createElement(be.Helmet,null,o.a.createElement("title",null,this.props.intl.formatMessage({id:"app.create.image.title"})),o.a.createElement("meta",{name:"description",content:this.props.intl.formatMessage({id:"app.create.image.description"})})),o.a.createElement(Ko,{ingestWorkflow:this.ingestWorkflow,clearImageFromStore:this.clearImageFromStore})),(m.Fb||!m.Gb)&&o.a.createElement(l.Tab,{label:n},o.a.createElement(be.Helmet,null,o.a.createElement("title",null,this.props.intl.formatMessage({id:"app.create.gradinet.image.title"})),o.a.createElement("meta",{name:"description",content:this.props.intl.formatMessage({id:"app.create.gradeint.image.description"})})),o.a.createElement(Da,{ingestWorkflow:this.ingestWorkflow,clearImageFromStore:this.clearImageFromStore})),(m.Fb||m.Db)&&this.props.featureFlags.includes(m.jb.ENABLE_ACCESSIBILITY)&&o.a.createElement(l.Tab,{label:r},o.a.createElement(be.Helmet,null,o.a.createElement("title",null,this.props.intl.formatMessage({id:"app.create.accessibility.title"})),o.a.createElement("meta",{name:"description",content:this.props.intl.formatMessage({id:"app.create.accessibility.description"})}),o.a.createElement("link",{rel:"canonical",href:"https://color.adobe.com/create/color-accessibility"})),o.a.createElement(yc,{ingestWorkflow:this.ingestWorkflow})))),o.a.createElement(me,{ingestWorkflow:[].concat(Rc(this.ingestWorkflow),[a])})))}}]),n}(),Nc=Object(s.b)((function(e){var t=e.user,n=e.create;return{locale:t.locale,featureFlags:t.featureFlags,isLoggedIn:t.isLoggedIn,activeSwatch:n.activeSwatch,image:n.image,assetType:n.assetType}}),(function(e){return Object(c.b)({setSwatchesAndMarkers:f.setSwatchesAndMarkers,manageImageForExtraction:f.manageImageForExtraction,setCreateInitialState:f.setCreateInitialState,setEditWorkflow:f.setEditWorkflow,clearLibraries:vc.b,cclibraryUpdateThemeFlow:p.a},e)}))(Dc),Lc=Object(i.d)(Nc),Bc=n(128),Hc=n(101);function Uc(e){return(Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fc(){return(Fc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gc(e,t){return(Gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vc(e){return(Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gc(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vc(e);if(t){var o=Vc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Uc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Wc(e.prototype,t)}(n,[{key:"render",value:function(){var e=this;return this.props.featureFlagsFetchStatus!==m.h.COMPLETED_SUCCESSFULLY?o.a.createElement(Hc.a,{style:{position:"absolute"},wrapperStyle:{height:"100vh"},size:"L"}):o.a.createElement(a.d,null,o.a.createElement(a.b,{exact:!0,path:"(".concat(this.props.match.path,"|").concat(Object(O.z)(this.props.match.path,"color-wheel"),")"),render:function(e){return o.a.createElement(Lc,Fc({selectedIndex:0},e))}}),o.a.createElement(a.b,{path:Object(O.z)(this.props.match.path,"image"),render:function(e){return o.a.createElement(Lc,Fc({selectedIndex:1},e))}}),o.a.createElement(a.b,{path:Object(O.z)(this.props.match.path,"image-gradient"),render:function(e){return o.a.createElement(Lc,Fc({selectedIndex:2},e))}}),(m.Fb||m.Db)&&this.props.featureFlags.includes(m.jb.ENABLE_ACCESSIBILITY)&&o.a.createElement(a.b,{path:Object(O.z)(this.props.match.path,"color-accessibility"),render:function(e){return o.a.createElement(Lc,Fc({selectedIndex:3},e))}}),o.a.createElement(a.b,{path:Object(O.z)(this.props.match.path,"color-wheel-game"),render:function(t){return o.a.createElement(a.a,{to:"/".concat(e.props.locale).concat(m.kc.COLORGAME)})}}),o.a.createElement(a.b,{component:function(){return o.a.createElement(Bc.a,{type:404})}}))}}]),n}();t.default=qc},890:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"i",(function(){return b}));var r=n(2);function o(e,t,n){return{type:r.h,payload:n,srcName:t,criteria:e}}function a(e,t,n){return{type:r.j,payload:n,srcName:t,criteria:e}}function i(e,t,n){return{type:r.jb,payload:n,srcName:t,criteria:e}}function c(e,t,n){return{type:r.hb,payload:n,srcName:t,criteria:e}}function s(e,t,n){return{type:r.ib,payload:n,srcName:t,criteria:e}}function l(e,t,n){return{type:r.z,payload:n,srcName:t,criteria:e}}function u(e,t,n){return{type:r.a,payload:n,srcName:t,criteria:e}}function f(e,t,n){return{type:r.db,criteria:e,payload:n,srcName:t}}function p(e,t,n){return{type:r.ob,criteria:e,payload:n,srcName:t}}function h(e,t,n){return function(o){return o({type:r.qb,srcName:t,criteria:e,payload:n})}}function d(e,t,n){return{type:r.rb,payload:n,srcName:t,criteria:e}}function m(e,t,n){return{type:r.pb,payload:n,srcName:t,criteria:e}}function b(e,t,n){return{type:r.nb,payload:n,srcName:t,criteria:e}}},892:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(3),i=n(1),c=n(23),s=n(734),l=n.n(s);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?b(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onDragStart=r.onDragStart.bind(b(r)),r.onClick=r.onClick.bind(b(r)),r.onDrop=r.onDrop.bind(b(r)),r}return function(e,t,n){t&&d(e.prototype,t)}(n,[{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onClick",value:function(){this.props.active||this.props.setActiveSwatch(this.props.id)}},{key:"onDragStart",value:function(e){e.dataTransfer.setData("draggedSwatchId",this.props.id),e.dataTransfer.dropEffect="copy",e.dataTransfer.effectAllowed="move";var t={workflow:Object(a.e)(this.props.ingestWorkflow[0]),subcategory:i.Bb.SWATCH};Object(c.a)(i.zb.SWATCH_DRAG,{event:t},this.props.ingestWorkflow)}},{key:"onDrop",value:function(e){e.preventDefault();var t=parseInt(e.dataTransfer.getData("draggedSwatchId"),10),n=this.props.id;Object(a.q)(t)||isNaN(t)||Object(a.q)(n)||t===n||this.props.changeSwatchesOrder({draggedSwatchId:t,destinationSwatchId:n})}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({background:""===this.props.hex?"":"#".concat(this.props.hex)},this.props.styles);return o.a.createElement("div",f({className:[this.props.className,l.a.swatch].join(" "),style:e,onClick:this.props.onClick},this.props.draggable&&{draggable:this.props.draggable,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDrop:this.onDrop,onClick:this.onClick}),this.props.children)}}]),n}();v.defaultProps={active:!1,className:l.a.swatch,draggable:!1,ingestWorkflow:[i.E]},t.a=v},895:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"e",(function(){return v})),n.d(t,"j",(function(){return g})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return w})),n.d(t,"d",(function(){return E}));var r=n(2),o=n(905),a=n(906),i=n(74),c=n(1),s=n(60),l=n(3);function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=e.save,n=e.create,r={};return r.name=t.themeName?t.themeName:c.T,r.tags=t.tagsToSave,r.swatches=n.order.map((function(e){return Object(s.n)(n.swatches[e])})),r.harmony={baseSwatchIndex:n.order.indexOf(n.baseColorIndex),mood:n.colorMood,rule:n.harmonyRule},n.workflow===c.F.ACCESSIBILITY&&n.isAccessible&&(r.metadata={isAccessible:n.isAccessible}),r.colorMode=n.colorMode,r}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.b,payload:e}}function d(){return{type:r.i}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.X,payload:e}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.T,payload:e}}function y(){return function(e,t){var n=config("AUTOTAG_ENDPOINT").basePath,o=config("AUTOTAG_ENDPOINT").api,a=t().create,s=a.swatches.map((function(e){return[e.rgb.r/c.x.MAX.RGB.R,e.rgb.g/c.x.MAX.RGB.G,e.rgb.b/c.x.MAX.RGB.B]})),f=new URLSearchParams,p=function(e){var t=e.user,n={"Content-Type":"application/json"};return t.isLoggedIn&&(n.Authorization="Bearer ".concat(t.token)),n}(t()),h=a.workflow,d="".concat(n).concat(o);return f.append("q",JSON.stringify({values:s.concat.apply([],s)})),d="".concat(n).concat(o,"?").concat(f.toString()),Object(i.c)(d,p).then((function(t){var n=t.tags.map((function(e){return Object(l.d)(e)}));h===c.F.ACCESSIBILITY&&(n=[].concat(u(c.u),u(n)).slice(0,5)),e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:r.Z,payload:e}}(n))}))}}function v(e){switch(e){case c.g.GRADIENT:return function(t,n){var r=n().save,a=function(e){var t=e.save,n=e.create,r={};return r.name=t.themeName?t.themeName:c.Q,r.interpolation=c.W.interpolation,r.angle=c.W.angle,r.aspectRatio=c.W.aspectRatio,r.type=c.W.type,r.stops=[],n.order.forEach((function(e){var t=n.swatches[e],o=[{mode:c.R,value:{r:t.rgb.r,g:t.rgb.g,b:t.rgb.b}}];r.stops.push({color:o,offset:t.offset,midpoint:t.midpoint})})),r}(n());return t(Object(o.f)("",{gradient:a},e)).then((function(){return r.library.name})).catch((function(e){throw console.log(e),e}))};default:return function(t,n){var r=n(),i=r.save,c=r.user,s=p(n()),l=t(Object(o.f)("",{theme:s},e));return i.publishToKuler&&c.isAllowedToPublish?(s.libraryid=i.library.id,l.then((function(e){var n=e.response,r={};return r.id=n.elements[0].id,t(Object(a.f)(s,r)),i.library.name})).catch((function(e){throw console.error(e),e}))):l.then((function(){return i.library.name})).catch((function(e){throw console.error(e),e}))}}}function g(e){return function(t,n){var r=n().save,i=p(n());i.cclibraryThemeUpdateLibId=r.cclibraryThemeUpdateLibId,i.cclibraryThemeUpdateAssetId=r.cclibraryThemeUpdateAssetId;var c=t(Object(o.h)(e,i));return r.publishToKuler?(i.libraryid=r.library.id,c.then((function(e){var n=e.response;return t(Object(a.f)(i,n)),r.library.name})).catch((function(e){return console.error(e)}))):c.then((function(){return r.library.name})).catch((function(e){return console.error(e)}))}}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.cb,payload:e}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:r.mb,payload:e}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:r.B,payload:e}}},897:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"j",(function(){return v})),n.d(t,"o",(function(){return g})),n.d(t,"d",(function(){return O})),n.d(t,"l",(function(){return w})),n.d(t,"f",(function(){return E})),n.d(t,"k",(function(){return S})),n.d(t,"n",(function(){return j})),n.d(t,"m",(function(){return C})),n.d(t,"i",(function(){return k})),n.d(t,"p",(function(){return R})),n.d(t,"x",(function(){return I})),n.d(t,"u",(function(){return A})),n.d(t,"t",(function(){return T})),n.d(t,"q",(function(){return M})),n.d(t,"h",(function(){return _})),n.d(t,"r",(function(){return P})),n.d(t,"g",(function(){return x})),n.d(t,"w",(function(){return D})),n.d(t,"v",(function(){return N})),n.d(t,"s",(function(){return L})),n.d(t,"e",(function(){return B}));var r=n(2),o=n(1);function a(e){return{type:r.o,criteria:e}}var i=n(906),c=n(918),s=n(919),l=n(905),u=n(890),f=n(74),p=n(3);function h(e){return e.themes=[],e.result_sets&&e.result_sets[0]&&e.result_sets[0].items&&(e.themes=e.result_sets[0].items,delete e.result_sets[0].items),e}function d(e){var t=e.user,n={"x-api-key":config("CLIENT_ID"),"x-product":config("UNIVERSAL_SEARCH_ENDPOINT").xProduct,"x-product-location":config("UNIVERSAL_SEARCH_ENDPOINT").xProductLocation};return t.isLoggedIn&&(n.Authorization="Bearer ".concat(t.token)),n}function m(e,t){return{type:r.c,pageName:e,payload:t}}function b(e,t){return{type:r.d,pageName:e,payload:t}}function y(e,t){return{type:r.f,pageName:e,payload:t}}function v(e,t){return function(n,r){var i=r().criteriaDataCollection;Object(p.q)(i[e])&&n(a(e)),Object(p.q)(t.curatedDataUrl)||n(function(e,t){return function(n,r){var a=r().criteriaDataCollection;if(!Object(p.q)(a[e])&&!Object(p.y)(a[e].behance.fetchStatus)||!Object(p.y)(a[e].kuler.fetchStatus)||!Object(p.y)(a[e].stock.fetchStatus))return n(Object(u.h)(e,o.i)),n(Object(u.h)(e,o.Kb)),n(Object(u.h)(e,o.sc)),Object(f.c)(t.endPoint).then((function(t){var r=t,a={themes:[]},i={themes:[]},c={themes:[]};r&&r.files&&(i.themes=r.files.filter((function(e){return e.source===o.i})),a.themes=r.files.filter((function(e){return e.source===o.Kb})),c.themes=r.files.filter((function(e){return e.source===o.sc})),n(Object(u.d)(e,o.i,i)),n(Object(u.d)(e,o.Kb,a)),n(Object(u.d)(e,o.sc,c))),n(Object(u.f)(e,o.i)),n(Object(u.f)(e,o.Kb)),n(Object(u.f)(e,o.sc))})).catch((function(t){console.log("error ".concat(t));var r=o.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(r=t.response.status),n(Object(u.g)(e,o.i,r)),n(Object(u.g)(e,o.Kb,r)),n(Object(u.g)(e,o.sc,r))}))}}(e,{endPoint:t.curatedDataUrl}))}}function g(e,t,n){return function(r,m){var b=m().criteriaDataCollection;Object(p.q)(b[e])&&r(a(e)),t.forEach((function(t){t!==o.i||Object(p.q)(n.behanceUrl)?t!==o.Kb||Object(p.q)(n.kulerUrl)?t!==o.sc||Object(p.q)(n.stockUrl)?t!==o.p||Object(p.q)(n.ccLibraryUrl)?t!==o.Hc||Object(p.q)(n.universalSearchUrl)||r(function(e,t){return function(n,r){return n(Object(u.h)(e,o.Hc)),Object(f.f)(t.endPoint,d(r()),t.formData).then((function(t){var r=h(t);n(Object(u.d)(e,o.Hc,r)),n(Object(u.f)(e,o.Hc))})).catch((function(t){var r=o.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(r=t.response.status),console.log("error ".concat(t)),n(Object(u.g)(e,o.Hc,r))}))}}(e,{endPoint:n.universalSearchUrl,formData:n.formData})):r(Object(l.e)(e,{endPointTheme:n.ccLibraryUrl})):r(Object(c.c)(e,{endPoint:n.stockUrl})):r(Object(i.d)(e,{endPoint:n.kulerUrl})):r(Object(s.c)(e,{endPoint:n.behanceUrl}))}))}}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r,a){var l={};return t.includes(o.i)&&!Object(p.q)(e.behanceUrl)&&(l.BEHANCE=Object(s.d)(e.behanceUrl)),t.includes(o.Kb)&&!Object(p.q)(e.kulerUrl)&&(l.KULER=Object(i.e)(e.kulerUrl,a())),t.includes(o.sc)&&!Object(p.q)(e.stockUrl)&&(l.STOCK=Object(c.d)(e.stockUrl)),t.includes(o.Hc)&&!Object(p.q)(e.universalSearchUrl)&&(l.UNIVERSAL_SEARCH=function(e,t,n){return Object(f.f)(e,d(n()),t).then((function(e){return h(e).themes.length>0})).catch((function(e){return!1}))}(e.universalSearchUrl,n.universalSearchFormData,a)),Promise.all(Object.keys(l).map((function(e){return l[e]})))}}function w(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,l){var u=l().criteriaDataCollection;Object(p.q)(u[e])&&i(a(e)),t.forEach((function(t){t!==o.i||Object(p.q)(n.behanceUrl)?t!==o.sc||Object(p.q)(n.stockUrl)||i(Object(c.c)(e,{endPoint:n.stockUrl})):i(Object(s.c)(e,{endPoint:n.behanceUrl},r))}))}}function E(e,t){return function(n){t.forEach((function(t){t===o.i?n(Object(s.a)(e)):t===o.sc?n(Object(c.a)(e)):t===o.Kb&&n(Object(i.a)(e))}))}}function S(e,t){return function(n,r){var o=r().criteriaDataCollection;Object(p.q)(o[e])&&n(a(e)),n(Object(s.b)(e,{endPoint:t.behanceUrl})),n(Object(c.b)(e,{}))}}function j(e,t){return function(n,r){var o=r().criteriaDataCollection;Object(p.q)(t.kulerUrl)||(Object(p.q)(o[e])&&n(a(e)),n(Object(i.c)(e,{endPoint:t.kulerUrl})))}}function C(e,t,n){return function(r,o){var i=o().criteriaDataCollection;return Object(p.q)(i[e])&&r(a(e)),r(Object(l.d)(e,{firstEndPoint:t,secondEndPoint:n}))}}function k(e,t,n){return function(r,o){var i=o().criteriaDataCollection;return Object(p.q)(i[e])&&r(a(e)),r(Object(l.c)(e,{url:t,signal:n}))}}function R(e,t){return{type:r.p,pageName:e,payload:t}}function I(e,t){return{type:r.sb,pageName:e,payload:t}}function A(e,t){return function(n){if(t.source===o.Kb)return n(Object(i.h)(e,t))}}function T(e,t,n){return function(r){switch(n){case o.g.GRADIENT:return r(Object(l.g)(t));default:return r(Object(l.h)(e,t))}}}function M(e,t){return function(n){return n(Object(i.f)(e,t))}}function _(e,t){return function(n){switch(t.source){case o.p:return n(Object(l.b)(e,t));case o.Kb:return n(Object(i.b)(e,t))}}}function P(e,t){return function(n){return n(Object(l.f)(e,t,o.g.THEME))}}function x(e){return function(t){return t(Object(l.a)(e))}}function D(e,t,n){return function(r){switch(t){case o.p:r(Object(l.j)(e,n))}}}function N(e,t,n){return function(r){switch(t){case o.p:r(Object(l.i)(e,n))}}}function L(e){return function(t){return t(Object(i.g)(e))}}function B(e){return function(t){return t(a(e))}}},899:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c}));var r=n(1),o=n(60),a=function(e){var t=[],n={};return e.map((function(e,o){var a={offset:e.offset,R:parseInt(e.rgb.r*r.x.MAX.RGB.R,10),G:parseInt(e.rgb.g*r.x.MAX.RGB.G,10),B:parseInt(e.rgb.b*r.x.MAX.RGB.B,10)};0===o||e.midpoint!==r.V&&t.push({offset:"".concat(n.offset+(e.offset-n.offset)*e.midpoint),R:Math.round("".concat((n.R+a.R)/2)),G:Math.round("".concat((n.G+a.G)/2)),B:Math.round("".concat((n.B+a.B)/2))}),n=a,t.push(a)})),t},i=function(e){var t="",n="",a=0;return e.forEach((function(e,i){var c="rgba(".concat(Math.round(e.rgb.r*r.x.MAX.RGB.R),", ").concat(Math.round(e.rgb.g*r.x.MAX.RGB.G),", ").concat(Math.round(e.rgb.b*r.x.MAX.RGB.B),", 1)"),s=Object(o.u)("rgb",Object(o.m)([e.rgb.r*r.x.MAX.RGB.R,e.rgb.g*r.x.MAX.RGB.G,e.rgb.b*r.x.MAX.RGB.B]));if(0===i)t=t.concat("".concat(c," ").concat(100*e.offset,"%")),n=n.concat("#".concat(s," ").concat(100*e.offset,"%")),a=100*e.offset;else{var l=(100*e.offset-a)*e.midpoint,u=a+l;t=t.concat(", ".concat(u,"%, ").concat(c," ").concat(100*e.offset,"%")),n=n.concat(", ".concat(u,"%, #").concat(s," ").concat(100*e.offset,"%")),a=100*e.offset}})),{linearGradientDataRGBA:t,linearGradientDataHEX:n}},c=function(e,t){var n=a(e),r='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(t.width,'" height="').concat(t.height,'">\n');return r+="<defs>\n",r+='<linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%"> ',n.forEach((function(e,t){r+='<stop offset="'.concat(100*e.offset,'%" style="stop-color:rgb(').concat(e.R,",").concat(e.G,",").concat(e.B,');stop-opacity:1" /> ')})),r+="</linearGradient>\n",r+="</defs>\n",r+='<rect width="'.concat(t.width,'" height="').concat(t.height,'" fill="url(#gradient)"/>\n'),r+="</svg>"}},901:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(3),i=n(1),c=n(735),s=n.n(c);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?p(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(p(r=t.call(this,e)),"setResetButtonState",(function(e){r.currentMarkerMoved&&(r.currentMarkerMoved=e,r.props.shouldResetBeDisabled(e))})),r.mouseDown=r.mouseDown.bind(p(r)),r.mouseUp=r.mouseUp.bind(p(r)),r.touchStart=r.touchStart.bind(p(r)),r.touchEnd=r.touchEnd.bind(p(r)),r.updateMarkerPosition=r.updateMarkerPosition.bind(p(r)),r.getMarkerPosition=r.getMarkerPosition.bind(p(r)),r.currentMarkerMoved=!1,r}return function(e,t,n){t&&u(e.prototype,t)}(n,[{key:"getMarkerPosition",value:function(e){var t=e;Object(a.q)(e.touches)||0===e.touches.length||(t=e.touches[0]);var n=this.marker.offsetLeft,r=this.marker.offsetTop;this.hitOffset={x:t.pageX-n,y:t.pageY-r,diameter:1,markerRadius:Object(a.l)()},this.props.setActiveSwatch(this.props.id)}},{key:"mouseDown",value:function(e){return!Object(a.p)(e)&&(this.getMarkerPosition(e),document.body.addEventListener("mousemove",this.updateMarkerPosition,{passive:!0}),document.body.addEventListener("mouseup",this.mouseUp),Object(a.w)(!0),!0)}},{key:"touchStart",value:function(e){this.getMarkerPosition(e),document.body.addEventListener("touchmove",this.updateMarkerPosition,{passive:!0}),document.body.addEventListener("touchend",this.touchEnd,{passive:!0}),Object(a.w)(!0)}},{key:"updateMarkerPosition",value:function(e){var t=e;return Object(a.q)(e.touches)||0===e.touches.length||(t=e.touches[0]),{x:(t.pageX-this.hitOffset.x+this.hitOffset.markerRadius)/this.hitOffset.diameter,y:(t.pageY-this.hitOffset.y+this.hitOffset.markerRadius)/this.hitOffset.diameter}}},{key:"mouseUp",value:function(e){document.body.removeEventListener("mousemove",this.updateMarkerPosition),document.body.removeEventListener("mouseup",this.mouseUp),Object(a.w)(!1)}},{key:"touchEnd",value:function(e){document.body.removeEventListener("touchmove",this.updateMarkerPosition),document.body.removeEventListener("touchend",this.touchEnd),Object(a.w)(!1)}},{key:"children",value:function(){return""}},{key:"render",value:function(){var e=this,t=this.props.id===this.props.activeSwatch?s.a.activeMarker:s.a.marker;switch(this.props.assetType){case i.g.GRADIENT:t=s.a.gradientMarker}if(!Object(a.q)(this.props.markerType))switch(this.props.markerType){case i.qb.MIDPOINT:t=s.a.gradientMidpointMarker;break;case i.qb.COLORSTOP:t=this.props.isCreate?[this.props.order[this.props.id]===this.props.activeSwatch?s.a.gradientCreateColorStopMarkerActive:s.a.gradientCreateColorStopMarker]:s.a.gradientOneUpColorStopMarker}return o.a.createElement("div",{className:t,onMouseDown:this.mouseDown,onTouchStart:this.touchStart,onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,ref:function(t){e.marker=t}},this.children())}}]),n}();t.a=d},905:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return C})),n.d(t,"b",(function(){return k})),n.d(t,"j",(function(){return R})),n.d(t,"i",(function(){return I}));var r=n(1),o=n(74),a=n(3),i=n(890),c=n(123),s=n(60),l=n(46),u=n(34),f=n.n(u);function p(e){var t=e.user,n={"x-api-key":config("CLIENT_ID")};return t.isLoggedIn&&(n.Authorization="Bearer ".concat(t.token)),n}function h(e,t,n,o){var a=function(e){return e.themes=e.libraries,delete e.libraries,e}(e);a.oldThemes=t,o(Object(i.d)(n,r.p,a)),o(Object(i.f)(n,r.p))}function d(e,t){return function(n,c){var s=c(),l=s.criteriaDataCollection;if(!Object(a.q)(l[e]))return n(Object(i.h)(e,r.p)),Object(o.d)(t.url,p(s),t.signal).then((function(t){return h(t,l[e].cclibrary.themeList,e,n),c(),t})).catch((function(t){var o=r.h.COMPLETED_WITH_GENERIC_ERROR;return t.response&&t.response.status&&(o=t.response.status),console.log("error ".concat(t)),n(Object(i.g)(e,r.p,o)),[]}))}}function m(e,t){return function(n,c){var s=c(),l=s.criteriaDataCollection;if(!Object(a.q)(l[e]))return n(Object(i.h)(e,r.p)),Object(o.c)(t.firstEndPoint,p(s)).then((function(t){return h(t,l[e].cclibrary.themeList,e,n),c().criteriaDataCollection[e].cclibrary.themeList})).then((function(r){return Object(o.c)(t.secondEndPoint,p(s)).then((function(t){return h(t,r,e,n),c().criteriaDataCollection[e].cclibrary.themeList}))})).catch((function(t){var o=r.h.COMPLETED_WITH_GENERIC_ERROR;return t.response&&t.response.status&&(o=t.response.status),console.log("error ".concat(t)),n(Object(i.g)(e,r.p,o)),[]}))}}function b(e,t){return function(n,c){var s=c(),l=s.criteriaDataCollection;if(s.user,!Object(a.q)(l[e])&&l[e].cclibrary.fetchStatus!==r.h.REQUESTED)return n(Object(i.h)(e,r.p)),function(e,t){return Object(o.c)(e,t).then((function(e){return e.elements})).catch((function(e){return[]}))}(t.endPointTheme,p(s)).then((function(t){var o=[],a=[];t.forEach((function(e){switch(e.type){case r.xc:o.push(e);break;case r.ob:r.Gb||a.push(e)}}));var c={themes:o,oldThemes:l[e].cclibrary.themeList,gradients:a};n(Object(i.f)(e,r.p)),n(Object(i.d)(e,r.p,c))})).catch((function(t){var o=r.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(o=t.response.status),console.log("error ".concat(t)),n(Object(i.g)(e,r.p,o))}))}}function y(e){return function(t,n){var a=p(n()),c=n().libraries.criteria,s=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,l=config("CCLIBRARIES_ENDPOINT").librariesApi,u="".concat(s).concat(l);return a=Object.assign(a,{Accept:"application/json","Content-Type":"application/json"}),Object(o.e)(u,a,{name:e.libraryName}).then((function(e){var n={themes:[e]};return c.forEach((function(e){return t(Object(i.a)(JSON.stringify(e),r.p,n))})),{name:e.name,id:e.library_urn}})).catch((function(e){console.log("error ".concat(e))}))}}function v(e){var t=e.criteriaDataCollection,n=e.libraries,o=(e.user,n.criteria),a=null;return(void 0===t[JSON.stringify(o[0])]?[]:t[JSON.stringify(o[0])].cclibrary.themeList.slice().reverse()).some((function(e){return!!(isNaN(e.totalElements)||e.totalElements<r.r)&&(a=e,!0)})),a}function g(e){var t={};return Object(c.a)(e)&&(e.isSpotColor?t.type="spot":t.type="process",t.spotColorName="PANTONE ".concat(e.pantone)),t}function O(e){var t=[],n=e.swatches,o=e.colorMode;return n.forEach((function(e){var n=[],a={};o.toUpperCase()!==r.R&&n.push(function(e,t){var n={};switch(t){case r.v.CMYK:n.mode=r.w.CMYK,n.value={c:parseInt(Math.round(e.cmyk.c*r.x.MAX.CMYK.C),10),m:parseInt(Math.round(e.cmyk.m*r.x.MAX.CMYK.M),10),y:parseInt(Math.round(e.cmyk.y*r.x.MAX.CMYK.Y),10),k:parseInt(Math.round(e.cmyk.k*r.x.MAX.CMYK.K),10)};break;case r.v.HSV:n.mode=r.w.HSB,n.value={h:parseInt(Math.round(e.hsv.h*r.x.MAX.HSV.H),10),s:parseInt(Math.round(e.hsv.s*r.x.MAX.HSV.S),10),b:parseInt(Math.round(e.hsv.v*r.x.MAX.HSV.V),10)};break;case r.v.LAB:var o=Object(s.e)([e.lab.l,e.lab.a,e.lab.b]);n.mode=r.w.LAB,n.value={l:Math.round(o[0]),a:Math.round(o[1]),b:Math.round(o[2])}}return Object.assign(n,g(e)),n}(e,o)),a.mode=r.w.RGB,a.value={r:parseInt(Math.round(e.rgb.r*r.x.MAX.RGB.R),10),g:parseInt(Math.round(e.rgb.g*r.x.MAX.RGB.G),10),b:parseInt(Math.round(e.rgb.b*r.x.MAX.RGB.B),10)},Object.assign(a,g(e)),n.push(a),t.push(n)})),t}function w(e,t,n){return function(c,s){if(null!==v(s())){var l=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,u=config("CCLIBRARIES_ENDPOINT").librariesApi,f=config("CCLIBRARIES_ENDPOINT").themesApi,h=s().save,d=Object(a.q)(h.library)?v(s()):h.library,m="".concat(l).concat(u,"/").concat(d.id).concat(f),b=p(s()),y={};switch(b=Object.assign(b,{Accept:"application/json","Content-Type":"application/json"}),n){case r.g.GRADIENT:y=t.gradient;break;default:y=t.theme}return Object(o.e)(m,b,function(e,t){r.Gb?r.bb.MOBILE:r.bb.WEB;var n={name:e.name,client:{deviceId:window.adobeIMS.getUserProfile().userId.split("@")[0],device:"".concat(window.navigator.platform,"_").concat(platform.os.version),app:"COLOR-".concat(r.d)},representations:[]},o={};switch(t){case r.g.GRADIENT:n.type=r.ob,o=function(e,t){var n={rel:"primary"};return n.type=r.rb,n[t]={interpolation:e.interpolation,angle:e.angle,aspectRatio:e.aspectRatio,type:e.type,stops:e.stops},e.metadata&&(n[t].metadata=e.metadata),n}(e,r.pb);break;case r.g.THEME:n.type=r.xc,o=function(e,t){var n={rel:"primary"};return n.type=r.Bc,n[t]={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood,rule:e.harmony.rule,swatches:O(e),tags:e.tags.map((function(e){return e.value}))},e.metadata&&(n[t].metadata=e.metadata),n}(e,r.yc)}return n.representations.push(o),n}(y,n)).then((function(n){return c(Object(i.e)(e,y.source,t)),{response:n,libraryName:d.name}})).catch((function(e){throw console.log("error ".concat(e)),e}))}console.error("All Libraries full. User needs to create new library")}}function E(e,t,n){return function(r,o){return function(e){var t=e.criteriaDataCollection,n=e.libraries.criteria,r=t[JSON.stringify(n[0])],o=[];return r&&(o=r.cclibrary.themeList),0===o.length}(o())?r(y({libraryName:"My Library"})).then((function(){r(w(e,t,n))})):r(w(e,t,n))}}function S(e,t){var n=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,r=config("CCLIBRARIES_ENDPOINT").librariesApi,a=config("CCLIBRARIES_ENDPOINT").themesApi,i=config("CCLIBRARIES_ENDPOINT").metadataApi,c=e.cclibraryThemeUpdateLibId,s="".concat(n).concat(r,"/").concat(c).concat(a).concat(i),l=t;return l=Object.assign(l,{Accept:"application/json","Content-Type":"application/json"}),Object(o.i)(s,l,JSON.stringify(function(e){var t={elements:[]},n={id:e.cclibraryThemeUpdateAssetId};return void 0!==e.name&&(n.name=e.name),t.elements.push(n),t}(e))).then((function(e){return{response:e}}))}function j(e){return function(t,n){return S(e,p(n()))}}function C(e,t){return function(n,a){var c=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,s=config("CCLIBRARIES_ENDPOINT").librariesApi,u=config("CCLIBRARIES_ENDPOINT").themesApi,h=t.cclibraryThemeUpdateLibId,d="".concat(c).concat(s,"/").concat(h).concat(u,"/").concat(t.cclibraryThemeUpdateAssetId,"/representations"),m=p(a()),b=l.a;return m=Object.assign(m,{Accept:"application/json","Content-Type":"application/json"}),(b=Object.assign(b,t)).id=t.cclibraryThemeUpdateAssetId,b.source=r.p,b.uniqueID=f.a.v4(),Object(o.h)(d,m,JSON.stringify(function(e){r.Gb?r.bb.MOBILE:r.bb.WEB;var t={client:{deviceId:window.adobeIMS.getUserProfile().userId.split("@")[0],device:"".concat(window.navigator.platform,"_").concat(platform.os.version),app:"COLOR-".concat(r.d)},type:"application/vnd.adobe.element.colortheme+dcx",representations:[]},n={rel:"primary",type:"application/vnd.adobe.colortheme+json","colortheme#trackingdata":"color-web-service","colortheme#optype":"colorThemePanel"};return n["colortheme#data"]={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood,rule:e.harmony.rule,swatches:O(e),tags:e.tags.map((function(e){return e.value}))},e.metadata&&(n["colortheme#data"].metadata=e.metadata),t.representations.push(n),t}(t))).then((function(o){return o.id=b.id,S(t,p(a())),n(Object(i.i)(JSON.stringify(e),r.p,b)),{response:o,libraryName:h.name}}))}}function k(e,t){return function(n,r){var a=p(r()),c=config("CCLIBRARIES_ENDPOINT").melvilleBasePath,s=config("CCLIBRARIES_ENDPOINT").librariesApi,l=config("CCLIBRARIES_ENDPOINT").themesApi,u="".concat(c).concat(s,"/").concat(JSON.parse(e).main).concat(l,"/").concat(t.id);return a=Object.assign(a,{Accept:"application/json","Content-Type":"application/json"}),Object(o.b)(u,a).then((function(r){return n(Object(i.c)(e,t.source,t)),{response:r,themeName:t.name}}))}}function R(e,t){return Object(i.m)(e,r.p,t)}function I(e,t){return Object(i.k)(e,r.p,t)}},906:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return b}));var r=n(1),o=n(74),a=n(890),i=n(3);function c(e){return Object(a.b)(e,r.Kb)}function s(e){var t=e.user,n={"x-api-key":config("KULER_ENDPOINT").clientId};return t.isLoggedIn&&(n.Authorization="Bearer ".concat(t.token)),n}function l(e,t){var n=t.user;return Object(o.c)(e,s({user:n})).then((function(e){return function(e){var t={themes:[]};return e&&e.themes&&e.themes.length>0&&t.themes.push(e),t}(e).themes.length>0})).catch((function(e){return!1}))}function u(e,t){return function(n,i){var c=i();n(Object(a.h)(e,r.Kb)),Object(o.c)(t.endPoint,s(c)).then((function(t){var o={themes:[t]};n(Object(a.d)(e,r.Kb,o)),n(Object(a.f)(e,r.Kb))})).catch((function(t){var o=r.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(o=t.response.status),console.log("error ".concat(t)),n(Object(a.g)(e,r.Kb,o))}))}}function f(e,t){return function(n,c){var l=c(),u=l.criteriaDataCollection;Object(i.q)(u[e])||u[e].kuler.fetchStatus===r.h.REQUESTED||(n(Object(a.h)(e,r.Kb)),Object(o.c)(t.endPoint,s(l)).then((function(t){n(Object(a.d)(e,r.Kb,t)),n(Object(a.f)(e,r.Kb))})).catch((function(t){var o=r.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(o=t.response.status),console.log("error ".concat(t)),n(Object(a.g)(e,r.Kb,o))})))}}function p(e){var t=e.swatches,n=e.colorMode,o=[];return t.forEach((function(e){var t={};t.mode=n.toLowerCase(),t.values=function(e,t){switch(t){case r.v.RGB:return[e.rgb.r,e.rgb.g,e.rgb.b];case r.v.CMYK:return[e.cmyk.c,e.cmyk.m,e.cmyk.y,e.cmyk.k];case r.v.HSV:return[e.hsv.h,e.hsv.s,e.hsv.v];case r.v.LAB:return[e.lab.l,e.lab.a,e.lab.b]}return otherMode}(e,n),o.push(t)})),o}function h(e,t){return function(n,r){var a=s(r()),i=config("KULER_ENDPOINT").basePath,c=config("KULER_ENDPOINT").api,l=config("KULER_ENDPOINT").themePath,u="".concat(i).concat(c).concat(l),f=Object.assign({},e),h=r().save;return a=Object.assign(a,{Accept:"application/json, text/javascript, */*","Content-Type":"application/json"}),Object(o.e)(u,a,function(e,t){var n={};return n.name=e.name?e.name:"My Color Theme",n.swatches=p(e),n.assets={assetid:t.id,libraryid:e.libraryid},n.harmony={baseSwatchIndex:e.harmony.baseSwatchIndex,mood:e.harmony.mood.toLowerCase(),rule:e.harmony.rule.toLowerCase(),sourceURL:""},n}(f,t)).then((function(e){return h.tagsToSave.length>0&&n(function(e){return function(t,n){var r=s(n()),a=n().save.tagsToSave,i=config("KULER_ENDPOINT").basePath,c=config("KULER_ENDPOINT").api,l=config("KULER_ENDPOINT").themePath,u=config("KULER_ENDPOINT").tagsPath,f="".concat(i).concat(c).concat(l,"/").concat(e.id).concat(u);return r=Object.assign(r,{Accept:"application/json, text/javascript, */*","Content-Type":"application/json"}),Object(o.e)(f,r,a).then((function(){return e.name})).catch((function(e){return console.error(e)}))}}(e)),e}))}}function d(e,t){return function(n,i){var c=s(i()),l=config("KULER_ENDPOINT").basePath,u=config("KULER_ENDPOINT").api,f=config("KULER_ENDPOINT").themePath,p="".concat(l).concat(u).concat(f,"/").concat(t.id,"/like");return c=Object.assign(c,{Accept:"application/json","Content-Type":"application/json"}),t.like.user?Object(o.a)(p,c).then((function(o){JSON.parse(e).main===r.G.EXPLORE.MY_APPRECIATIONS&&n(Object(a.c)(e,t.source,t)),n(Object(a.j)(e,r.Kb,t))})).catch((function(e){console.error("Error while updating status")})):Object(o.e)(p,c,{}).then((function(o){return n(Object(a.j)(e,r.Kb,t))})).catch((function(e){console.error("Error while updating status")}))}}function m(e,t){return function(n,i){var c=s(i()),l=config("KULER_ENDPOINT").basePath,u=config("KULER_ENDPOINT").api,f=config("KULER_ENDPOINT").themePath,p="".concat(l).concat(u).concat(f,"/").concat(t.id);return c=Object.assign(c,{Accept:"application/json","Content-Type":"application/json"}),Object(o.a)(p,c).then((function(o){return n(Object(a.c)(e,r.Kb,t)),{response:o,themeName:t.name}})).catch((function(e){console.log("error ".concat(e))}))}}function b(e){return function(t,n){var r=n();return Object(o.c)(e,s(r)).then((function(e){return e.themes})).catch((function(e){return[]}))}}},909:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(899),i=n(3),c=n(1),s=n(23),l=n(122),u=n(7),f=n(60),p=n(124),h=n(33),d=n(39),m=n(52),b=n.n(m),y=n(732),v=n.n(y),g=n(225),O=n.n(g),w=n(901);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,n){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(n,w.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?R(e):t}(this,n)}}(n);function n(e){var r,a,f,p,h;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),T(R(h=t.call(this,e)),"onClick",(function(e){var t=Object(i.h)("#".concat(e)),n={workflow:Object(i.e)(h.props.themeData.ingestWorkflow[0]),subcategory:c.Bb.ONEUP,value:"#".concat(e)},r=Object(l.a)(h.props.themeData);t?(h.props.notification({variant:c.uc,message:o.a.createElement(u.a,{id:"app.oneupactions.toast.success.message"})}),Object(s.a)(c.zb.COPY_HEX,{content:r,event:n},[c.Bb.ONEUP])):h.props.notification({variant:c.gb,message:o.a.createElement(u.a,{id:"app.oneupactions.toast.error.message"})})})),T(R(h),"mouseDown",(function(e){e.stopPropagation(),e.preventDefault(),h.props.isCreate?I((r=R(h),A(n.prototype)),"mouseDown",r).call(r,e):h.props.isOneUp&&h.onClick(h.props.stop.hex)})),T(R(h),"touchStart",(function(e){e.stopPropagation(),e.preventDefault(),h.props.isCreate?I((a=R(h),A(n.prototype)),"touchStart",a).call(a,e):h.props.isOneUp&&h.onClick(h.props.stop.hex)})),T(R(h),"mouseOver",(function(e){h.props.isOneUp&&h.props.setActiveSwatch(h.props.id)})),T(R(h),"mouseOut",(function(e){h.props.isOneUp&&h.props.setActiveSwatch(-1)})),T(R(h),"updateMarkerPosition",(function(e){var t,n=e;Object(i.q)(e.touches)||0===e.touches.length||(n=e.touches[0]),t=n.pageX-h.hitOffsetX+h.radius,t=Math.round(t);var r=(t=Math.min(h.props.canvas.width-1,Math.max(0,t)))/h.props.canvas.width,o=r>.998?1:r,a=-1===h.leftMarkerPos?h.props.stops[h.thisMarkerPos].midpoint:h.props.stops[h.leftMarkerPos].offset+(o-h.props.stops[h.leftMarkerPos].offset)*h.props.stops[h.thisMarkerPos].midpoint,s=-1===h.rightMarkerPos?"":o+(h.props.stops[h.rightMarkerPos].offset-o)*h.props.stops[h.rightMarkerPos].midpoint,l=h.props.order.indexOf(h.thisMarkerPos),u=!1;if(h.props.setSwatch({i:h.thisMarkerPos,swatch:{offset:o,positionOfMidpoint:a},assetType:c.g.GRADIENT}),-1!==h.rightMarkerPos&&h.props.setSwatch({i:h.rightMarkerPos,swatch:{midpoint:h.props.stops[h.rightMarkerPos].midpoint,positionOfMidpoint:s},assetType:c.g.GRADIENT}),-1!==h.leftMarkerPos&&o<=h.props.stops[h.leftMarkerPos].offset?(h.props.swapStopsAndMarkersOrder({source:l,destination:l-1}),h.leftMarkerPos=1===l?-1:h.props.order[l-2],h.rightMarkerPos=h.props.order[l],u=!0):-1!==h.rightMarkerPos&&o>=h.props.stops[h.rightMarkerPos].offset&&(h.props.swapStopsAndMarkersOrder({source:l,destination:l+1}),h.leftMarkerPos=h.props.order[l],h.rightMarkerPos=l===h.props.stops.length-2?-1:h.props.order[l+2],u=!0),u){var f=0,p=0;h.props.order.forEach((function(e,t){var n=h.props.stops[e];0!==t&&(p=f+(n.offset-f)*n.midpoint),h.props.setSwatch({i:e,swatch:{positionOfMidpoint:p},assetType:c.g.GRADIENT}),f=n.offset})),h.props.drawConnectingLines}h.currentMarkerMoved=!0})),T(R(h),"getMarkerPosition",(function(e){var t=e;Object(i.q)(e.touches)||0===e.touches.length||(t=e.touches[0]),h.hitOffsetX=t.pageX-h.marker.offsetLeft,h.thisMarkerPos=h.props.order[h.props.id],h.leftMarkerPos=0===h.props.id?-1:h.props.order[h.props.id-1],h.rightMarkerPos=h.props.id===h.props.stops.length-1?-1:h.props.order[h.props.id+1],h.props.setActiveSwatch(h.props.order[h.props.id])})),T(R(h),"mouseUp",(function(e){h.props.isCreate&&(I((f=R(h),A(n.prototype)),"mouseUp",f).call(f,e),h.sendMarkerMoveIngestEvent(),h.setResetButtonState(!1),h.props.setActiveSwatch(-1))})),T(R(h),"touchEnd",(function(e){h.props.isCreate&&(I((p=R(h),A(n.prototype)),"touchEnd",p).call(p,e),h.sendMarkerMoveIngestEvent(),h.setResetButtonState(!1),h.props.setActiveSwatch(-1))})),h.radius=parseInt(b.a.colorStopRadius,10),h.colorStopOneUpDiameter=b.a.colorStopOneUpDiameter,h.colorStopCreateDiameter=b.a.colorStopDiameter,h.colorStopCreateDiameterActive=b.a.colorStopDiameterActive,h}return function(e,t,n){t&&C(e.prototype,t)}(n,[{key:"paint",value:function(){if(this.props.isOneUp){var e="rgb(",t=Math.round("".concat(100*this.props.stop.offset)),n=j({},this.props.stop.rgb);e=e.concat("".concat(parseInt(n.r*c.x.MAX.RGB.R,10),",")," ".concat(parseInt(n.g*c.x.MAX.RGB.G,10),",")," ".concat(parseInt(n.b*c.x.MAX.RGB.B,10),")")),this.marker.style.backgroundColor=e,this.marker.style.top="calc(50% - ".concat(this.colorStopOneUpDiameter/2,"px)"),this.hexValue.textContent="#".concat(this.props.stop.hex),this.copyHexContainer.style.color=Object(f.r)(n)>c.tb.RGB?"".concat(O.a.oneUpThemeDetailsTextColorDark):"".concat(O.a.oneUpThemeDetailsTextColorLight),0===Math.round(t)?this.marker.style.left="calc(".concat(t,"% + 1px)"):100===Math.round(t)?(this.marker.style.left="calc(".concat(t,"% - ").concat(this.colorStopOneUpDiameter,"px - 1px)"),this.copyHexContainer.style.marginLeft="-40px"):(this.marker.style.left="calc(".concat(t,"% - ").concat(this.colorStopOneUpDiameter/2,"px)"),this.copyHexContainer.style.marginLeft="-15px")}else if(this.props.isCreate&&this.props.order.length>0){this.colorStop=this.props.stops[this.props.order[this.props.id]];var r="rgba(",o="".concat(100*this.colorStop.offset),a=j({},this.colorStop.rgb);r=r.concat("".concat(a.r,", ").concat(a.g,", ").concat(a.b,", 1)")),this.marker.style.backgroundColor=r,this.marker.style.top="calc(50% - ".concat(this.colorStopCreateDiameter/2,"px)"),this.marker.style.left="calc(".concat(o,"% - ").concat(this.colorStopCreateDiameter/2,"px)"),this.marker.style.borderColor=O.a.defaultGradientColorStopBorder,this.props.activeSwatch===this.props.order[this.props.id]&&(this.marker.style.top="calc(50% - ".concat(this.colorStopCreateDiameterActive/2,"px)"),this.marker.style.left="calc(".concat(o,"% - ").concat(this.colorStopCreateDiameterActive/2,"px)"),this.marker.style.borderColor=O.a.selectedGradientColorStopBorder)}}},{key:"componentDidMount",value:function(){this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(i.e)(c.E),subcategory:"".concat(c.Bb.GRADIENT,"_").concat(c.Bb.OFFSET,"_").concat(c.Bb.MARKER)};Object(s.a)(c.zb.MARKER_MOVE,{event:e},[c.Bb.OFFSET])}},{key:"children",value:function(){var e=this;return o.a.createElement("div",{className:v.a.copyHexContainer,ref:function(t){e.copyHexContainer=t}},o.a.createElement("div",{className:v.a.copy},o.a.createElement(u.a,{id:"app.oneup.copy"})),o.a.createElement("div",{className:v.a.hex,ref:function(t){e.hexValue=t}}))}}]),n}();M.defaultProps={markerType:c.qb.COLORSTOP};var _=Object(h.b)((function(e){var t=e.create;return{stops:t.swatches,order:t.order,activeSwatch:t.activeSwatch}}),(function(e){return Object(d.b)({setSwatch:p.setSwatch,swapStopsAndMarkersOrder:p.swapStopsAndMarkersOrder,setActiveSwatch:p.setActiveSwatch},e)}))(M),P=n(24);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,n){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(n,w.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?L(e):t}(this,n)}}(n);function n(e){var r,o,a,s,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),U(L(l=t.call(this,e)),"mouseDown",(function(e){e.stopPropagation(),e.preventDefault(),B((r=L(l),H(n.prototype)),"mouseDown",r).call(r,e),l.props.setActiveSwatch(100)})),U(L(l),"touchStart",(function(e){e.stopPropagation(),e.preventDefault(),B((o=L(l),H(n.prototype)),"touchStart",o).call(o,e),l.props.setActiveSwatch(100)})),U(L(l),"updateMarkerPosition",(function(e){var t,n=e;Object(i.q)(e.touches)||0===e.touches.length||(n=e.touches[0]),t=n.pageX-l.hitOffsetX+1,t=Math.round(t);var r=(t=Math.min(l.props.canvas.width-1,Math.max(0,t)))/l.props.canvas.width,o=(r-l.props.stops[l.props.order[l.props.id-1]].offset)/(l.props.stops[l.props.order[l.props.id]].offset-l.props.stops[l.props.order[l.props.id-1]].offset);r>l.props.stops[l.props.order[l.props.id-1]].offset&&r<l.props.stops[l.props.order[l.props.id]].offset&&l.props.setSwatch({i:l.props.order[l.props.id],swatch:{midpoint:o,positionOfMidpoint:r},assetType:c.g.GRADIENT}),l.currentMarkerMoved=!0})),U(L(l),"getMarkerPosition",(function(e){var t=e;Object(i.q)(e.touches)||0===e.touches.length||(t=e.touches[0]),l.hitOffsetX=t.pageX-l.marker.offsetLeft})),U(L(l),"mouseUp",(function(e){B((a=L(l),H(n.prototype)),"mouseUp",a).call(a,e),l.sendMarkerMoveIngestEvent(),l.setResetButtonState(!1),l.props.setActiveSwatch(-1)})),U(L(l),"touchEnd",(function(e){B((s=L(l),H(n.prototype)),"touchEnd",s).call(s,e),l.sendMarkerMoveIngestEvent(),l.setResetButtonState(!1),l.props.setActiveSwatch(-1)})),l.radius=parseInt(b.a.colorStopRadius,10),l}return function(e,t,n){t&&D(e.prototype,t)}(n,[{key:"paint",value:function(){if(this.props.isCreate&&this.props.order.length>0){this.colorStop=this.props.stops[this.props.order[this.props.id]];var e="".concat(100*this.colorStop.positionOfMidpoint);this.marker.style.left="calc(".concat(e,"% - ").concat(b.a.midpointHeight/2,"px)"),this.marker.style.top="calc(50% - ".concat(b.a.midpointHeight/2,"px)")}}},{key:"componentDidMount",value:function(){this.paint()}},{key:"componentDidUpdate",value:function(){this.paint()}},{key:"sendMarkerMoveIngestEvent",value:function(){var e={workflow:Object(i.e)(c.E),subcategory:"".concat(c.Bb.GRADIENT,"_").concat(c.Bb.MIDPOINT,"_").concat(c.Bb.MARKER)};Object(s.a)(c.zb.MARKER_MOVE,{event:e},[c.Bb.MIDPOINT])}},{key:"children",value:function(){return o.a.createElement("img",{src:P.s,className:v.a.midpointMarker})}}]),n}();F.defaultProps={markerType:c.qb.MIDPOINT};var W=Object(h.b)((function(e){var t=e.create;return{stops:t.swatches,order:t.order}}),(function(e){return Object(d.b)({setSwatch:p.setSwatch,setActiveSwatch:p.setActiveSwatch},e)}))(F);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={gradientRendered:!1},r}return function(e,t,n){t&&V(e.prototype,t)}(n,[{key:"componentDidMount",value:function(){this.canvas.width=this.gradientContainer.offsetWidth,this.canvas.height=this.gradientContainer.offsetHeight,this.setState({gradientRendered:!0})}},{key:"componentWillUnmount",value:function(){this.props.gradientProps.isOneUp&&(this.props.gradientProps.isOneUp=!1)}},{key:"setColorStopsMarkers",value:function(){var e=this,t=[],n=this.props.gradientProps,r=n.isCreate,a=n.isOneUp;return r?Object(i.q)(this.props.order)||this.props.order.length!==this.props.stops.length||this.props.order.forEach((function(n,i){t.push(o.a.createElement(_,{key:i,id:i,canvas:e.canvas,isCreate:r,isOneUp:a,notification:e.props.notification,shouldResetBeDisabled:e.props.shouldResetBeDisabled,drawConnectingLines:e.drawConnectingLines}))})):this.props.stops.forEach((function(n,i){t.push(o.a.createElement(_,{key:i,id:i,canvas:e.canvas,stop:n,themeData:e.props.themeData,isCreate:r,isOneUp:a,notification:e.props.notification}))})),t}},{key:"setMidpointMarkers",value:function(){var e=this,t=[];return Object(i.q)(this.props.order)||this.props.order.length!==this.props.stops.length||this.props.order.forEach((function(n,r){0!==r&&t.push(o.a.createElement(W,{key:r,id:r,canvas:e.canvas,themeData:e.props.themeData,isCreate:e.props.gradientProps.isCreate,shouldResetBeDisabled:e.props.shouldResetBeDisabled}))})),t}},{key:"drawConnectingLine",value:function(){var e=this.canvas.getContext("2d");e.beginPath(),e.moveTo(0,this.canvas.height/2),e.lineTo(this.canvas.width,this.canvas.height/2),e.strokeStyle="#FFFFFF",e.lineWidth=2,e.stroke()}},{key:"render",value:function(){var e=this,t={},n=this.props,r=n.gradientProps,i=n.stops;if("linear"===r.type&&i.length>1){var c=Object(a.b)(i).linearGradientDataRGBA;t.background="linear-gradient(".concat(r.angle+90,"deg, ").concat(c,")")}return o.a.createElement("div",{className:v.a.gradientContainer,ref:function(t){e.gradientContainer=t}},o.a.createElement("canvas",{className:r.isSave?v.a.gradientCanvasSavePanel:v.a.gradientCanvas,style:t,ref:function(t){e.canvas=t}}),(r.isCreate&&!r.isSave||r.isOneUp)&&this.state.gradientRendered&&this.setColorStopsMarkers(),r.isCreate&&!r.isSave&&this.state.gradientRendered&&this.setMidpointMarkers(),r.isCreate&&!r.isSave&&this.state.gradientRendered&&this.drawConnectingLine())}}]),n}();t.a=Y},910:function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return d}));var r=n(1),o=n(897),a=n(3),i={sources:[r.p],criteria:[{main:"libraries"}]};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.db.LAST_MODIFIED,n=config("CCLIBRARIES_ENDPOINT"),o=n.melvilleBasePath,a=n.librariesApi,i=t===r.db.LAST_MODIFIED?r.Sb:r.Zb;return"".concat(o).concat(a,"?start=").concat(e,"&limit=").concat(r.Ub,"&selector=details&orderBy=").concat(i,"&toolkit=none")}function s(e,t){var n=config("CCLIBRARIES_ENDPOINT"),o=n.melvilleBasePath,a=n.librariesApi,i=r.Sb,c="".concat(o).concat(a,"?start=").concat(e,"&limit=").concat(r.Ub,"&orderBy=").concat(i,"&toolkit=none");return t?c:"".concat(c,"&selector=details")}function l(e){var t=config("CCLIBRARIES_ENDPOINT").melvilledomainPath;return"".concat(t).concat(e,"&toolkit=none")}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.db.LAST_MODIFIED;return function(t,n){var i=n().libraries.criteria,s=n().criteriaDataCollection,l=0;Object(a.q)(s[JSON.stringify(i[0])])||(l=s[JSON.stringify(i[0])].cclibrary.startIndex);var u=c(l,e),f=c(l+r.Ub,e);return t(o.m(JSON.stringify(i[0]),u,f))}},f=function(e,t){return function(n,r){var a=r().libraries.criteria;return r().criteriaDataCollection,n(o.i(JSON.stringify(a[0]),e,t))}},p=function(){return function(e,t){var n=t().libraries.criteria,r=t().criteriaDataCollection;return Object(a.q)(r[JSON.stringify(n[0])])?[]:r[JSON.stringify(n[0])].cclibrary.themeList}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return function(t){return t(o.p(r.Tb,e))}},d=function(){return function(e,t){var n=t().libraries.criteria;return e(o.e(JSON.stringify(n[0])))}}},911:function(e,t,n){"use strict";var r=n(1);function o(e,t){this.worker=new Worker(e),this.worker.addEventListener("message",this.onmessage.bind(this)),this.thisThreadPool=t,this.callback=null}function a(e,t){this.threads=[],this.tasks=[];for(var n=0;n<t;n++)this.threads.push(new o(e,this))}o.prototype.run=function(e){this.worker.postMessage(e.task),this.callback=e.callback},o.prototype.onmessage=function(e){this.callback(e.data),this.callback=null,this.thisThreadPool.afterTask(this)},a.prototype.queueTask=function(e){var t={task:e.startMessage,callback:e.onExtractionComplete};this.threads.length>0?this.threads.shift().run(t):this.tasks.push(t)},a.prototype.afterTask=function(e){this.tasks.length>0?e.run(this.tasks.shift()):this.threads.push(e)},a.prototype.clearQueue=function(){this.tasks.length=0};var i=new a("/extract.js",r.Dc);t.a=i},918:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(1),o=n(890),a=n(74),i=n(3);function c(e){return Object(o.b)(e,r.sc)}function s(e){return e.themes=e.files,delete e.files,e}function l(){return{"x-api-key":config("CLIENT_ID"),"x-product":config("STOCK_ENDPOINT").productId}}function u(e){return Object(a.c)(e,l()).then((function(e){return s(e).themes.length>0})).catch((function(e){return!1}))}function f(e,t){return function(n,c){var u=c().criteriaDataCollection;if(!Object(i.q)(u[e])&&!Object(i.y)(u[e].stock.fetchStatus))return n(Object(o.h)(e,r.sc)),Object(a.c)(t.endPoint,l()).then((function(t){var a=s(t);n(Object(o.d)(e,r.sc,a)),n(Object(o.f)(e,r.sc))})).catch((function(t){var a=r.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(a=t.response.status),console.log("error ".concat(t)),n(Object(o.g)(e,r.sc,a))}))}}function p(e,t){return function(t,n){var a={},c=n().criteriaDataCollection;Object(i.q)(c[e])||c[e].stock.fetchStatus===r.h.COMPLETED_SUCCESSFULLY||(a.themes=[],r.J.forEach((function(e){a.themes.push({title:e})})),t(Object(o.d)(e,r.sc,a)),t(Object(o.f)(e,r.sc)))}}},919:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return d}));var r=n(1),o=n(2),a=n(890),i=n(74),c=n(3);function s(e){return Object(a.b)(e,r.i)}function l(e){return e.projects&&(e.themes=e.projects,delete e.projects),e.entities&&(e.themes=e.entities,delete e.entities),e.categories&&(e.themes=[],e.categories.forEach((function(t){r.H.includes(t.label_en)&&e.themes.push(t)})),delete e.categories),e}function u(){return{"x-api-key":config("CLIENT_ID")}}function f(e){return Object(i.c)(e,u()).then((function(e){return l(e).themes.length>0})).catch((function(e){return!1}))}function p(e,t,n){return{type:o.V,payload:n,srcName:t,criteria:e}}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(o,s){var f=s().criteriaDataCollection;return Object(c.q)(f[e])||Object(c.y)(f[e].behance.fetchStatus)?n?Object(i.c)(t.endPoint,u()).then((function(e){var t=l(e);if(t.gallery){var n=s(),a=n.gallery,i=n.galleries;a.criteria.some((function(e){return!(!e.galleryId||e.galleryId!==t.gallery.id||(o(p(JSON.stringify(i.criteria[0]),r.i,t)),0))}))}})).catch((function(t){console.log("error ".concat(t));var n=r.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(n=t.response.status),o(Object(a.g)(e,r.i,n))})):void 0:(o(Object(a.h)(e,r.i)),Object(i.c)(t.endPoint,u()).then((function(t){var n=l(t);if(n.gallery){var i=s(),c=i.gallery,u=i.galleries;c.criteria.some((function(e){return!(!e.galleryId||e.galleryId!==n.gallery.id||(o(p(JSON.stringify(u.criteria[0]),r.i,n)),0))}))}o(Object(a.d)(e,r.i,n)),o(Object(a.f)(e,r.i))})).catch((function(t){console.log("error ".concat(t));var n=r.h.COMPLETED_WITH_GENERIC_ERROR;t.response&&t.response.status&&(n=t.response.status),o(Object(a.g)(e,r.i,n))})))}}function d(e,t){return function(n,o){var s=o().criteriaDataCollection;if(!Object(c.q)(s[e])&&s[e].behance.fetchStatus!==r.h.COMPLETED_SUCCESSFULLY)return n(Object(a.h)(e,r.i)),Object(i.c)(t.endPoint,u()).then((function(t){var o=l(t);n(Object(a.d)(e,r.i,o)),n(Object(a.f)(e,r.i))})).catch((function(t){console.log("error ".concat(t)),n(Object(a.g)(e,r.i,t))}))}}},921:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n(60),c=n(225),s=n.n(c),l=n(736),u=n.n(l),f=n(892),p=n(123),h=n(3),d=n(907),m=n.n(d),b=n(7),y=n(33),v=n(39),g=n(102),O=n(23);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?I(e):t}(this,n)}}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){var t=Object(i.f)(e);return Object.keys(e).forEach((function(n){switch(n){case"hex":Object(p.a)(e)&&(t[n]="".concat(e.hex));break;case"rgb":t[n]="RGB ".concat(t.rgb.r,", ").concat(t.rgb.g,", ").concat(t.rgb.b);break;case"hsv":t[n]="HSV ".concat(t.hsv.h,", ").concat(t.hsv.s,", ").concat(t.hsv.v);break;case"cmyk":t[n]="CMYK ".concat(t.cmyk.c,", ").concat(t.cmyk.m,", ").concat(t.cmyk.y,", ").concat(t.cmyk.k);break;case"lab":t[n]="LAB ".concat(t.lab.l,", ").concat(t.lab.a,", ").concat(t.lab.b);break;default:t[n]=e[n]}})),t},_=function(e){var t=e.swatch,n=e.textColor,r=e.isGradient,a=e.isCreate;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:u.a.colorValues,style:{color:n}},(r||Object(p.a)(t))&&o.a.createElement("div",{className:u.a.colorValue},"#",t.hex),o.a.createElement("div",{className:u.a.colorValue},t.rgb),o.a.createElement("div",{className:u.a.colorValue},t.hsv),o.a.createElement("div",{className:u.a.colorValue},t.cmyk),o.a.createElement("div",{className:u.a.colorValue},t.lab)),r&&a&&o.a.createElement("div",{className:u.a.copyHexContainer,style:{color:n}},o.a.createElement("div",{className:u.a.colorValue},o.a.createElement(m.a,{size:"S",className:u.a.copyIcon}),o.a.createElement(b.a,{styles:{paddingLeft:5},id:"app.oneup.copy"})),o.a.createElement("div",{className:u.a.colorValue},"#",t.hex)))},P=function(e){k(n,r.PureComponent);var t=R(n);function n(){var e;S(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return T(I(e=t.call.apply(t,[this].concat(i))),"onClick",(function(t){return function(){if(e.props.isCreate){var n=M(t).hex,r=Object(h.h)("#".concat(n)),i={workflow:Object(h.e)(e.props.ingestWorkflow[0]),subcategory:"".concat(a.Bb.GRADIENT,"_").concat(a.Bb.IMAGE),value:n},c=a.zb.COPY_HEX;r?(e.props.notification({variant:a.uc,message:o.a.createElement(b.a,{id:"app.oneupactions.toast.success.message"})}),Object(O.a)(c,{event:i},[a.Bb.GRADIENT,a.Bb.IMAGE])):e.props.notification({variant:a.gb,message:o.a.createElement(b.a,{id:"app.oneupactions.toast.error.message"})})}}})),T(I(e),"selectedClass",(function(t){var n=e.props,r=n.assetType,o=n.activeSwatch,i=n.isCreate,c=n.order,s=n.gradientProps,l="";switch(r){case a.g.GRADIENT:l=i&&o===c[t]||!Object(h.q)(s)&&s.isOneUp&&o===t?u.a.themeDetailsCardContainerSelected:i?u.a.gradientDetailsCard:u.a.themeDetailsCard}return l})),e}return C(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.swatches,r=t.isCreate,c=this.props.assetType===a.g.GRADIENT;return o.a.createElement("div",{className:c?[r?u.a.themeDetailsCardContainerOnCreate:u.a.themeDetailsCardContainerOneUp]:u.a.themeDetailsCardContainer},n.map((function(t,n){return o.a.createElement(f.a,E({key:n},t,{onClick:e.onClick(t),className:e.selectedClass(n)}),o.a.createElement(_,{textColor:Object(i.r)(t.rgb)>a.tb.RGB?"".concat(s.a.oneUpThemeDetailsTextColorDark):"".concat(s.a.oneUpThemeDetailsTextColorLight),swatch:M(t),isGradient:c,isCreate:r}))})))}}]),n}(),x=function(e){k(n,r.Component);var t=R(n);function n(){return S(this,n),t.apply(this,arguments)}return C(n,[{key:"render",value:function(){return o.a.createElement(P,E({},this.props.themeData,{closeOneUp:this.props.closeOneUp,activeSwatch:this.props.activeSwatch,notification:this.props.notification,ingestWorkflow:this.props.ingestWorkflow}))}}]),n}(),D=Object(y.b)((function(e){return{activeSwatch:e.create.activeSwatch}}),(function(e){return Object(v.b)({notification:g.a},e)}))(x);t.a=D},922:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),o=n(33),a=n(3),i=n(910),c=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=Object(o.d)((function(e){return e.user.IMSReady})),c=Object(o.d)((function(e){return e.user.isLoggedIn})),s=Object(o.d)((function(e){return e.libraries})),l=Object(o.d)((function(e){return e.create.isEditWorkflow})),u=Object(o.d)((function(e){return e.criteriaDataCollection[JSON.stringify(s.criteria[0])]})),f=Object(o.c)(),p=!Object(a.q)(u)&&Object(a.b)(u.cclibrary.fetchStatus),h=i.g(0,t),d=[],m="";return Object(r.useEffect)((function(){n&&c&&(f(i.h()),l&&f(i.d()))}),[n,c,l]),p&&(d=u.cclibrary.themeList.slice().sort((function(e,t){return new Date(t.editedAt)-new Date(e.editedAt)})),e||(d=d.filter((function(e){return!e.readOnly}))),d=d.map((function(e){return{name:e.name,id:e.id}}))),{libraries:d,haveLibrariesBeenFetched:p,fetchData:function(e,t){if(n&&c)return f(i.c(e,t)).then((function(e){m=e._links&&e._links.next?i.f(e._links.next.href):null;var t=e.themes.map((function(e){return{name:e.name,id:e.library_urn}})),n={};return n.listData=t,n.hrefNext=m,n}))},initialLibFetchUrl:h}}},946:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(33),i=n(920),c=n.n(i),s=n(38),l=n.n(s),u=n(99),f=n.n(u),p=(n(85),n(765)),h=n.n(p),d=n(7),m=n(1);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(n,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?g(e):t}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={libraryName:"",createButtonClicked:!1,cancelClicked:!1},r.checkForEnter=r.checkForEnter.bind(g(r)),r.resetState=r.resetState.bind(g(r)),r.onSubmit=r.onSubmit.bind(g(r)),r}return function(e,t,n){t&&y(e.prototype,t)}(n,[{key:"onSubmit",value:function(){var e=this;this.state.cancelClicked||0===this.state.libraryName.length||(this.props.closeDropDown(),this.props.createLibrary({libraryName:this.state.libraryName}).then((function(t){e.props.setSaveLibrary(t),e.resetState()})))}},{key:"resetState",value:function(){this.setState({libraryName:"",createButtonClicked:!1,cancelClicked:!1})}},{key:"checkForEnter",value:function(e){e.charCode===m.Jb.ENTER&&this.onSubmit()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:h.a.createNewLibrary},o.a.createElement("div",{className:h.a.newLibrary},o.a.createElement(d.a,{id:"app.createnewlibrary.newlibrary"})),o.a.createElement(f.a,{className:h.a.libraryName,placeholder:this.props.intl.formatMessage({id:"app.createnewlibrary.placeholder"}),value:this.state.libraryName,onChange:function(t){return e.setState({libraryName:t})},onKeyPress:function(t){return e.checkForEnter(t)}}),o.a.createElement(l.a,{label:this.props.intl.formatMessage({id:"app.header.create"}),variant:"cta",className:h.a.createButton,onClick:this.onSubmit}))}}]),n}(),E=Object(d.d)(w),S=n(36),j=n.n(S),C=n(88),k=n.n(C),R=n(3),I=n(23),A=n(895),T=n(748),M=n.n(T),_=n(922),P=n(897),x=n(935),D=n(889),N=n(924);function L(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var U=!0;t.a=Object(d.d)((function(e){var t=Object(_.a)(!0,!1),n=t.libraries,i=t.haveLibrariesBeenFetched,s=t.fetchData,u=t.initialLibFetchUrl,f=Object(a.d)((function(e){return e.save.library})),p=Object(a.d)((function(e){return e.user.IMSReady})),h=Object(a.d)((function(e){return e.user.isLoggedIn})),b={},y=Object(a.c)(),v=Object(r.useRef)(),g=function(){v.current.hide()};if(p&&!h)return"";var O=[];return n.forEach((function(e){b[e.id]=e.name})),i&&Object.keys(b).length&&""===f.id&&y(A.f({name:b[Object.keys(b)[0]],id:Object.keys(b)[0]})),O=Object(N.a)({load:function(t){return function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){H(a,r,o,i,c,"next",e)}function c(e){H(a,r,o,i,c,"throw",e)}i(void 0)}))}}(regeneratorRuntime.mark((function n(){var r,o,a,i,c,l,f,p,h,d,m,b;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.signal,o=t.cursor,n.next=3,s(o||u,r);case 3:if(a=n.sent,i=[],!a.listData.length){n.next=45;break}U=!1,c=L(a.listData),n.prev=8,c.s();case 10:if((l=c.n()).done){n.next=34;break}f=l.value,p=!1,h=L(O.items),n.prev=14,h.s();case 16:if((d=h.n()).done){n.next=23;break}if(m=d.value,f.id!==m.id){n.next=21;break}return p=!0,n.abrupt("break",23);case 21:n.next=16;break;case 23:n.next=28;break;case 25:n.prev=25,n.t0=n.catch(14),h.e(n.t0);case 28:return n.prev=28,h.f(),n.finish(28);case 31:p||i.push(f);case 32:n.next=10;break;case 34:n.next=39;break;case 36:n.prev=36,n.t1=n.catch(8),c.e(n.t1);case 39:return n.prev=39,c.f(),n.finish(39);case 42:return n.abrupt("return",{items:i,cursor:a.hrefNext});case 45:if(!U){n.next=52;break}return U=!1,n.next=49,y(P.g({libraryName:e.intl.formatMessage({id:"app.defaultlibraryname.mylibrary"})}));case 49:return(b=n.sent).id=b.id.toLowerCase(),n.abrupt("return",{items:[b],cursor:null});case 52:case"end":return n.stop()}}),n,null,[[8,36,39,42],[14,25,28,31]])})))()}}),o.a.createElement(o.a.Fragment,null,o.a.createElement(x.a,{UNSAFE_className:M.a.picker,isQuiet:!0,"aria-label":o.a.createElement(d.a,{id:"app.savepanel.saveto"}),items:O.items,isLoading:O.isLoading,selectedKey:f.id,onSelectionChange:function(t){return function(t){var n={workflow:Object(R.e)(e.ingestWorkflow[0]),subcategory:m.Bb.LIBRARY_SELECTOR},r=b[t];Object(I.a)(m.zb.LIBRARY_CHANGED,{event:n},e.ingestWorkflow),r&&y(A.f({name:r,id:t})),g()}(t)},onLoadMore:O.loadMore},(function(e){return o.a.createElement(D.a,{key:e.id},e.name)})),o.a.createElement(j.a,{trigger:["click"],placement:"right",className:M.a.dropdownContainer,ref:v},o.a.createElement(l.a,{icon:o.a.createElement(c.a,null),quiet:!0,variant:"primary",className:M.a.button}),o.a.createElement(k.a,{variant:"default",trapFocus:!0},o.a.createElement(E,{closeDropDown:function(){return g()},setSaveLibrary:function(e){return function(e){e.id=e.id.toLowerCase(),y(A.f(e)),O.prepend(e)}(e)},createLibrary:function(e){return y(P.g(e))}}))))}))}}]);